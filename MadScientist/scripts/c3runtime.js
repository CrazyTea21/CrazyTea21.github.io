// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var wa;"use strict";var Ba=this;
function Da(d){function b(k,m,v){var z=m[0],B=m[1],E=m[2];m=m[3];var G=v[0],I=v[1],K=v[2];v=v[3];k[0]=z*G+E*I;k[1]=B*G+m*I;k[2]=z*K+E*v;k[3]=B*K+m*v;return k}function a(k,m,v){k[0]=m[0]-v[0];k[1]=m[1]-v[1];k[2]=m[2]-v[2];k[3]=m[3]-v[3];return k}function f(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=m[4];m=m[5];var K=v[0],N=v[1],Q=v[2],R=v[3],Y=v[4];v=v[5];k[0]=z*K+E*N;k[1]=B*K+G*N;k[2]=z*Q+E*R;k[3]=B*Q+G*R;k[4]=z*Y+E*v+I;k[5]=B*Y+G*v+m;return k}function c(k,m,v){k[0]=m[0]-v[0];k[1]=m[1]-v[1];k[2]=m[2]-
v[2];k[3]=m[3]-v[3];k[4]=m[4]-v[4];k[5]=m[5]-v[5];return k}function e(){var k=new oa(9);oa!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[5]=0,k[6]=0,k[7]=0);k[0]=1;k[4]=1;k[8]=1;return k}function h(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7];m=m[8];var R=v[0],Y=v[1],U=v[2],da=v[3],ca=v[4],Z=v[5],sa=v[6],ma=v[7];v=v[8];k[0]=R*z+Y*G+U*N;k[1]=R*B+Y*I+U*Q;k[2]=R*E+Y*K+U*m;k[3]=da*z+ca*G+Z*N;k[4]=da*B+ca*I+Z*Q;k[5]=da*E+ca*K+Z*m;k[6]=sa*z+ma*G+v*N;k[7]=sa*B+ma*I+v*Q;k[8]=sa*E+ma*K+v*m;
return k}function g(k,m,v){k[0]=m[0]-v[0];k[1]=m[1]-v[1];k[2]=m[2]-v[2];k[3]=m[3]-v[3];k[4]=m[4]-v[4];k[5]=m[5]-v[5];k[6]=m[6]-v[6];k[7]=m[7]-v[7];k[8]=m[8]-v[8];return k}function l(k){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k}function n(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=m[8],Y=m[9],U=m[10],da=m[11],ca=m[12],Z=m[13],sa=m[14];m=m[15];var ma=v[0],qa=v[1],ra=v[2],pa=v[3];k[0]=ma*z+
qa*I+ra*R+pa*ca;k[1]=ma*B+qa*K+ra*Y+pa*Z;k[2]=ma*E+qa*N+ra*U+pa*sa;k[3]=ma*G+qa*Q+ra*da+pa*m;ma=v[4];qa=v[5];ra=v[6];pa=v[7];k[4]=ma*z+qa*I+ra*R+pa*ca;k[5]=ma*B+qa*K+ra*Y+pa*Z;k[6]=ma*E+qa*N+ra*U+pa*sa;k[7]=ma*G+qa*Q+ra*da+pa*m;ma=v[8];qa=v[9];ra=v[10];pa=v[11];k[8]=ma*z+qa*I+ra*R+pa*ca;k[9]=ma*B+qa*K+ra*Y+pa*Z;k[10]=ma*E+qa*N+ra*U+pa*sa;k[11]=ma*G+qa*Q+ra*da+pa*m;ma=v[12];qa=v[13];ra=v[14];pa=v[15];k[12]=ma*z+qa*I+ra*R+pa*ca;k[13]=ma*B+qa*K+ra*Y+pa*Z;k[14]=ma*E+qa*N+ra*U+pa*sa;k[15]=ma*G+qa*Q+ra*
da+pa*m;return k}function p(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=z+z,K=B+B,N=E+E;m=z*I;var Q=z*K;z*=N;var R=B*K;B*=N;E*=N;I*=G;K*=G;G*=N;k[0]=1-(R+E);k[1]=Q+G;k[2]=z-K;k[3]=0;k[4]=Q-G;k[5]=1-(m+E);k[6]=B+I;k[7]=0;k[8]=z+K;k[9]=B-I;k[10]=1-(m+R);k[11]=0;k[12]=v[0];k[13]=v[1];k[14]=v[2];k[15]=1;return k}function q(k,m){k[0]=m[12];k[1]=m[13];k[2]=m[14];return k}function r(k,m){var v=m[4],z=m[5],B=m[6],E=m[8],G=m[9],I=m[10];k[0]=Math.hypot(m[0],m[1],m[2]);k[1]=Math.hypot(v,z,B);k[2]=Math.hypot(E,
G,I);return k}function w(k,m){var v=new oa(3);r(v,m);var z=1/v[0],B=1/v[1],E=1/v[2],G=m[0]*z;v=m[1]*B;var I=m[2]*E,K=m[4]*z,N=m[5]*B,Q=m[6]*E;z*=m[8];B*=m[9];m=m[10]*E;E=G+N+m;0<E?(G=2*Math.sqrt(E+1),k[3]=.25*G,k[0]=(Q-B)/G,k[1]=(z-I)/G,k[2]=(v-K)/G):G>N&&G>m?(G=2*Math.sqrt(1+G-N-m),k[3]=(Q-B)/G,k[0]=.25*G,k[1]=(v+K)/G,k[2]=(z+I)/G):N>m?(G=2*Math.sqrt(1+N-G-m),k[3]=(z-I)/G,k[0]=(v+K)/G,k[1]=.25*G,k[2]=(Q+B)/G):(G=2*Math.sqrt(1+m-G-N),k[3]=(v-K)/G,k[0]=(z+I)/G,k[1]=(Q+B)/G,k[2]=.25*G);return k}function x(k,
m,v){k[0]=m[0]-v[0];k[1]=m[1]-v[1];k[2]=m[2]-v[2];k[3]=m[3]-v[3];k[4]=m[4]-v[4];k[5]=m[5]-v[5];k[6]=m[6]-v[6];k[7]=m[7]-v[7];k[8]=m[8]-v[8];k[9]=m[9]-v[9];k[10]=m[10]-v[10];k[11]=m[11]-v[11];k[12]=m[12]-v[12];k[13]=m[13]-v[13];k[14]=m[14]-v[14];k[15]=m[15]-v[15];return k}function u(){var k=new oa(3);oa!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0);return k}function t(k){return Math.hypot(k[0],k[1],k[2])}function A(k,m,v){var z=new oa(3);z[0]=k;z[1]=m;z[2]=v;return z}function y(k,m,v){k[0]=m[0]-v[0];k[1]=
m[1]-v[1];k[2]=m[2]-v[2];return k}function C(k,m,v){k[0]=m[0]*v[0];k[1]=m[1]*v[1];k[2]=m[2]*v[2];return k}function F(k,m,v){k[0]=m[0]/v[0];k[1]=m[1]/v[1];k[2]=m[2]/v[2];return k}function H(k,m){return Math.hypot(m[0]-k[0],m[1]-k[1],m[2]-k[2])}function J(k,m){var v=m[0]-k[0],z=m[1]-k[1];k=m[2]-k[2];return v*v+z*z+k*k}function M(k){var m=k[0],v=k[1];k=k[2];return m*m+v*v+k*k}function P(k,m){var v=m[0],z=m[1],B=m[2];v=v*v+z*z+B*B;0<v&&(v=1/Math.sqrt(v));k[0]=m[0]*v;k[1]=m[1]*v;k[2]=m[2]*v;return k}function S(k,
m){return k[0]*m[0]+k[1]*m[1]+k[2]*m[2]}function T(k,m,v){var z=m[0],B=m[1];m=m[2];var E=v[0],G=v[1];v=v[2];k[0]=B*v-m*G;k[1]=m*E-z*v;k[2]=z*G-B*E;return k}function V(){var k=new oa(4);oa!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0);return k}function ba(k){var m=new oa(4);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];return m}function ea(k,m,v,z){var B=new oa(4);B[0]=k;B[1]=m;B[2]=v;B[3]=z;return B}function X(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];return k}function na(k,m,v,z,B){k[0]=m;k[1]=v;k[2]=
z;k[3]=B;return k}function ja(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];k[2]=m[2]+v[2];k[3]=m[3]+v[3];return k}function xa(k,m,v){k[0]=m[0]-v[0];k[1]=m[1]-v[1];k[2]=m[2]-v[2];k[3]=m[3]-v[3];return k}function Ja(k,m,v){k[0]=m[0]*v[0];k[1]=m[1]*v[1];k[2]=m[2]*v[2];k[3]=m[3]*v[3];return k}function Va(k,m,v){k[0]=m[0]/v[0];k[1]=m[1]/v[1];k[2]=m[2]/v[2];k[3]=m[3]/v[3];return k}function Na(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;k[2]=m[2]*v;k[3]=m[3]*v;return k}function Wa(k,m){return Math.hypot(m[0]-k[0],m[1]-k[1],
m[2]-k[2],m[3]-k[3])}function Oa(k,m){var v=m[0]-k[0],z=m[1]-k[1],B=m[2]-k[2];k=m[3]-k[3];return v*v+z*z+B*B+k*k}function Ca(k){return Math.hypot(k[0],k[1],k[2],k[3])}function Aa(k){var m=k[0],v=k[1],z=k[2];k=k[3];return m*m+v*v+z*z+k*k}function Ka(k,m){var v=m[0],z=m[1],B=m[2];m=m[3];var E=v*v+z*z+B*B+m*m;0<E&&(E=1/Math.sqrt(E));k[0]=v*E;k[1]=z*E;k[2]=B*E;k[3]=m*E;return k}function Ha(k,m){return k[0]*m[0]+k[1]*m[1]+k[2]*m[2]+k[3]*m[3]}function Xa(k,m,v,z){var B=m[0],E=m[1],G=m[2];m=m[3];k[0]=B+
z*(v[0]-B);k[1]=E+z*(v[1]-E);k[2]=G+z*(v[2]-G);k[3]=m+z*(v[3]-m);return k}function Ya(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]}function Za(k,m){var v=k[0],z=k[1],B=k[2];k=k[3];var E=m[0],G=m[1],I=m[2];m=m[3];return Math.abs(v-E)<=1E-6*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(z-G)<=1E-6*Math.max(1,Math.abs(z),Math.abs(G))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))}function La(){var k=new oa(4);oa!=Float32Array&&
(k[0]=0,k[1]=0,k[2]=0);k[3]=1;return k}function $a(k,m,v){v*=.5;var z=Math.sin(v);k[0]=z*m[0];k[1]=z*m[1];k[2]=z*m[2];k[3]=Math.cos(v);return k}function ab(k,m,v){var z=m[0],B=m[1],E=m[2];m=m[3];var G=v[0],I=v[1],K=v[2];v=v[3];k[0]=z*v+m*G+B*K-E*I;k[1]=B*v+m*I+E*G-z*K;k[2]=E*v+m*K+z*I-B*G;k[3]=m*v-z*G-B*I-E*K;return k}function bb(k,m,v){v*=.5;var z=m[0],B=m[1],E=m[2];m=m[3];var G=Math.sin(v);v=Math.cos(v);k[0]=z*v+m*G;k[1]=B*v+E*G;k[2]=E*v-B*G;k[3]=m*v-z*G;return k}function cb(k,m,v){v*=.5;var z=
m[0],B=m[1],E=m[2];m=m[3];var G=Math.sin(v);v=Math.cos(v);k[0]=z*v-E*G;k[1]=B*v+m*G;k[2]=E*v+z*G;k[3]=m*v-B*G;return k}function db(k,m,v){v*=.5;var z=m[0],B=m[1],E=m[2];m=m[3];var G=Math.sin(v);v=Math.cos(v);k[0]=z*v+B*G;k[1]=B*v-z*G;k[2]=E*v+m*G;k[3]=m*v-E*G;return k}function eb(k,m){var v=m[0],z=m[1],B=m[2],E=Math.sqrt(v*v+z*z+B*B);m=Math.exp(m[3]);var G=0<E?m*Math.sin(E)/E:0;k[0]=v*G;k[1]=z*G;k[2]=B*G;k[3]=m*Math.cos(E);return k}function fb(k,m){var v=m[0],z=m[1],B=m[2];m=m[3];var E=Math.sqrt(v*
v+z*z+B*B);E=0<E?Math.atan2(E,m)/E:0;k[0]=v*E;k[1]=z*E;k[2]=B*E;k[3]=.5*Math.log(v*v+z*z+B*B+m*m);return k}function Ma(k,m,v,z){var B=m[0],E=m[1],G=m[2];m=m[3];var I=v[0],K=v[1],N=v[2];v=v[3];var Q=B*I+E*K+G*N+m*v;0>Q&&(Q=-Q,I=-I,K=-K,N=-N,v=-v);if(1E-6<1-Q){var R=Math.acos(Q);var Y=Math.sin(R);Q=Math.sin((1-z)*R)/Y;z=Math.sin(z*R)/Y}else Q=1-z;k[0]=Q*B+z*I;k[1]=Q*E+z*K;k[2]=Q*G+z*N;k[3]=Q*m+z*v;return k}function gb(k,m){var v=m[0]+m[4]+m[8];if(0<v)v=Math.sqrt(v+1),k[3]=.5*v,v=.5/v,k[0]=(m[5]-m[7])*
v,k[1]=(m[6]-m[2])*v,k[2]=(m[1]-m[3])*v;else{var z=0;m[4]>m[0]&&(z=1);m[8]>m[3*z+z]&&(z=2);var B=(z+1)%3,E=(z+2)%3;v=Math.sqrt(m[3*z+z]-m[3*B+B]-m[3*E+E]+1);k[z]=.5*v;v=.5/v;k[3]=(m[3*B+E]-m[3*E+B])*v;k[B]=(m[3*B+z]+m[3*z+B])*v;k[E]=(m[3*E+z]+m[3*z+E])*v}return k}function hb(k,m,v){var z=.5*v[0],B=.5*v[1];v=.5*v[2];var E=m[0],G=m[1],I=m[2];m=m[3];k[0]=E;k[1]=G;k[2]=I;k[3]=m;k[4]=z*m+B*I-v*G;k[5]=B*m+v*E-z*I;k[6]=v*m+z*G-B*E;k[7]=-z*E-B*G-v*I;return k}function ib(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];
k[3]=m[3];k[4]=m[4];k[5]=m[5];k[6]=m[6];k[7]=m[7];return k}function jb(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=v[4],K=v[5],N=v[6],Q=v[7],R=m[4],Y=m[5],U=m[6];m=m[7];var da=v[0],ca=v[1],Z=v[2];v=v[3];k[0]=z*v+G*da+B*Z-E*ca;k[1]=B*v+G*ca+E*da-z*Z;k[2]=E*v+G*Z+z*ca-B*da;k[3]=G*v-z*da-B*ca-E*Z;k[4]=z*Q+G*I+B*N-E*K+R*v+m*da+Y*Z-U*ca;k[5]=B*Q+G*K+E*I-z*N+Y*v+m*ca+U*da-R*Z;k[6]=E*Q+G*N+z*K-B*I+U*v+m*Z+R*ca-Y*da;k[7]=G*Q-z*I-B*K-E*N+m*v-R*da-Y*ca-U*Z;return k}function kb(){var k=new oa(2);oa!=Float32Array&&
(k[0]=0,k[1]=0);return k}function lb(k,m,v){k[0]=m[0]-v[0];k[1]=m[1]-v[1];return k}function mb(k,m,v){k[0]=m[0]*v[0];k[1]=m[1]*v[1];return k}function nb(k,m,v){k[0]=m[0]/v[0];k[1]=m[1]/v[1];return k}function ob(k,m){return Math.hypot(m[0]-k[0],m[1]-k[1])}function pb(k,m){var v=m[0]-k[0];k=m[1]-k[1];return v*v+k*k}function qb(k){return Math.hypot(k[0],k[1])}function rb(k){var m=k[0];k=k[1];return m*m+k*k}var oa="undefined"!==typeof Float32Array?Float32Array:Array,ya=Math.random,vb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var k=0,m=arguments.length;m--;)k+=arguments[m]*arguments[m];return Math.sqrt(k)});var wb=Object.freeze({__proto__:null,EPSILON:1E-6,get xma(){return oa},ova:ya,XCa:function(k){oa=k},fDa:function(k){return k*vb},xd:function(k,m){return Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))}}),xb=Object.freeze({__proto__:null,create:function(){var k=new oa(4);oa!=Float32Array&&(k[1]=0,k[2]=0);k[0]=1;k[3]=1;return k},clone:function(k){var m=new oa(4);m[0]=k[0];m[1]=k[1];
m[2]=k[2];m[3]=k[3];return m},Na:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];return k},cA:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k},Eg:function(k,m,v,z){var B=new oa(4);B[0]=k;B[1]=m;B[2]=v;B[3]=z;return B},set:function(k,m,v,z,B){k[0]=m;k[1]=v;k[2]=z;k[3]=B;return k},B_:function(k,m){if(k===m){var v=m[1];k[1]=m[2];k[2]=v}else k[0]=m[0],k[1]=m[2],k[2]=m[1],k[3]=m[3];return k},Nv:function(k,m){var v=m[0],z=m[1],B=m[2];m=m[3];var E=v*m-B*z;if(!E)return null;E=1/E;k[0]=m*E;k[1]=-z*
E;k[2]=-B*E;k[3]=v*E;return k},IZ:function(k,m){var v=m[0];k[0]=m[3];k[1]=-m[1];k[2]=-m[2];k[3]=v;return k},bO:function(k){return k[0]*k[3]-k[2]*k[1]},multiply:b,rotate:function(k,m,v){var z=m[0],B=m[1],E=m[2];m=m[3];var G=Math.sin(v);v=Math.cos(v);k[0]=z*v+E*G;k[1]=B*v+m*G;k[2]=z*-G+E*v;k[3]=B*-G+m*v;return k},scale:function(k,m,v){var z=m[1],B=m[2],E=m[3],G=v[0];v=v[1];k[0]=m[0]*G;k[1]=z*G;k[2]=B*v;k[3]=E*v;return k},SF:function(k,m){var v=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=v;k[2]=-v;k[3]=m;
return k},fO:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=m[1];return k},$n:function(k){return"mat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},eO:function(k){return Math.hypot(k[0],k[1],k[2],k[3])},Ssa:function(k,m,v,z){k[2]=z[2]/z[0];v[0]=z[0];v[1]=z[1];v[3]=z[3]-k[2]*v[1];return[k,m,v]},add:function(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];k[2]=m[2]+v[2];k[3]=m[3]+v[3];return k},ao:a,Kk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]},xd:function(k,m){var v=k[0],z=k[1],B=k[2];k=
k[3];var E=m[0],G=m[1],I=m[2];m=m[3];return Math.abs(v-E)<=1E-6*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(z-G)<=1E-6*Math.max(1,Math.abs(z),Math.abs(G))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},uO:function(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;k[2]=m[2]*v;k[3]=m[3]*v;return k},vO:function(k,m,v,z){k[0]=m[0]+v[0]*z;k[1]=m[1]+v[1]*z;k[2]=m[2]+v[2]*z;k[3]=m[3]+v[3]*z;return k},jq:b,sub:a}),yb=Object.freeze({__proto__:null,create:function(){var k=
new oa(6);oa!=Float32Array&&(k[1]=0,k[2]=0,k[4]=0,k[5]=0);k[0]=1;k[3]=1;return k},clone:function(k){var m=new oa(6);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];return m},Na:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=m[4];k[5]=m[5];return k},cA:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;k[4]=0;k[5]=0;return k},Eg:function(k,m,v,z,B,E){var G=new oa(6);G[0]=k;G[1]=m;G[2]=v;G[3]=z;G[4]=B;G[5]=E;return G},set:function(k,m,v,z,B,E,G){k[0]=m;k[1]=v;k[2]=z;k[3]=B;k[4]=E;k[5]=
G;return k},Nv:function(k,m){var v=m[0],z=m[1],B=m[2],E=m[3],G=m[4];m=m[5];var I=v*E-z*B;if(!I)return null;I=1/I;k[0]=E*I;k[1]=-z*I;k[2]=-B*I;k[3]=v*I;k[4]=(B*m-E*G)*I;k[5]=(z*G-v*m)*I;return k},bO:function(k){return k[0]*k[3]-k[1]*k[2]},multiply:f,rotate:function(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=m[4];m=m[5];var K=Math.sin(v);v=Math.cos(v);k[0]=z*v+E*K;k[1]=B*v+G*K;k[2]=z*-K+E*v;k[3]=B*-K+G*v;k[4]=I;k[5]=m;return k},scale:function(k,m,v){var z=m[1],B=m[2],E=m[3],G=m[4],I=m[5],K=v[0];v=v[1];
k[0]=m[0]*K;k[1]=z*K;k[2]=B*v;k[3]=E*v;k[4]=G;k[5]=I;return k},translate:function(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=m[4];m=m[5];var K=v[0];v=v[1];k[0]=z;k[1]=B;k[2]=E;k[3]=G;k[4]=z*K+E*v+I;k[5]=B*K+G*v+m;return k},SF:function(k,m){var v=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=v;k[2]=-v;k[3]=m;k[4]=0;k[5]=0;return k},fO:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=m[1];k[4]=0;k[5]=0;return k},gO:function(k,m){k[0]=1;k[1]=0;k[2]=0;k[3]=1;k[4]=m[0];k[5]=m[1];return k},$n:function(k){return"mat2d("+
k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+")"},eO:function(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],1)},add:function(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];k[2]=m[2]+v[2];k[3]=m[3]+v[3];k[4]=m[4]+v[4];k[5]=m[5]+v[5];return k},ao:c,uO:function(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;k[2]=m[2]*v;k[3]=m[3]*v;k[4]=m[4]*v;k[5]=m[5]*v;return k},vO:function(k,m,v,z){k[0]=m[0]+v[0]*z;k[1]=m[1]+v[1]*z;k[2]=m[2]+v[2]*z;k[3]=m[3]+v[3]*z;k[4]=m[4]+v[4]*z;k[5]=m[5]+v[5]*z;return k},Kk:function(k,m){return k[0]===
m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]&&k[4]===m[4]&&k[5]===m[5]},xd:function(k,m){var v=k[0],z=k[1],B=k[2],E=k[3],G=k[4];k=k[5];var I=m[0],K=m[1],N=m[2],Q=m[3],R=m[4];m=m[5];return Math.abs(v-I)<=1E-6*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(z-K)<=1E-6*Math.max(1,Math.abs(z),Math.abs(K))&&Math.abs(B-N)<=1E-6*Math.max(1,Math.abs(B),Math.abs(N))&&Math.abs(E-Q)<=1E-6*Math.max(1,Math.abs(E),Math.abs(Q))&&Math.abs(G-R)<=1E-6*Math.max(1,Math.abs(G),Math.abs(R))&&Math.abs(k-m)<=1E-6*Math.max(1,
Math.abs(k),Math.abs(m))},jq:f,sub:c}),zb=Object.freeze({__proto__:null,create:e,Mka:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[4];k[4]=m[5];k[5]=m[6];k[6]=m[8];k[7]=m[9];k[8]=m[10];return k},clone:function(k){var m=new oa(9);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];m[6]=k[6];m[7]=k[7];m[8]=k[8];return m},Na:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=m[4];k[5]=m[5];k[6]=m[6];k[7]=m[7];k[8]=m[8];return k},Eg:function(k,m,v,z,B,E,G,I,K){var N=new oa(9);N[0]=
k;N[1]=m;N[2]=v;N[3]=z;N[4]=B;N[5]=E;N[6]=G;N[7]=I;N[8]=K;return N},set:function(k,m,v,z,B,E,G,I,K,N){k[0]=m;k[1]=v;k[2]=z;k[3]=B;k[4]=E;k[5]=G;k[6]=I;k[7]=K;k[8]=N;return k},cA:function(k){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=1;k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},B_:function(k,m){if(k===m){var v=m[1],z=m[2],B=m[5];k[1]=m[3];k[2]=m[6];k[3]=v;k[5]=m[7];k[6]=z;k[7]=B}else k[0]=m[0],k[1]=m[3],k[2]=m[6],k[3]=m[1],k[4]=m[4],k[5]=m[7],k[6]=m[2],k[7]=m[5],k[8]=m[8];return k},Nv:function(k,m){var v=m[0],z=
m[1],B=m[2],E=m[3],G=m[4],I=m[5],K=m[6],N=m[7];m=m[8];var Q=m*G-I*N,R=-m*E+I*K,Y=N*E-G*K,U=v*Q+z*R+B*Y;if(!U)return null;U=1/U;k[0]=Q*U;k[1]=(-m*z+B*N)*U;k[2]=(I*z-B*G)*U;k[3]=R*U;k[4]=(m*v-B*K)*U;k[5]=(-I*v+B*E)*U;k[6]=Y*U;k[7]=(-N*v+z*K)*U;k[8]=(G*v-z*E)*U;return k},IZ:function(k,m){var v=m[0],z=m[1],B=m[2],E=m[3],G=m[4],I=m[5],K=m[6],N=m[7];m=m[8];k[0]=G*m-I*N;k[1]=B*N-z*m;k[2]=z*I-B*G;k[3]=I*K-E*m;k[4]=v*m-B*K;k[5]=B*E-v*I;k[6]=E*N-G*K;k[7]=z*K-v*N;k[8]=v*G-z*E;return k},bO:function(k){var m=
k[3],v=k[4],z=k[5],B=k[6],E=k[7],G=k[8];return k[0]*(G*v-z*E)+k[1]*(-G*m+z*B)+k[2]*(E*m-v*B)},multiply:h,translate:function(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7];m=m[8];var R=v[0];v=v[1];k[0]=z;k[1]=B;k[2]=E;k[3]=G;k[4]=I;k[5]=K;k[6]=R*z+v*G+N;k[7]=R*B+v*I+Q;k[8]=R*E+v*K+m;return k},rotate:function(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7];m=m[8];var R=Math.sin(v);v=Math.cos(v);k[0]=v*z+R*G;k[1]=v*B+R*I;k[2]=v*E+R*K;k[3]=v*G-R*z;k[4]=v*I-R*B;k[5]=
v*K-R*E;k[6]=N;k[7]=Q;k[8]=m;return k},scale:function(k,m,v){var z=v[0];v=v[1];k[0]=z*m[0];k[1]=z*m[1];k[2]=z*m[2];k[3]=v*m[3];k[4]=v*m[4];k[5]=v*m[5];k[6]=m[6];k[7]=m[7];k[8]=m[8];return k},gO:function(k,m){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=1;k[5]=0;k[6]=m[0];k[7]=m[1];k[8]=1;return k},SF:function(k,m){var v=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=v;k[2]=0;k[3]=-v;k[4]=m;k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},fO:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=0;k[4]=m[1];k[5]=0;k[6]=0;k[7]=0;k[8]=1;return k},
cBa:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=0;k[3]=m[2];k[4]=m[3];k[5]=0;k[6]=m[4];k[7]=m[5];k[8]=1;return k},Nka:function(k,m){var v=m[0],z=m[1],B=m[2];m=m[3];var E=v+v,G=z+z,I=B+B;v*=E;var K=z*E;z*=G;var N=B*E,Q=B*G;B*=I;E*=m;G*=m;m*=I;k[0]=1-z-B;k[3]=K-m;k[6]=N+G;k[1]=K+m;k[4]=1-v-B;k[7]=Q-E;k[2]=N-G;k[5]=Q+E;k[8]=1-v-z;return k},hCa:function(k,m){var v=m[0],z=m[1],B=m[2],E=m[3],G=m[4],I=m[5],K=m[6],N=m[7],Q=m[8],R=m[9],Y=m[10],U=m[11],da=m[12],ca=m[13],Z=m[14];m=m[15];var sa=v*I-z*G,ma=v*K-B*G,
qa=v*N-E*G,ra=z*K-B*I,pa=z*N-E*I,L=B*N-E*K,O=Q*ca-R*da,W=Q*Z-Y*da;Q=Q*m-U*da;var aa=R*Z-Y*ca;R=R*m-U*ca;Y=Y*m-U*Z;U=sa*Y-ma*R+qa*aa+ra*Q-pa*W+L*O;if(!U)return null;U=1/U;k[0]=(I*Y-K*R+N*aa)*U;k[1]=(K*Q-G*Y-N*W)*U;k[2]=(G*R-I*Q+N*O)*U;k[3]=(B*R-z*Y-E*aa)*U;k[4]=(v*Y-B*Q+E*W)*U;k[5]=(z*Q-v*R-E*O)*U;k[6]=(ca*L-Z*pa+m*ra)*U;k[7]=(Z*qa-da*L-m*ma)*U;k[8]=(da*pa-ca*qa+m*sa)*U;return k},sCa:function(k,m,v){k[0]=2/m;k[1]=0;k[2]=0;k[3]=0;k[4]=-2/v;k[5]=0;k[6]=-1;k[7]=1;k[8]=1;return k},$n:function(k){return"mat3("+
k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+")"},eO:function(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8])},add:function(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];k[2]=m[2]+v[2];k[3]=m[3]+v[3];k[4]=m[4]+v[4];k[5]=m[5]+v[5];k[6]=m[6]+v[6];k[7]=m[7]+v[7];k[8]=m[8]+v[8];return k},ao:g,uO:function(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;k[2]=m[2]*v;k[3]=m[3]*v;k[4]=m[4]*v;k[5]=m[5]*v;k[6]=m[6]*v;k[7]=m[7]*v;k[8]=m[8]*v;return k},vO:function(k,m,v,z){k[0]=
m[0]+v[0]*z;k[1]=m[1]+v[1]*z;k[2]=m[2]+v[2]*z;k[3]=m[3]+v[3]*z;k[4]=m[4]+v[4]*z;k[5]=m[5]+v[5]*z;k[6]=m[6]+v[6]*z;k[7]=m[7]+v[7]*z;k[8]=m[8]+v[8]*z;return k},Kk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]&&k[4]===m[4]&&k[5]===m[5]&&k[6]===m[6]&&k[7]===m[7]&&k[8]===m[8]},xd:function(k,m){var v=k[0],z=k[1],B=k[2],E=k[3],G=k[4],I=k[5],K=k[6],N=k[7];k=k[8];var Q=m[0],R=m[1],Y=m[2],U=m[3],da=m[4],ca=m[5],Z=m[6],sa=m[7];m=m[8];return Math.abs(v-Q)<=1E-6*Math.max(1,Math.abs(v),
Math.abs(Q))&&Math.abs(z-R)<=1E-6*Math.max(1,Math.abs(z),Math.abs(R))&&Math.abs(B-Y)<=1E-6*Math.max(1,Math.abs(B),Math.abs(Y))&&Math.abs(E-U)<=1E-6*Math.max(1,Math.abs(E),Math.abs(U))&&Math.abs(G-da)<=1E-6*Math.max(1,Math.abs(G),Math.abs(da))&&Math.abs(I-ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ca))&&Math.abs(K-Z)<=1E-6*Math.max(1,Math.abs(K),Math.abs(Z))&&Math.abs(N-sa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(sa))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},jq:h,sub:g}),Ab=Object.freeze({__proto__:null,
create:function(){var k=new oa(16);oa!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=0,k[12]=0,k[13]=0,k[14]=0);k[0]=1;k[5]=1;k[10]=1;k[15]=1;return k},clone:function(k){var m=new oa(16);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];m[6]=k[6];m[7]=k[7];m[8]=k[8];m[9]=k[9];m[10]=k[10];m[11]=k[11];m[12]=k[12];m[13]=k[13];m[14]=k[14];m[15]=k[15];return m},Na:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=m[4];k[5]=m[5];k[6]=m[6];k[7]=m[7];k[8]=
m[8];k[9]=m[9];k[10]=m[10];k[11]=m[11];k[12]=m[12];k[13]=m[13];k[14]=m[14];k[15]=m[15];return k},Eg:function(k,m,v,z,B,E,G,I,K,N,Q,R,Y,U,da,ca){var Z=new oa(16);Z[0]=k;Z[1]=m;Z[2]=v;Z[3]=z;Z[4]=B;Z[5]=E;Z[6]=G;Z[7]=I;Z[8]=K;Z[9]=N;Z[10]=Q;Z[11]=R;Z[12]=Y;Z[13]=U;Z[14]=da;Z[15]=ca;return Z},set:function(k,m,v,z,B,E,G,I,K,N,Q,R,Y,U,da,ca,Z){k[0]=m;k[1]=v;k[2]=z;k[3]=B;k[4]=E;k[5]=G;k[6]=I;k[7]=K;k[8]=N;k[9]=Q;k[10]=R;k[11]=Y;k[12]=U;k[13]=da;k[14]=ca;k[15]=Z;return k},cA:l,B_:function(k,m){if(k===m){var v=
m[1],z=m[2],B=m[3],E=m[6],G=m[7],I=m[11];k[1]=m[4];k[2]=m[8];k[3]=m[12];k[4]=v;k[6]=m[9];k[7]=m[13];k[8]=z;k[9]=E;k[11]=m[14];k[12]=B;k[13]=G;k[14]=I}else k[0]=m[0],k[1]=m[4],k[2]=m[8],k[3]=m[12],k[4]=m[1],k[5]=m[5],k[6]=m[9],k[7]=m[13],k[8]=m[2],k[9]=m[6],k[10]=m[10],k[11]=m[14],k[12]=m[3],k[13]=m[7],k[14]=m[11],k[15]=m[15];return k},Nv:function(k,m){var v=m[0],z=m[1],B=m[2],E=m[3],G=m[4],I=m[5],K=m[6],N=m[7],Q=m[8],R=m[9],Y=m[10],U=m[11],da=m[12],ca=m[13],Z=m[14];m=m[15];var sa=v*I-z*G,ma=v*K-B*
G,qa=v*N-E*G,ra=z*K-B*I,pa=z*N-E*I,L=B*N-E*K,O=Q*ca-R*da,W=Q*Z-Y*da,aa=Q*m-U*da,fa=R*Z-Y*ca,ha=R*m-U*ca,ia=Y*m-U*Z,ka=sa*ia-ma*ha+qa*fa+ra*aa-pa*W+L*O;if(!ka)return null;ka=1/ka;k[0]=(I*ia-K*ha+N*fa)*ka;k[1]=(B*ha-z*ia-E*fa)*ka;k[2]=(ca*L-Z*pa+m*ra)*ka;k[3]=(Y*pa-R*L-U*ra)*ka;k[4]=(K*aa-G*ia-N*W)*ka;k[5]=(v*ia-B*aa+E*W)*ka;k[6]=(Z*qa-da*L-m*ma)*ka;k[7]=(Q*L-Y*qa+U*ma)*ka;k[8]=(G*ha-I*aa+N*O)*ka;k[9]=(z*aa-v*ha-E*O)*ka;k[10]=(da*pa-ca*qa+m*sa)*ka;k[11]=(R*qa-Q*pa-U*sa)*ka;k[12]=(I*W-G*fa-K*O)*ka;k[13]=
(v*fa-z*W+B*O)*ka;k[14]=(ca*ma-da*ra-Z*sa)*ka;k[15]=(Q*ra-R*ma+Y*sa)*ka;return k},IZ:function(k,m){var v=m[0],z=m[1],B=m[2],E=m[3],G=m[4],I=m[5],K=m[6],N=m[7],Q=m[8],R=m[9],Y=m[10],U=m[11],da=m[12],ca=m[13],Z=m[14];m=m[15];k[0]=I*(Y*m-U*Z)-R*(K*m-N*Z)+ca*(K*U-N*Y);k[1]=-(z*(Y*m-U*Z)-R*(B*m-E*Z)+ca*(B*U-E*Y));k[2]=z*(K*m-N*Z)-I*(B*m-E*Z)+ca*(B*N-E*K);k[3]=-(z*(K*U-N*Y)-I*(B*U-E*Y)+R*(B*N-E*K));k[4]=-(G*(Y*m-U*Z)-Q*(K*m-N*Z)+da*(K*U-N*Y));k[5]=v*(Y*m-U*Z)-Q*(B*m-E*Z)+da*(B*U-E*Y);k[6]=-(v*(K*m-N*Z)-
G*(B*m-E*Z)+da*(B*N-E*K));k[7]=v*(K*U-N*Y)-G*(B*U-E*Y)+Q*(B*N-E*K);k[8]=G*(R*m-U*ca)-Q*(I*m-N*ca)+da*(I*U-N*R);k[9]=-(v*(R*m-U*ca)-Q*(z*m-E*ca)+da*(z*U-E*R));k[10]=v*(I*m-N*ca)-G*(z*m-E*ca)+da*(z*N-E*I);k[11]=-(v*(I*U-N*R)-G*(z*U-E*R)+Q*(z*N-E*I));k[12]=-(G*(R*Z-Y*ca)-Q*(I*Z-K*ca)+da*(I*Y-K*R));k[13]=v*(R*Z-Y*ca)-Q*(z*Z-B*ca)+da*(z*Y-B*R);k[14]=-(v*(I*Z-K*ca)-G*(z*Z-B*ca)+da*(z*K-B*I));k[15]=v*(I*Y-K*R)-G*(z*Y-B*R)+Q*(z*K-B*I);return k},bO:function(k){var m=k[0],v=k[1],z=k[2],B=k[3],E=k[4],G=k[5],
I=k[6],K=k[7],N=k[8],Q=k[9],R=k[10],Y=k[11],U=k[12],da=k[13],ca=k[14];k=k[15];return(m*G-v*E)*(R*k-Y*ca)-(m*I-z*E)*(Q*k-Y*da)+(m*K-B*E)*(Q*ca-R*da)+(v*I-z*G)*(N*k-Y*U)-(v*K-B*G)*(N*ca-R*U)+(z*K-B*I)*(N*da-Q*U)},multiply:n,translate:function(k,m,v){var z=v[0],B=v[1];v=v[2];if(m===k)k[12]=m[0]*z+m[4]*B+m[8]*v+m[12],k[13]=m[1]*z+m[5]*B+m[9]*v+m[13],k[14]=m[2]*z+m[6]*B+m[10]*v+m[14],k[15]=m[3]*z+m[7]*B+m[11]*v+m[15];else{var E=m[0];var G=m[1];var I=m[2];var K=m[3];var N=m[4];var Q=m[5];var R=m[6];var Y=
m[7];var U=m[8];var da=m[9];var ca=m[10];var Z=m[11];k[0]=E;k[1]=G;k[2]=I;k[3]=K;k[4]=N;k[5]=Q;k[6]=R;k[7]=Y;k[8]=U;k[9]=da;k[10]=ca;k[11]=Z;k[12]=E*z+N*B+U*v+m[12];k[13]=G*z+Q*B+da*v+m[13];k[14]=I*z+R*B+ca*v+m[14];k[15]=K*z+Y*B+Z*v+m[15]}return k},scale:function(k,m,v){var z=v[0],B=v[1];v=v[2];k[0]=m[0]*z;k[1]=m[1]*z;k[2]=m[2]*z;k[3]=m[3]*z;k[4]=m[4]*B;k[5]=m[5]*B;k[6]=m[6]*B;k[7]=m[7]*B;k[8]=m[8]*v;k[9]=m[9]*v;k[10]=m[10]*v;k[11]=m[11]*v;k[12]=m[12];k[13]=m[13];k[14]=m[14];k[15]=m[15];return k},
rotate:function(k,m,v,z){var B=z[0],E=z[1];z=z[2];var G=Math.hypot(B,E,z);if(1E-6>G)return null;G=1/G;B*=G;E*=G;z*=G;var I=Math.sin(v);var K=Math.cos(v);var N=1-K;v=m[0];G=m[1];var Q=m[2];var R=m[3];var Y=m[4];var U=m[5];var da=m[6];var ca=m[7];var Z=m[8];var sa=m[9];var ma=m[10];var qa=m[11];var ra=B*B*N+K;var pa=E*B*N+z*I;var L=z*B*N-E*I;var O=B*E*N-z*I;var W=E*E*N+K;var aa=z*E*N+B*I;var fa=B*z*N+E*I;B=E*z*N-B*I;E=z*z*N+K;k[0]=v*ra+Y*pa+Z*L;k[1]=G*ra+U*pa+sa*L;k[2]=Q*ra+da*pa+ma*L;k[3]=R*ra+ca*
pa+qa*L;k[4]=v*O+Y*W+Z*aa;k[5]=G*O+U*W+sa*aa;k[6]=Q*O+da*W+ma*aa;k[7]=R*O+ca*W+qa*aa;k[8]=v*fa+Y*B+Z*E;k[9]=G*fa+U*B+sa*E;k[10]=Q*fa+da*B+ma*E;k[11]=R*fa+ca*B+qa*E;m!==k&&(k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);return k},JO:function(k,m,v){var z=Math.sin(v);v=Math.cos(v);var B=m[4],E=m[5],G=m[6],I=m[7],K=m[8],N=m[9],Q=m[10],R=m[11];m!==k&&(k[0]=m[0],k[1]=m[1],k[2]=m[2],k[3]=m[3],k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);k[4]=B*v+K*z;k[5]=E*v+N*z;k[6]=G*v+Q*z;k[7]=I*v+R*z;k[8]=K*v-
B*z;k[9]=N*v-E*z;k[10]=Q*v-G*z;k[11]=R*v-I*z;return k},KO:function(k,m,v){var z=Math.sin(v);v=Math.cos(v);var B=m[0],E=m[1],G=m[2],I=m[3],K=m[8],N=m[9],Q=m[10],R=m[11];m!==k&&(k[4]=m[4],k[5]=m[5],k[6]=m[6],k[7]=m[7],k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);k[0]=B*v-K*z;k[1]=E*v-N*z;k[2]=G*v-Q*z;k[3]=I*v-R*z;k[8]=B*z+K*v;k[9]=E*z+N*v;k[10]=G*z+Q*v;k[11]=I*z+R*v;return k},LO:function(k,m,v){var z=Math.sin(v);v=Math.cos(v);var B=m[0],E=m[1],G=m[2],I=m[3],K=m[4],N=m[5],Q=m[6],R=m[7];m!==k&&(k[8]=
m[8],k[9]=m[9],k[10]=m[10],k[11]=m[11],k[12]=m[12],k[13]=m[13],k[14]=m[14],k[15]=m[15]);k[0]=B*v+K*z;k[1]=E*v+N*z;k[2]=G*v+Q*z;k[3]=I*v+R*z;k[4]=K*v-B*z;k[5]=N*v-E*z;k[6]=Q*v-G*z;k[7]=R*v-I*z;return k},gO:function(k,m){k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=m[0];k[13]=m[1];k[14]=m[2];k[15]=1;return k},fO:function(k,m){k[0]=m[0];k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=m[1];k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=m[2];k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},
SF:function(k,m,v){var z=v[0],B=v[1];v=v[2];var E=Math.hypot(z,B,v);if(1E-6>E)return null;E=1/E;z*=E;B*=E;v*=E;E=Math.sin(m);m=Math.cos(m);var G=1-m;k[0]=z*z*G+m;k[1]=B*z*G+v*E;k[2]=v*z*G-B*E;k[3]=0;k[4]=z*B*G-v*E;k[5]=B*B*G+m;k[6]=v*B*G+z*E;k[7]=0;k[8]=z*v*G+B*E;k[9]=B*v*G-z*E;k[10]=v*v*G+m;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},iBa:function(k,m){var v=Math.sin(m);m=Math.cos(m);k[0]=1;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=m;k[6]=v;k[7]=0;k[8]=0;k[9]=-v;k[10]=m;k[11]=0;k[12]=0;k[13]=0;k[14]=
0;k[15]=1;return k},jBa:function(k,m){var v=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=0;k[2]=-v;k[3]=0;k[4]=0;k[5]=1;k[6]=0;k[7]=0;k[8]=v;k[9]=0;k[10]=m;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},kBa:function(k,m){var v=Math.sin(m);m=Math.cos(m);k[0]=m;k[1]=v;k[2]=0;k[3]=0;k[4]=-v;k[5]=m;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=1;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},Oka:p,eBa:function(k,m){var v=new oa(3),z=-m[0],B=-m[1],E=-m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=z*z+B*B+E*E+G*G;0<R?(v[0]=
2*(I*G+Q*z+K*E-N*B)/R,v[1]=2*(K*G+Q*B+N*z-I*E)/R,v[2]=2*(N*G+Q*E+I*B-K*z)/R):(v[0]=2*(I*G+Q*z+K*E-N*B),v[1]=2*(K*G+Q*B+N*z-I*E),v[2]=2*(N*G+Q*E+I*B-K*z));p(k,m,v);return k},Ska:q,vBa:r,uBa:w,fBa:function(k,m,v,z){var B=m[0],E=m[1],G=m[2],I=m[3],K=B+B,N=E+E,Q=G+G;m=B*K;var R=B*N;B*=Q;var Y=E*N;E*=Q;G*=Q;K*=I;N*=I;I*=Q;Q=z[0];var U=z[1];z=z[2];k[0]=(1-(Y+G))*Q;k[1]=(R+I)*Q;k[2]=(B-N)*Q;k[3]=0;k[4]=(R-I)*U;k[5]=(1-(m+G))*U;k[6]=(E+K)*U;k[7]=0;k[8]=(B+N)*z;k[9]=(E-K)*z;k[10]=(1-(m+Y))*z;k[11]=0;k[12]=
v[0];k[13]=v[1];k[14]=v[2];k[15]=1;return k},gBa:function(k,m,v,z,B){var E=m[0],G=m[1],I=m[2],K=m[3],N=E+E,Q=G+G,R=I+I;m=E*N;var Y=E*Q,U=E*R;E=G*Q;G*=R;var da=I*R;I=K*N;Q*=K;var ca=K*R,Z=z[0],sa=z[1];R=z[2];z=B[0];K=B[1];B=B[2];N=(1-(E+da))*Z;var ma=(Y+ca)*Z;Z*=U-Q;Y=(Y-ca)*sa;da=(1-(m+da))*sa;sa*=G+I;U=(U+Q)*R;G=(G-I)*R;m=(1-(m+E))*R;k[0]=N;k[1]=ma;k[2]=Z;k[3]=0;k[4]=Y;k[5]=da;k[6]=sa;k[7]=0;k[8]=U;k[9]=G;k[10]=m;k[11]=0;k[12]=v[0]+z-(N*z+Y*K+U*B);k[13]=v[1]+K-(ma*z+da*K+G*B);k[14]=v[2]+B-(Z*z+sa*
K+m*B);k[15]=1;return k},Nka:function(k,m){var v=m[0],z=m[1],B=m[2];m=m[3];var E=v+v,G=z+z,I=B+B;v*=E;var K=z*E;z*=G;var N=B*E,Q=B*G;B*=I;E*=m;G*=m;m*=I;k[0]=1-z-B;k[1]=K+m;k[2]=N-G;k[3]=0;k[4]=K-m;k[5]=1-v-B;k[6]=Q+E;k[7]=0;k[8]=N+G;k[9]=Q-E;k[10]=1-v-z;k[11]=0;k[12]=0;k[13]=0;k[14]=0;k[15]=1;return k},Pka:function(k,m,v,z,B,E,G){var I=1/(v-m),K=1/(B-z),N=1/(E-G);k[0]=2*E*I;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=2*E*K;k[6]=0;k[7]=0;k[8]=(v+m)*I;k[9]=(B+z)*K;k[10]=(G+E)*N;k[11]=-1;k[12]=0;k[13]=0;k[14]=
G*E*2*N;k[15]=0;return k},perspective:function(k,m,v,z,B){m=1/Math.tan(m/2);k[0]=m/v;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=m;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[11]=-1;k[12]=0;k[13]=0;k[15]=0;null!=B&&Infinity!==B?(v=1/(z-B),k[10]=(B+z)*v,k[14]=2*B*z*v):(k[10]=-1,k[14]=-2*z);return k},nCa:function(k,m,v,z){var B=Math.tan(m.mDa*Math.PI/180),E=Math.tan(m.RAa*Math.PI/180),G=Math.tan(m.WBa*Math.PI/180);m=Math.tan(m.KCa*Math.PI/180);var I=2/(G+m),K=2/(B+E);k[0]=I;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=K;k[6]=0;k[7]=0;
k[8]=-((G-m)*I*.5);k[9]=(B-E)*K*.5;k[10]=z/(v-z);k[11]=-1;k[12]=0;k[13]=0;k[14]=z*v/(v-z);k[15]=0;return k},mCa:function(k,m,v,z,B,E,G){var I=1/(m-v),K=1/(z-B),N=1/(E-G);k[0]=-2*I;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=-2*K;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=2*N;k[11]=0;k[12]=(m+v)*I;k[13]=(B+z)*K;k[14]=(G+E)*N;k[15]=1;return k},wla:function(k,m,v,z){var B=m[0],E=m[1];m=m[2];var G=z[0];var I=z[1];var K=z[2];var N=v[0];z=v[1];var Q=v[2];if(1E-6>Math.abs(B-N)&&1E-6>Math.abs(E-z)&&1E-6>Math.abs(m-Q))return l(k);
v=B-N;z=E-z;N=m-Q;var R=1/Math.hypot(v,z,N);v*=R;z*=R;N*=R;Q=I*N-K*z;K=K*v-G*N;G=G*z-I*v;(R=Math.hypot(Q,K,G))?(R=1/R,Q*=R,K*=R,G*=R):G=K=Q=0;I=z*G-N*K;var Y=N*Q-v*G;var U=v*K-z*Q;(R=Math.hypot(I,Y,U))?(R=1/R,I*=R,Y*=R,U*=R):U=Y=I=0;k[0]=Q;k[1]=I;k[2]=v;k[3]=0;k[4]=K;k[5]=Y;k[6]=z;k[7]=0;k[8]=G;k[9]=U;k[10]=N;k[11]=0;k[12]=-(Q*B+K*E+G*m);k[13]=-(I*B+Y*E+U*m);k[14]=-(v*B+z*E+N*m);k[15]=1;return k},dDa:function(k,m,v,z){var B=m[0],E=m[1];m=m[2];var G=z[0],I=z[1],K=z[2];z=B-v[0];var N=E-v[1];v=m-v[2];
var Q=z*z+N*N+v*v;0<Q&&(Q=1/Math.sqrt(Q),z*=Q,N*=Q,v*=Q);var R=I*v-K*N;K=K*z-G*v;G=G*N-I*z;Q=R*R+K*K+G*G;0<Q&&(Q=1/Math.sqrt(Q),R*=Q,K*=Q,G*=Q);k[0]=R;k[1]=K;k[2]=G;k[3]=0;k[4]=N*G-v*K;k[5]=v*R-z*G;k[6]=z*K-N*R;k[7]=0;k[8]=z;k[9]=N;k[10]=v;k[11]=0;k[12]=B;k[13]=E;k[14]=m;k[15]=1;return k},$n:function(k){return"mat4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+", "+k[9]+", "+k[10]+", "+k[11]+", "+k[12]+", "+k[13]+", "+k[14]+", "+k[15]+")"},eO:function(k){return Math.hypot(k[0],
k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15])},add:function(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];k[2]=m[2]+v[2];k[3]=m[3]+v[3];k[4]=m[4]+v[4];k[5]=m[5]+v[5];k[6]=m[6]+v[6];k[7]=m[7]+v[7];k[8]=m[8]+v[8];k[9]=m[9]+v[9];k[10]=m[10]+v[10];k[11]=m[11]+v[11];k[12]=m[12]+v[12];k[13]=m[13]+v[13];k[14]=m[14]+v[14];k[15]=m[15]+v[15];return k},ao:x,uO:function(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;k[2]=m[2]*v;k[3]=m[3]*v;k[4]=m[4]*v;k[5]=m[5]*v;k[6]=m[6]*v;k[7]=m[7]*v;k[8]=m[8]*
v;k[9]=m[9]*v;k[10]=m[10]*v;k[11]=m[11]*v;k[12]=m[12]*v;k[13]=m[13]*v;k[14]=m[14]*v;k[15]=m[15]*v;return k},vO:function(k,m,v,z){k[0]=m[0]+v[0]*z;k[1]=m[1]+v[1]*z;k[2]=m[2]+v[2]*z;k[3]=m[3]+v[3]*z;k[4]=m[4]+v[4]*z;k[5]=m[5]+v[5]*z;k[6]=m[6]+v[6]*z;k[7]=m[7]+v[7]*z;k[8]=m[8]+v[8]*z;k[9]=m[9]+v[9]*z;k[10]=m[10]+v[10]*z;k[11]=m[11]+v[11]*z;k[12]=m[12]+v[12]*z;k[13]=m[13]+v[13]*z;k[14]=m[14]+v[14]*z;k[15]=m[15]+v[15]*z;return k},Kk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===m[3]&&
k[4]===m[4]&&k[5]===m[5]&&k[6]===m[6]&&k[7]===m[7]&&k[8]===m[8]&&k[9]===m[9]&&k[10]===m[10]&&k[11]===m[11]&&k[12]===m[12]&&k[13]===m[13]&&k[14]===m[14]&&k[15]===m[15]},xd:function(k,m){var v=k[0],z=k[1],B=k[2],E=k[3],G=k[4],I=k[5],K=k[6],N=k[7],Q=k[8],R=k[9],Y=k[10],U=k[11],da=k[12],ca=k[13],Z=k[14];k=k[15];var sa=m[0],ma=m[1],qa=m[2],ra=m[3],pa=m[4],L=m[5],O=m[6],W=m[7],aa=m[8],fa=m[9],ha=m[10],ia=m[11],ka=m[12],ta=m[13],va=m[14];m=m[15];return Math.abs(v-sa)<=1E-6*Math.max(1,Math.abs(v),Math.abs(sa))&&
Math.abs(z-ma)<=1E-6*Math.max(1,Math.abs(z),Math.abs(ma))&&Math.abs(B-qa)<=1E-6*Math.max(1,Math.abs(B),Math.abs(qa))&&Math.abs(E-ra)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ra))&&Math.abs(G-pa)<=1E-6*Math.max(1,Math.abs(G),Math.abs(pa))&&Math.abs(I-L)<=1E-6*Math.max(1,Math.abs(I),Math.abs(L))&&Math.abs(K-O)<=1E-6*Math.max(1,Math.abs(K),Math.abs(O))&&Math.abs(N-W)<=1E-6*Math.max(1,Math.abs(N),Math.abs(W))&&Math.abs(Q-aa)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(aa))&&Math.abs(R-fa)<=1E-6*Math.max(1,Math.abs(R),
Math.abs(fa))&&Math.abs(Y-ha)<=1E-6*Math.max(1,Math.abs(Y),Math.abs(ha))&&Math.abs(U-ia)<=1E-6*Math.max(1,Math.abs(U),Math.abs(ia))&&Math.abs(da-ka)<=1E-6*Math.max(1,Math.abs(da),Math.abs(ka))&&Math.abs(ca-ta)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(ta))&&Math.abs(Z-va)<=1E-6*Math.max(1,Math.abs(Z),Math.abs(va))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},jq:n,sub:x}),Pa=function(){var k=u();return function(m,v,z,B,E,G){v||(v=3);z||(z=0);for(B=B?Math.min(B*v+z,m.length):m.length;z<B;z+=
v)k[0]=m[z],k[1]=m[z+1],k[2]=m[z+2],E(k,k,G),m[z]=k[0],m[z+1]=k[1],m[z+2]=k[2];return m}}();Pa=Object.freeze({__proto__:null,create:u,clone:function(k){var m=new oa(3);m[0]=k[0];m[1]=k[1];m[2]=k[2];return m},length:t,Eg:A,Na:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];return k},set:function(k,m,v,z){k[0]=m;k[1]=v;k[2]=z;return k},add:function(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];k[2]=m[2]+v[2];return k},ao:y,multiply:C,Zl:F,ceil:function(k,m){k[0]=Math.ceil(m[0]);k[1]=Math.ceil(m[1]);k[2]=Math.ceil(m[2]);
return k},floor:function(k,m){k[0]=Math.floor(m[0]);k[1]=Math.floor(m[1]);k[2]=Math.floor(m[2]);return k},min:function(k,m,v){k[0]=Math.min(m[0],v[0]);k[1]=Math.min(m[1],v[1]);k[2]=Math.min(m[2],v[2]);return k},max:function(k,m,v){k[0]=Math.max(m[0],v[0]);k[1]=Math.max(m[1],v[1]);k[2]=Math.max(m[2],v[2]);return k},round:function(k,m){k[0]=Math.round(m[0]);k[1]=Math.round(m[1]);k[2]=Math.round(m[2]);return k},scale:function(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;k[2]=m[2]*v;return k},MO:function(k,m,v,z){k[0]=
m[0]+v[0]*z;k[1]=m[1]+v[1]*z;k[2]=m[2]+v[2]*z;return k},$z:H,y_:J,iG:M,h_:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];return k},inverse:function(k,m){k[0]=1/m[0];k[1]=1/m[1];k[2]=1/m[2];return k},normalize:P,gq:S,aO:T,Qc:function(k,m,v,z){var B=m[0],E=m[1];m=m[2];k[0]=B+z*(v[0]-B);k[1]=E+z*(v[1]-E);k[2]=m+z*(v[2]-m);return k},zBa:function(k,m,v,z,B,E){var G=E*E,I=G*(2*E-3)+1,K=G*(E-2)+E,N=G*(E-1);E=G*(3-2*E);k[0]=m[0]*I+v[0]*K+z[0]*N+B[0]*E;k[1]=m[1]*I+v[1]*K+z[1]*N+B[1]*E;k[2]=m[2]*I+v[2]*K+z[2]*
N+B[2]*E;return k},AAa:function(k,m,v,z,B,E){var G=1-E,I=G*G,K=E*E,N=I*G;I*=3*E;G*=3*K;E*=K;k[0]=m[0]*N+v[0]*I+z[0]*G+B[0]*E;k[1]=m[1]*N+v[1]*I+z[1]*G+B[1]*E;k[2]=m[2]*N+v[2]*I+z[2]*G+B[2]*E;return k},random:function(k,m){m=m||1;var v=2*ya()*Math.PI,z=2*ya()-1,B=Math.sqrt(1-z*z)*m;k[0]=Math.cos(v)*B;k[1]=Math.sin(v)*B;k[2]=z*m;return k},UO:function(k,m,v){var z=m[0],B=m[1];m=m[2];var E=v[3]*z+v[7]*B+v[11]*m+v[15];E=E||1;k[0]=(v[0]*z+v[4]*B+v[8]*m+v[12])/E;k[1]=(v[1]*z+v[5]*B+v[9]*m+v[13])/E;k[2]=
(v[2]*z+v[6]*B+v[10]*m+v[14])/E;return k},ima:function(k,m,v){var z=m[0],B=m[1];m=m[2];k[0]=z*v[0]+B*v[3]+m*v[6];k[1]=z*v[1]+B*v[4]+m*v[7];k[2]=z*v[2]+B*v[5]+m*v[8];return k},jma:function(k,m,v){var z=v[0],B=v[1],E=v[2],G=m[0],I=m[1];m=m[2];var K=B*m-E*I,N=E*G-z*m,Q=z*I-B*G;v=2*v[3];k[0]=G+K*v+2*(B*Q-E*N);k[1]=I+N*v+2*(E*K-z*Q);k[2]=m+Q*v+2*(z*N-B*K);return k},JO:function(k,m,v,z){var B=[],E=[];B[0]=m[0]-v[0];B[1]=m[1]-v[1];B[2]=m[2]-v[2];E[0]=B[0];E[1]=B[1]*Math.cos(z)-B[2]*Math.sin(z);E[2]=B[1]*
Math.sin(z)+B[2]*Math.cos(z);k[0]=E[0]+v[0];k[1]=E[1]+v[1];k[2]=E[2]+v[2];return k},KO:function(k,m,v,z){var B=[],E=[];B[0]=m[0]-v[0];B[1]=m[1]-v[1];B[2]=m[2]-v[2];E[0]=B[2]*Math.sin(z)+B[0]*Math.cos(z);E[1]=B[1];E[2]=B[2]*Math.cos(z)-B[0]*Math.sin(z);k[0]=E[0]+v[0];k[1]=E[1]+v[1];k[2]=E[2]+v[2];return k},LO:function(k,m,v,z){var B=[],E=[];B[0]=m[0]-v[0];B[1]=m[1]-v[1];B[2]=m[2]-v[2];E[0]=B[0]*Math.cos(z)-B[1]*Math.sin(z);E[1]=B[0]*Math.sin(z)+B[1]*Math.cos(z);E[2]=B[2];k[0]=E[0]+v[0];k[1]=E[1]+v[1];
k[2]=E[2]+v[2];return k},angle:function(k,m){var v=k[0],z=k[1],B=k[2],E=m[0],G=m[1],I=m[2];k=(v=Math.sqrt(v*v+z*z+B*B)*Math.sqrt(E*E+G*G+I*I))&&S(k,m)/v;return Math.acos(Math.min(Math.max(k,-1),1))},H_:function(k){k[0]=0;k[1]=0;k[2]=0;return k},$n:function(k){return"vec3("+k[0]+", "+k[1]+", "+k[2]+")"},Kk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]},xd:function(k,m){var v=k[0],z=k[1];k=k[2];var B=m[0],E=m[1];m=m[2];return Math.abs(v-B)<=1E-6*Math.max(1,Math.abs(v),Math.abs(B))&&Math.abs(z-
E)<=1E-6*Math.max(1,Math.abs(z),Math.abs(E))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},sub:y,jq:C,VZ:F,TZ:H,x_:J,fA:t,hG:M,forEach:Pa});var Qa=function(){var k=V();return function(m,v,z,B,E,G){v||(v=4);z||(z=0);for(B=B?Math.min(B*v+z,m.length):m.length;z<B;z+=v)k[0]=m[z],k[1]=m[z+1],k[2]=m[z+2],k[3]=m[z+3],E(k,k,G),m[z]=k[0],m[z+1]=k[1],m[z+2]=k[2],m[z+3]=k[3];return m}}();Qa=Object.freeze({__proto__:null,create:V,clone:ba,Eg:ea,Na:X,set:na,add:ja,ao:xa,multiply:Ja,Zl:Va,ceil:function(k,
m){k[0]=Math.ceil(m[0]);k[1]=Math.ceil(m[1]);k[2]=Math.ceil(m[2]);k[3]=Math.ceil(m[3]);return k},floor:function(k,m){k[0]=Math.floor(m[0]);k[1]=Math.floor(m[1]);k[2]=Math.floor(m[2]);k[3]=Math.floor(m[3]);return k},min:function(k,m,v){k[0]=Math.min(m[0],v[0]);k[1]=Math.min(m[1],v[1]);k[2]=Math.min(m[2],v[2]);k[3]=Math.min(m[3],v[3]);return k},max:function(k,m,v){k[0]=Math.max(m[0],v[0]);k[1]=Math.max(m[1],v[1]);k[2]=Math.max(m[2],v[2]);k[3]=Math.max(m[3],v[3]);return k},round:function(k,m){k[0]=Math.round(m[0]);
k[1]=Math.round(m[1]);k[2]=Math.round(m[2]);k[3]=Math.round(m[3]);return k},scale:Na,MO:function(k,m,v,z){k[0]=m[0]+v[0]*z;k[1]=m[1]+v[1]*z;k[2]=m[2]+v[2]*z;k[3]=m[3]+v[3]*z;return k},$z:Wa,y_:Oa,length:Ca,iG:Aa,h_:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];k[3]=-m[3];return k},inverse:function(k,m){k[0]=1/m[0];k[1]=1/m[1];k[2]=1/m[2];k[3]=1/m[3];return k},normalize:Ka,gq:Ha,aO:function(k,m,v,z){var B=v[0]*z[1]-v[1]*z[0],E=v[0]*z[2]-v[2]*z[0],G=v[0]*z[3]-v[3]*z[0],I=v[1]*z[2]-v[2]*z[1],K=v[1]*
z[3]-v[3]*z[1];v=v[2]*z[3]-v[3]*z[2];z=m[0];var N=m[1],Q=m[2];m=m[3];k[0]=N*v-Q*K+m*I;k[1]=-(z*v)+Q*G-m*E;k[2]=z*K-N*G+m*B;k[3]=-(z*I)+N*E-Q*B;return k},Qc:Xa,random:function(k,m){m=m||1;do{var v=2*ya()-1;var z=2*ya()-1;var B=v*v+z*z}while(1<=B);do{var E=2*ya()-1;var G=2*ya()-1;var I=E*E+G*G}while(1<=I);B=Math.sqrt((1-B)/I);k[0]=m*v;k[1]=m*z;k[2]=m*E*B;k[3]=m*G*B;return k},UO:function(k,m,v){var z=m[0],B=m[1],E=m[2];m=m[3];k[0]=v[0]*z+v[4]*B+v[8]*E+v[12]*m;k[1]=v[1]*z+v[5]*B+v[9]*E+v[13]*m;k[2]=v[2]*
z+v[6]*B+v[10]*E+v[14]*m;k[3]=v[3]*z+v[7]*B+v[11]*E+v[15]*m;return k},jma:function(k,m,v){var z=m[0],B=m[1],E=m[2],G=v[0],I=v[1],K=v[2];v=v[3];var N=v*z+I*E-K*B,Q=v*B+K*z-G*E,R=v*E+G*B-I*z;z=-G*z-I*B-K*E;k[0]=N*v+z*-G+Q*-K-R*-I;k[1]=Q*v+z*-I+R*-G-N*-K;k[2]=R*v+z*-K+N*-I-Q*-G;k[3]=m[3];return k},H_:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=0;return k},$n:function(k){return"vec4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},Kk:Ya,xd:Za,sub:xa,jq:Ja,VZ:Va,TZ:Wa,x_:Oa,fA:Ca,hG:Aa,forEach:Qa});var Ra=function(){var k=
u(),m=A(1,0,0),v=A(0,1,0);return function(z,B,E){var G=S(B,E);if(-.999999>G)return T(k,m,B),1E-6>t(k)&&T(k,v,B),P(k,k),$a(z,k,Math.PI),z;if(.999999<G)return z[0]=0,z[1]=0,z[2]=0,z[3]=1,z;T(k,B,E);z[0]=k[0];z[1]=k[1];z[2]=k[2];z[3]=1+G;return Ka(z,z)}}(),Sa=function(){var k=La(),m=La();return function(v,z,B,E,G,I){Ma(k,z,G,I);Ma(m,B,E,I);Ma(v,k,m,2*I*(1-I));return v}}(),Ia=function(){var k=e();return function(m,v,z,B){k[0]=z[0];k[3]=z[1];k[6]=z[2];k[1]=B[0];k[4]=B[1];k[7]=B[2];k[2]=-v[0];k[5]=-v[1];
k[8]=-v[2];return Ka(m,gb(m,k))}}();Ra=Object.freeze({__proto__:null,create:La,cA:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=1;return k},VCa:$a,rBa:function(k,m){var v=2*Math.acos(m[3]),z=Math.sin(v/2);1E-6<z?(k[0]=m[0]/z,k[1]=m[1]/z,k[2]=m[2]/z):(k[0]=1,k[1]=0,k[2]=0);return v},pBa:function(k,m){k=Ha(k,m);return Math.acos(2*k*k-1)},multiply:ab,JO:bb,KO:cb,LO:db,BAa:function(k,m){var v=m[0],z=m[1];m=m[2];k[0]=v;k[1]=z;k[2]=m;k[3]=Math.sqrt(Math.abs(1-v*v-z*z-m*m));return k},exp:eb,ula:fb,pow:function(k,
m,v){fb(k,m);Na(k,k,v);eb(k,k);return k},$Ca:Ma,random:function(k){var m=ya(),v=ya(),z=ya(),B=Math.sqrt(1-m);m=Math.sqrt(m);k[0]=B*Math.sin(2*Math.PI*v);k[1]=B*Math.cos(2*Math.PI*v);k[2]=m*Math.sin(2*Math.PI*z);k[3]=m*Math.cos(2*Math.PI*z);return k},Nv:function(k,m){var v=m[0],z=m[1],B=m[2];m=m[3];var E=v*v+z*z+B*B+m*m;E=E?1/E:0;k[0]=-v*E;k[1]=-z*E;k[2]=-B*E;k[3]=m*E;return k},wka:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];k[3]=m[3];return k},dBa:gb,bBa:function(k,m,v,z){var B=.5*Math.PI/180;
m*=B;v*=B;z*=B;B=Math.sin(m);m=Math.cos(m);var E=Math.sin(v);v=Math.cos(v);var G=Math.sin(z);z=Math.cos(z);k[0]=B*v*z-m*E*G;k[1]=m*E*z+B*v*G;k[2]=m*v*G-B*E*z;k[3]=m*v*z+B*E*G;return k},$n:function(k){return"quat("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"},clone:ba,Eg:ea,Na:X,set:na,add:ja,jq:ab,scale:Na,gq:Ha,Qc:Xa,length:Ca,fA:Ca,iG:Aa,hG:Aa,normalize:Ka,Kk:Ya,xd:Za,OCa:Ra,aDa:Sa,UCa:Ia});Sa=Object.freeze({__proto__:null,create:function(){var k=new oa(8);oa!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[4]=
0,k[5]=0,k[6]=0,k[7]=0);k[3]=1;return k},clone:function(k){var m=new oa(8);m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];m[6]=k[6];m[7]=k[7];return m},Eg:function(k,m,v,z,B,E,G,I){var K=new oa(8);K[0]=k;K[1]=m;K[2]=v;K[3]=z;K[4]=B;K[5]=E;K[6]=G;K[7]=I;return K},hBa:function(k,m,v,z,B,E,G){var I=new oa(8);I[0]=k;I[1]=m;I[2]=v;I[3]=z;B*=.5;E*=.5;G*=.5;I[4]=B*z+E*v-G*m;I[5]=E*z+G*k-B*v;I[6]=G*z+B*m-E*k;I[7]=-B*k-E*m-G*v;return I},Oka:hb,gO:function(k,m){k[0]=0;k[1]=0;k[2]=0;k[3]=1;k[4]=
.5*m[0];k[5]=.5*m[1];k[6]=.5*m[2];k[7]=0;return k},SF:function(k,m){k[0]=m[0];k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=0;k[5]=0;k[6]=0;k[7]=0;return k},Mka:function(k,m){var v=La();w(v,m);var z=new oa(3);q(z,m);hb(k,v,z);return k},Na:ib,cA:function(k){k[0]=0;k[1]=0;k[2]=0;k[3]=1;k[4]=0;k[5]=0;k[6]=0;k[7]=0;return k},set:function(k,m,v,z,B,E,G,I,K){k[0]=m;k[1]=v;k[2]=z;k[3]=B;k[4]=E;k[5]=G;k[6]=I;k[7]=K;return k},tBa:X,sBa:function(k,m){k[0]=m[4];k[1]=m[5];k[2]=m[6];k[3]=m[7];return k},YCa:X,WCa:function(k,
m){k[4]=m[0];k[5]=m[1];k[6]=m[2];k[7]=m[3];return k},Ska:function(k,m){var v=m[4],z=m[5],B=m[6],E=m[7],G=-m[0],I=-m[1],K=-m[2];m=m[3];k[0]=2*(v*m+E*G+z*K-B*I);k[1]=2*(z*m+E*I+B*G-v*K);k[2]=2*(B*m+E*K+v*I-z*G);return k},translate:function(k,m,v){var z=m[0],B=m[1],E=m[2],G=m[3],I=.5*v[0],K=.5*v[1];v=.5*v[2];var N=m[4],Q=m[5],R=m[6];m=m[7];k[0]=z;k[1]=B;k[2]=E;k[3]=G;k[4]=G*I+B*v-E*K+N;k[5]=G*K+E*I-z*v+Q;k[6]=G*v+z*K-B*I+R;k[7]=-z*I-B*K-E*v+m;return k},JO:function(k,m,v){var z=-m[0],B=-m[1],E=-m[2],
G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=I*G+Q*z+K*E-N*B,Y=K*G+Q*B+N*z-I*E,U=N*G+Q*E+I*B-K*z;I=Q*G-I*z-K*B-N*E;bb(k,m,v);z=k[0];B=k[1];E=k[2];G=k[3];k[4]=R*G+I*z+Y*E-U*B;k[5]=Y*G+I*B+U*z-R*E;k[6]=U*G+I*E+R*B-Y*z;k[7]=I*G-R*z-Y*B-U*E;return k},KO:function(k,m,v){var z=-m[0],B=-m[1],E=-m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=I*G+Q*z+K*E-N*B,Y=K*G+Q*B+N*z-I*E,U=N*G+Q*E+I*B-K*z;I=Q*G-I*z-K*B-N*E;cb(k,m,v);z=k[0];B=k[1];E=k[2];G=k[3];k[4]=R*G+I*z+Y*E-U*B;k[5]=Y*G+I*B+U*z-R*E;k[6]=U*G+I*E+R*B-Y*z;k[7]=I*
G-R*z-Y*B-U*E;return k},LO:function(k,m,v){var z=-m[0],B=-m[1],E=-m[2],G=m[3],I=m[4],K=m[5],N=m[6],Q=m[7],R=I*G+Q*z+K*E-N*B,Y=K*G+Q*B+N*z-I*E,U=N*G+Q*E+I*B-K*z;I=Q*G-I*z-K*B-N*E;db(k,m,v);z=k[0];B=k[1];E=k[2];G=k[3];k[4]=R*G+I*z+Y*E-U*B;k[5]=Y*G+I*B+U*z-R*E;k[6]=U*G+I*E+R*B-Y*z;k[7]=I*G-R*z-Y*B-U*E;return k},MCa:function(k,m,v){var z=v[0],B=v[1],E=v[2];v=v[3];var G=m[0],I=m[1],K=m[2],N=m[3];k[0]=G*v+N*z+I*E-K*B;k[1]=I*v+N*B+K*z-G*E;k[2]=K*v+N*E+G*B-I*z;k[3]=N*v-G*z-I*B-K*E;G=m[4];I=m[5];K=m[6];N=
m[7];k[4]=G*v+N*z+I*E-K*B;k[5]=I*v+N*B+K*z-G*E;k[6]=K*v+N*E+G*B-I*z;k[7]=N*v-G*z-I*B-K*E;return k},NCa:function(k,m,v){var z=m[0],B=m[1],E=m[2];m=m[3];var G=v[0],I=v[1],K=v[2],N=v[3];k[0]=z*N+m*G+B*K-E*I;k[1]=B*N+m*I+E*G-z*K;k[2]=E*N+m*K+z*I-B*G;k[3]=m*N-z*G-B*I-E*K;G=v[4];I=v[5];K=v[6];N=v[7];k[4]=z*N+m*G+B*K-E*I;k[5]=B*N+m*I+E*G-z*K;k[6]=E*N+m*K+z*I-B*G;k[7]=m*N-z*G-B*I-E*K;return k},LCa:function(k,m,v,z){if(1E-6>Math.abs(z))return ib(k,m);var B=Math.hypot(v[0],v[1],v[2]);z*=.5;var E=Math.sin(z),
G=E*v[0]/B,I=E*v[1]/B;v=E*v[2]/B;z=Math.cos(z);B=m[0];E=m[1];var K=m[2],N=m[3];k[0]=B*z+N*G+E*v-K*I;k[1]=E*z+N*I+K*G-B*v;k[2]=K*z+N*v+B*I-E*G;k[3]=N*z-B*G-E*I-K*v;B=m[4];E=m[5];K=m[6];m=m[7];k[4]=B*z+m*G+E*v-K*I;k[5]=E*z+m*I+K*G-B*v;k[6]=K*z+m*v+B*I-E*G;k[7]=m*z-B*G-E*I-K*v;return k},add:function(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];k[2]=m[2]+v[2];k[3]=m[3]+v[3];k[4]=m[4]+v[4];k[5]=m[5]+v[5];k[6]=m[6]+v[6];k[7]=m[7]+v[7];return k},multiply:jb,jq:jb,scale:function(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;k[2]=
m[2]*v;k[3]=m[3]*v;k[4]=m[4]*v;k[5]=m[5]*v;k[6]=m[6]*v;k[7]=m[7]*v;return k},gq:Ha,Qc:function(k,m,v,z){var B=1-z;0>Ha(m,v)&&(z=-z);k[0]=m[0]*B+v[0]*z;k[1]=m[1]*B+v[1]*z;k[2]=m[2]*B+v[2]*z;k[3]=m[3]*B+v[3]*z;k[4]=m[4]*B+v[4]*z;k[5]=m[5]*B+v[5]*z;k[6]=m[6]*B+v[6]*z;k[7]=m[7]*B+v[7]*z;return k},Nv:function(k,m){var v=Aa(m);k[0]=-m[0]/v;k[1]=-m[1]/v;k[2]=-m[2]/v;k[3]=m[3]/v;k[4]=-m[4]/v;k[5]=-m[5]/v;k[6]=-m[6]/v;k[7]=m[7]/v;return k},wka:function(k,m){k[0]=-m[0];k[1]=-m[1];k[2]=-m[2];k[3]=m[3];k[4]=
-m[4];k[5]=-m[5];k[6]=-m[6];k[7]=m[7];return k},length:Ca,fA:Ca,iG:Aa,hG:Aa,normalize:function(k,m){var v=Aa(m);if(0<v){v=Math.sqrt(v);var z=m[0]/v,B=m[1]/v,E=m[2]/v,G=m[3]/v,I=m[4],K=m[5],N=m[6];m=m[7];var Q=z*I+B*K+E*N+G*m;k[0]=z;k[1]=B;k[2]=E;k[3]=G;k[4]=(I-z*Q)/v;k[5]=(K-B*Q)/v;k[6]=(N-E*Q)/v;k[7]=(m-G*Q)/v}return k},$n:function(k){return"quat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+")"},Kk:function(k,m){return k[0]===m[0]&&k[1]===m[1]&&k[2]===m[2]&&k[3]===
m[3]&&k[4]===m[4]&&k[5]===m[5]&&k[6]===m[6]&&k[7]===m[7]},xd:function(k,m){var v=k[0],z=k[1],B=k[2],E=k[3],G=k[4],I=k[5],K=k[6];k=k[7];var N=m[0],Q=m[1],R=m[2],Y=m[3],U=m[4],da=m[5],ca=m[6];m=m[7];return Math.abs(v-N)<=1E-6*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(z-Q)<=1E-6*Math.max(1,Math.abs(z),Math.abs(Q))&&Math.abs(B-R)<=1E-6*Math.max(1,Math.abs(B),Math.abs(R))&&Math.abs(E-Y)<=1E-6*Math.max(1,Math.abs(E),Math.abs(Y))&&Math.abs(G-U)<=1E-6*Math.max(1,Math.abs(G),Math.abs(U))&&Math.abs(I-da)<=
1E-6*Math.max(1,Math.abs(I),Math.abs(da))&&Math.abs(K-ca)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))}});Ia=function(){var k=kb();return function(m,v,z,B,E,G){v||(v=2);z||(z=0);for(B=B?Math.min(B*v+z,m.length):m.length;z<B;z+=v)k[0]=m[z],k[1]=m[z+1],E(k,k,G),m[z]=k[0],m[z+1]=k[1];return m}}();Ia=Object.freeze({__proto__:null,create:kb,clone:function(k){var m=new oa(2);m[0]=k[0];m[1]=k[1];return m},Eg:function(k,m){var v=new oa(2);v[0]=k;v[1]=
m;return v},Na:function(k,m){k[0]=m[0];k[1]=m[1];return k},set:function(k,m,v){k[0]=m;k[1]=v;return k},add:function(k,m,v){k[0]=m[0]+v[0];k[1]=m[1]+v[1];return k},ao:lb,multiply:mb,Zl:nb,ceil:function(k,m){k[0]=Math.ceil(m[0]);k[1]=Math.ceil(m[1]);return k},floor:function(k,m){k[0]=Math.floor(m[0]);k[1]=Math.floor(m[1]);return k},min:function(k,m,v){k[0]=Math.min(m[0],v[0]);k[1]=Math.min(m[1],v[1]);return k},max:function(k,m,v){k[0]=Math.max(m[0],v[0]);k[1]=Math.max(m[1],v[1]);return k},round:function(k,
m){k[0]=Math.round(m[0]);k[1]=Math.round(m[1]);return k},scale:function(k,m,v){k[0]=m[0]*v;k[1]=m[1]*v;return k},MO:function(k,m,v,z){k[0]=m[0]+v[0]*z;k[1]=m[1]+v[1]*z;return k},$z:ob,y_:pb,length:qb,iG:rb,h_:function(k,m){k[0]=-m[0];k[1]=-m[1];return k},inverse:function(k,m){k[0]=1/m[0];k[1]=1/m[1];return k},normalize:function(k,m){var v=m[0],z=m[1];v=v*v+z*z;0<v&&(v=1/Math.sqrt(v));k[0]=m[0]*v;k[1]=m[1]*v;return k},gq:function(k,m){return k[0]*m[0]+k[1]*m[1]},aO:function(k,m,v){m=m[0]*v[1]-m[1]*
v[0];k[0]=k[1]=0;k[2]=m;return k},Qc:function(k,m,v,z){var B=m[0];m=m[1];k[0]=B+z*(v[0]-B);k[1]=m+z*(v[1]-m);return k},random:function(k,m){m=m||1;var v=2*ya()*Math.PI;k[0]=Math.cos(v)*m;k[1]=Math.sin(v)*m;return k},jDa:function(k,m,v){var z=m[0];m=m[1];k[0]=v[0]*z+v[2]*m;k[1]=v[1]*z+v[3]*m;return k},kDa:function(k,m,v){var z=m[0];m=m[1];k[0]=v[0]*z+v[2]*m+v[4];k[1]=v[1]*z+v[3]*m+v[5];return k},ima:function(k,m,v){var z=m[0];m=m[1];k[0]=v[0]*z+v[3]*m+v[6];k[1]=v[1]*z+v[4]*m+v[7];return k},UO:function(k,
m,v){var z=m[0];m=m[1];k[0]=v[0]*z+v[4]*m+v[12];k[1]=v[1]*z+v[5]*m+v[13];return k},rotate:function(k,m,v,z){var B=m[0]-v[0];m=m[1]-v[1];var E=Math.sin(z);z=Math.cos(z);k[0]=B*z-m*E+v[0];k[1]=B*E+m*z+v[1];return k},angle:function(k,m){var v=k[0];k=k[1];var z=m[0];m=m[1];var B=Math.sqrt(v*v+k*k)*Math.sqrt(z*z+m*m);return Math.acos(Math.min(Math.max(B&&(v*z+k*m)/B,-1),1))},H_:function(k){k[0]=0;k[1]=0;return k},$n:function(k){return"vec2("+k[0]+", "+k[1]+")"},Kk:function(k,m){return k[0]===m[0]&&k[1]===
m[1]},xd:function(k,m){var v=k[0];k=k[1];var z=m[0];m=m[1];return Math.abs(v-z)<=1E-6*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(k-m)<=1E-6*Math.max(1,Math.abs(k),Math.abs(m))},fA:qb,sub:lb,jq:mb,VZ:nb,TZ:ob,x_:pb,hG:rb,forEach:Ia});d.Vn=wb;d.$Ba=xb;d.aCa=yb;d.bCa=zb;d.Us=Ab;d.vCa=Ra;d.wCa=Sa;d.rDa=Ia;d.mG=Pa;d.$v=Qa;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Da(exports):"function"===typeof define&&define.tAa?define(["exports"],Da):(Ba=Ba||self,Da(Ba.Vn={}));
{"use strict";function d(x,u,t,A){var y=u[0]-x[0];u=u[1]-x[1];var C=A[0]-t[0],F=A[1]-t[1];if(0===C*u-F*y)return!1;A=(y*(t[1]-x[1])+u*(x[0]-t[0]))/(C*u-F*y);x=(C*(x[1]-t[1])+F*(t[0]-x[0]))/(F*y-C*u);return 0<=A&&1>=A&&0<=x&&1>=x}function b(x,u,t){return(u[0]-x[0])*(t[1]-x[1])-(t[0]-x[0])*(u[1]-x[1])}function a(x,u,t){return 0<b(x,u,t)}function f(x,u,t){return 0<=b(x,u,t)}function c(x,u,t){return 0>=b(x,u,t)}var Ea=[],Fa=[];function e(x,u){var t=u[0]-x[0];x=u[1]-x[1];return t*t+x*x}function h(x,u){var t=
x.length;return x[0>u?u%t+t:u%t]}function g(x,u,t,A){for(;t<A;t++)x.push(u[t])}function l(x,u){var t=h(x,u-1),A=h(x,u);x=h(x,u+1);return 0>b(t,A,x)}var Ga=[],Ta=[];function n(x,u,t,A){A=A||[];A.length=0;if(u<t)for(var y=u;y<=t;y++)A.push(x[y]);else{for(y=0;y<=t;y++)A.push(x[y]);for(y=u;y<x.length;y++)A.push(x[y])}return A}function p(x){for(var u=[],t,A,y=[],C=Number.MAX_VALUE,F=0;F<x.length;++F)if(l(x,F))for(var H=0;H<x.length;++H){a:{A=x;var J=F,M=H;if(f(h(A,J+1),h(A,J),h(A,M))&&c(h(A,J-1),h(A,J),
h(A,M)))t=!1;else{t=e(h(A,J),h(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&f(h(A,J),h(A,M),h(A,P+1))&&c(h(A,J),h(A,M),h(A,P))){Ga[0]=h(A,J);Ga[1]=h(A,M);Ta[0]=h(A,P);Ta[1]=h(A,P+1);var S=[0,0];var T=Ga[1][1]-Ga[0][1];var V=Ga[0][0]-Ga[1][0];var ba=T*Ga[0][0]+V*Ga[0][1];var ea=Ta[1][1]-Ta[0][1];var X=Ta[0][0]-Ta[1][0];var na=ea*Ta[0][0]+X*Ta[0][1];var ja=T*X-ea*V;0>=Math.abs(ja-0)||(S[0]=(X*ba-V*na)/ja,S[1]=(T*na-ea*ba)/ja);ja=S;if(e(h(A,J),ja)<t){t=!1;break a}}t=!0}}if(t){t=p(n(x,
F,H,y));A=p(n(x,H,F,y));for(J=0;J<A.length;J++)t.push(A[J]);t.length<C&&(u=t,C=t.length,u.push([h(x,F),h(x,H)]))}}return u}function q(x,u){if(0===u.length)return[x];if(u instanceof Array&&u.length&&u[0]instanceof Array&&2===u[0].length&&u[0][0]instanceof Array){x=[x];for(var t=0;t<u.length;t++)for(var A=u[t],y=0;y<x.length;y++){var C=q(x[y],A);if(C){x.splice(y,1);x.push(C[0],C[1]);break}}return x}A=u;t=x.indexOf(A[0]);y=x.indexOf(A[1]);return-1!==t&&-1!==y?[n(x,t,y),n(x,y,t)]:!1}function r(x,u,t,
A,y){var C=u[1]-x[1];u=x[0]-u[0];x=C*x[0]+u*x[1];var F=A[1]-t[1];A=t[0]-A[0];t=F*t[0]+A*t[1];var H=C*A-F*u;return Math.abs(H-0)<=(y||0)?[0,0]:[(A*x-u*t)/H,(C*t-F*x)/H]}function w(x,u,t,A,y,C,F){C=C||100;F=F||0;y=y||25;u="undefined"!==typeof u?u:[];t=t||[];A=A||[];var H=[0,0],J=[0,0],M=[0,0],P,S=0,T=0,V=0,ba=[],ea=[];if(3>x.length)return u;F++;if(F>C)return console.warn("quickDecomp: max level ("+C+") reached."),u;for(var X=0;X<x.length;++X)if(l(x,X)){t.push(x[X]);var na=P=Number.MAX_VALUE;for(var ja=
0;ja<x.length;++ja){if(a(h(x,X-1),h(x,X),h(x,ja))&&c(h(x,X-1),h(x,X),h(x,ja-1))){M=r(h(x,X-1),h(x,X),h(x,ja),h(x,ja-1));var xa=h(x,X+1);var Ja=h(x,X);0>b(xa,Ja,M)&&(xa=e(x[X],M),xa<P&&(P=xa,J=M,T=ja))}a(h(x,X+1),h(x,X),h(x,ja+1))&&c(h(x,X+1),h(x,X),h(x,ja))&&(M=r(h(x,X+1),h(x,X),h(x,ja),h(x,ja+1)),a(h(x,X-1),h(x,X),M)&&(xa=e(x[X],M),xa<na&&(na=xa,H=M,S=ja)))}if(T===(S+1)%x.length)M[0]=(J[0]+H[0])/2,M[1]=(J[1]+H[1])/2,A.push(M),X<S?(g(ba,x,X,S+1),ba.push(M),ea.push(M),0!==T&&g(ea,x,T,x.length),g(ea,
x,0,X+1)):(0!==X&&g(ba,x,X,x.length),g(ba,x,0,S+1),ba.push(M),ea.push(M),g(ea,x,T,X+1));else{T>S&&(S+=x.length);H=Number.MAX_VALUE;if(S<T)return u;for(ja=T;ja<=S;++ja)if(f(h(x,X-1),h(x,X),h(x,ja))&&c(h(x,X+1),h(x,X),h(x,ja))){xa=e(h(x,X),h(x,ja));if(T=xa<H)a:{T=x;J=X;M=ja;for(na=0;na!==T.length;++na)if(na!==J&&na!==M&&(na+1)%T.length!==J&&(na+1)%T.length!==M&&d(h(T,J),h(T,M),h(T,na),h(T,na+1))){T=!1;break a}T=!0}T&&(H=xa,V=ja%x.length)}X<V?(g(ba,x,X,V+1),0!==V&&g(ea,x,V,x.length),g(ea,x,0,X+1)):(0!==
X&&g(ba,x,X,x.length),g(ba,x,0,V+1),g(ea,x,V,X+1))}ba.length<ea.length?(w(ba,u,t,A,y,C,F),w(ea,u,t,A,y,C,F)):(w(ea,u,t,A,y,C,F),w(ba,u,t,A,y,C,F));return u}u.push(x);return u}self.qCa={PAa:function(x){var u=p(x);return 0<u.length?q(x,u):[x]},xCa:w,GBa:function(x){var u;for(u=0;u<x.length-1;u++)for(var t=0;t<u-1;t++)if(d(x[u],x[u+1],x[t],x[t+1]))return!1;for(u=1;u<x.length-2;u++)if(d(x[0],x[x.length-1],x[u],x[u+1]))return!1;return!0},CCa:function(x,u){for(var t=0,A=x.length-1;3<x.length&&0<=A;--A){var y=
h(x,A-1);var C=h(x,A),F=h(x,A+1),H=u;H?(Ea[0]=C[0]-y[0],Ea[1]=C[1]-y[1],Fa[0]=F[0]-C[0],Fa[1]=F[1]-C[1],y=Math.acos((Ea[0]*Fa[0]+Ea[1]*Fa[1])/(Math.sqrt(Ea[0]*Ea[0]+Ea[1]*Ea[1])*Math.sqrt(Fa[0]*Fa[0]+Fa[1]*Fa[1])))<H):y=0===b(y,C,F);y&&(x.splice(A%x.length,1),t++)}return t},DCa:function(x,u){for(var t=x.length-1;1<=t;--t)for(var A=x[t],y=t-1;0<=y;--y){var C=A,F=x[y],H=u;Math.abs(C[0]-F[0])<=(H||0)&&Math.abs(C[1]-F[1])<=(H||0)&&x.splice(t,1)}},ZBa:function(x){for(var u=0,t=1;t<x.length;++t)if(x[t][1]<
x[u][1]||x[t][1]===x[u][1]&&x[t][0]>x[u][0])u=t;if(a(h(x,u-1),h(x,u),h(x,u+1)))return!1;u=[];t=x.length;for(var A=0;A!==t;A++)u.push(x.pop());for(A=0;A!==t;A++)x[A]=u[A];return!0}}}{"use strict";const d=self.D=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Ov=!1;d.nO=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Ig={}}
{"use strict";const d=self.D;d.gS=class{constructor(b){this.Pja=b;this.Ya=new Map;this.Nfa()}Nfa(){var b=this.Pja;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.Ofa(a)}Ofa(b){if(b)if(b.includes("=")){var a=b.indexOf("="),f=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ya.set(f,b)}else this.Ya.set(b,null)}vB(b){return this.Ya.has(b)}ma(b){b=this.Ya.get(b);return"undefined"===typeof b?null:b}};d.hI=new d.gS(location.search);
d.jta=new d.gS(location.hash);d.hI.ma("mode")}
{"use strict";const d=self.D,b=navigator.userAgent;let a={tla:/linux|openbsd|freebsd|netbsd/i.test(b),tka:/CrOS/.test(b),nG:/trident|iemobile|msie|tizen/i.test(b),oBa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),KZ:/bb10/i.test(b),Kka:/edge\//i.test(b),D_:/trident/i.test(b),webkit:/webkit/i.test(b),Ula:/safari\//i.test(b),ska:/chrome\//i.test(b),uka:/chromium\//i.test(b),xka:/crosswalk|xwalk/i.test(b),iCa:/nwjs/i.test(b),gka:/amazonwebappplatform/i.test(b),sma:/wv\)/.test(b),hka:/android/i.test(b),
Cla:/nokiabrowser\/[0-9.]+/i.test(b)};var Ua=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),sb=/android\s+[0-9.]+/i.exec(b),tb=/OPR\/[0-9.]+/.exec(b),ub=/tizen\s+[0-9.]+/i.exec(b),Bb=/iphone\s+os\s+[0-9_]+/i.exec(b),Cb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Db=/windows\s+phone\s+[0-9.]+/i.exec(b),Eb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Fb=/chrome\/[0-9.]+/i.exec(b),Gb=/chromium\/[0-9.]+/i.exec(b),Hb=/nwjs\/[0-9.]+/i.exec(b),Ib=/firefox\/[0-9.]+/i.exec(b),Jb=/msie\s+[0-9.]+/i.exec(b),Kb=/edge\/[0-9.]+/i.exec(b),
Lb=/edg\/[0-9.]+/i.exec(b),Mb=/silk\/[0-9.]+/i.exec(b);let f="(unknown)",c="(unknown)",e="(unknown)",h="(unknown)",g="(unknown)",l="browser",n=!1,p=!1,q=new Map;function r(x,u,t){!0===u?(t(),q.set(x,!0)):u&&u.length&&(t(u[0]),q.set(x,!0))}r("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),x=>{f="Windows";if(x=x.split(" ")[2])switch(x){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});r("isOSX",Ua,x=>{f="Mac OS X";(x=x.split(" ")[3])&&(c=x.replace("_","."))});r("isLinux",a.tla,()=>{f="Linux"});r("isChromeOS",a.tka,()=>{f="Chrome OS"});r("isAndroid",!a.nG&&sb,x=>{f="Android";(x=x.split(" ")[1])&&(c=x)});r("isTizen",ub,x=>{f="Tizen";(x=x.split(" ")[1])&&(c=x)});r("isIPhone",!a.nG&&Bb,x=>{f="iOS";(x=x.split(" ")[2])&&(c=x.replace("_","."))});r("isIPad",!a.nG&&Cb,x=>{f="iOS";(x=x.split(" ")[3])&&(c=x.replace("_","."))});r("isWindowsPhone",Db,x=>{f="Windows Phone";
(x=x.split(" ")[2])&&(c=x)});r("isWindowsPhoneOS",Eb,x=>{f="Windows Phone";(x=x.split(" ")[3])&&(c=x)});r("isBlackberry",a.KZ,()=>{f="Blackberry";c="10";e="stock";g="webkit"});r("isChrome",!a.Kka&&!a.opera&&Fb,x=>{e="Chrome";g="Chromium";(x=x.split("/")[1])&&(h=x)});r("isOpera",tb,x=>{e="Opera";g="Chromium";(x=x.split("/")[1])&&(h=x)});r("isChromium",Gb,x=>{g=e="Chromium";(x=x.split("/")[1])&&(h=x)});r("isFirefox",Ib,x=>{e="Firefox";g="Gecko";(x=x.split("/")[1])&&(h=x)});r("isInternetExplorer",Jb,
x=>{e="Internet Explorer";g="Trident";(x=x.split(" ")[1])&&(h=x)});r("isTrident","Internet Explorer"!==e&&a.D_,()=>{g="Trident";var x=/rv:[0-9.]+/i.exec(b);x&&x.length&&(e="Internet Explorer",(x=x[0].split(":")[1])&&(h=x))});r("isEdge",Kb,x=>{g=e="Edge";(x=x.split("/")[1])&&(h=x)});r("isEdgeChromium",Lb,x=>{e="Edge";g="Chromium";(x=x.split("/")[1])&&(h=x)});r("isSafari",a.Ula&&!a.Cla&&!a.ska&&!a.uka&&!a.nBa&&!a.KZ,()=>{e="Safari";g="WebKit";var x=/version\/[0-9.]+/i.exec(b),u=/crios\/[0-9.]+/i.exec(b),
t=/fxios\/[0-9.]+/i.exec(b);x&&x.length&&(x=x[0].split("/")[1])&&(h=x);u&&u.length&&(e="Chrome for iOS",(u=u[0].split("/")[1])&&(h=u));t&&t.length&&(e="Firefox for iOS",(t=t[0].split("/")[1])&&(h=t))});r("isSilk",Mb,x=>{e="Silk";(x=x.split("/")[1])&&(h=x)});r("isCrosswalk",a.xka,()=>l="crosswalk");r("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");r("isNWJS",Hb,x=>{l="nwjs";e="NW.js";g="Chromium";(x=x.split("/")[1])&&(h=x)});r("isAmazonWebApp",a.gka,()=>l="webapp");
r("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");r("isFalseSafari","Safari"===e&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>e="stock");r("isAndroidWebview","Chrome"===e&&"browser"===l&&a.sma,()=>l="webview");r("isFirefoxOS","Firefox"===e&&"(unknown)"===f,()=>f="Firefox OS");r("isAndroidFallback","(unknown)"===f&&!a.nG&&a.hka,()=>f="Android");r("isTridentFallback",
"(unknown)"===f&&a.D_,()=>g="Trident");r("isWebkitFallback","(unknown)"===f&&a.webkit,()=>g="WebKit");r("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===l,()=>n=!0);p="nwjs"===l;const w="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(f="iOS",c=h,p=n=!1);d.Bb={Ft:f,Nta:c,gd:e,Sna:h,xG:parseFloat(h),yA:g,DG:l,Xra:n,DB:!n,Yra:p,Tra:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Nra:"Mac OS X"===f||"iOS"===f,gsa:w,ksa:"Linux"===f}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(w){return new Promise((x,u)=>{w.onsuccess=()=>x(w.result);w.onerror=()=>u(w.error)})}function c(w){return new Promise((x,u)=>{w.oncomplete=()=>x();w.onerror=()=>u(w.error);w.onabort=()=>u(w.error)})}function e(w,x){return g(w,x)}function h(w,x){return g(w,x,!0)}async function g(w,x,u=!1,
t=!0){const A=await l(w);try{const y=A.transaction(["keyvaluepairs"],u?"readwrite":"readonly");return x(y)}catch(y){if(t&&"InvalidStateError"===y.name)return d.delete(w),g(w,x,u,!1);throw y;}}function l(w){p(w);let x=d.get(w);x instanceof Promise||(x=n(w),d.set(w,x),x.catch(()=>d.delete(w)));return x}async function n(w){p(w);const x=indexedDB.open(w,2);x.addEventListener("upgradeneeded",u=>{try{u.target.result.createObjectStore("keyvaluepairs")}catch(t){console.error(`Failed to create objectstore for database ${w}`,
t)}});return f(x)}function p(w){if("string"!==typeof w)throw new TypeError("expected string");}function q(w,x){const u=w.objectStore("keyvaluepairs").openCursor();return new Promise(t=>{const A=[];u.onsuccess=y=>{if(y=y.target.result){switch(x){case "entries":A.push([y.key,y.value]);break;case "keys":A.push(y.key);break;case "values":A.push(y.value)}y.continue()}else t(A)}})}class r{constructor(w){p(w);this.name=w}async ready(){await l(this.name)}set(w,x){p(w);return h(this.name,async u=>{var t=u.objectStore("keyvaluepairs").put(x,
w);t=f(t);u=c(u);await Promise.all([u,t])})}get(w){p(w);return e(this.name,async x=>{var u=x.objectStore("keyvaluepairs").get(w);u=f(u);x=c(x);[,x]=await Promise.all([x,u]);return x})}delete(w){p(w);return h(this.name,async x=>{var u=x.objectStore("keyvaluepairs").delete(w);u=f(u);x=c(x);await Promise.all([x,u])})}clear(){return h(this.name,async w=>{var x=w.objectStore("keyvaluepairs").clear();x=f(x);w=c(w);await Promise.all([w,x])})}keys(){return e(this.name,async w=>{if(a){var x=w.objectStore("keyvaluepairs").getAllKeys();
x=f(x)}else x=q(w,"keys");w=c(w);[,w]=await Promise.all([w,x]);return w})}values(){return e(this.name,async w=>{if(b){var x=w.objectStore("keyvaluepairs").getAll();x=f(x)}else x=q(w,"values");w=c(w);[,w]=await Promise.all([w,x]);return w})}entries(){return e(this.name,async w=>{var x=q(w,"entries");w=c(w);[,x]=await Promise.all([w,x]);return x})}}self.o6=r}"use strict";
{const d=self.o6,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function e(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function h(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=r=>n(r.data);p.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.H=l;a.set(this,new Map)}Gx(l){if(!f)for(const n of b)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);f=!0;break}}async zX(l){l=
a.get(this).get(l);l=await h(l);return"undefined"===typeof l?null:l}async eZ(l,n){n=await h(n);a.get(this).set(l,n)}VY(l){a.get(this).delete(l)}VW(){a.get(this).clear()}cY(){return Array.from(a.get(this).keys())}async getItem(l,n){e(n);if(f)return await this.zX(l);let p;try{p=await this.H.get(l)}catch(q){this.Gx(q);if(f)return await this.zX(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){e(p);"undefined"===
typeof n&&(n=null);if(f)await this.eZ(l,n);else try{await this.H.set(l,n)}catch(q){if(this.Gx(q),f)await this.eZ(l,n);else throw q;}}async removeItem(l,n){e(n);if(f)this.VY(l);else try{await this.H.delete(l)}catch(p){this.Gx(p),f?this.VY(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){e(l);if(f)this.VW();else try{await this.H.clear()}catch(n){this.Gx(n),f?this.VW():console.error("Error clearing storage: ",n)}}async keys(l){e(l);if(f)return this.cY();l=[];try{l=await this.H.keys()}catch(n){this.Gx(n);
if(f)return this.cY();console.error("Error getting storage keys: ",n)}return l}ready(l){e(l);return f?Promise.resolve(!0):this.H.ready()}$N(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.D;d.qc={};d.qc.$za=(()=>{try{if("Safari"===d.Bb.gd||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.qc.xpa="undefined"!==typeof HTMLDialogElement;d.qc.Bva=!!self.requestIdleCallback;d.qc.ImageBitmap=!!self.createImageBitmap;d.qc.ImageBitmapOptions=!1;if(d.qc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.qc.ImageBitmapOptions=!0}).catch(()=>{d.qc.ImageBitmapOptions=!1})}catch(b){d.qc.ImageBitmapOptions=!1}d.qc.poa=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Bb.gd);d.qc.lua=!(!navigator.permissions||!navigator.permissions.query);d.qc.fS="undefined"!==typeof Proxy;d.qc.Bpa="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.qc.gw="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.qc.qqa="function"===typeof fetch;d.qc.nua=!!(self.isSecureContext&&"Opera"!==d.Bb.gd&&navigator.storage&&navigator.storage.persist);d.qc.Uya=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Nb;if("undefined"===typeof document||"iOS"===d.Bb.Ft)Nb=!1;else{var Ob=document.documentElement;Nb=!!(Ob.requestFullscreen||Ob.msRequestFullscreen||Ob.mozRequestFullScreen||Ob.webkitRequestFullscreen)}d.qc.T2=Nb;d.qc.zra="undefined"!==typeof self.ImageDecoder;d.qc.Ita=!!self.showOpenFilePicker;
d.qc.Jta=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.D;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(d.kw(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,f){return a.reduce((c,e)=>{0<f&&Array.isArray(e)?Array.prototype.push.apply(c,b(e,f-1)):c.push(e);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,
"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,c)=>b({usage:f,quota:c}),a))});"undefined"===typeof HTMLCollection||HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),
done:!1}}});"undefined"===typeof NodeList||NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof DOMTokenList||DOMTokenList.prototype[Symbol.iterator]||(DOMTokenList.prototype[Symbol.iterator]=function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof FileList||FileList.prototype[Symbol.iterator]||(FileList.prototype[Symbol.iterator]=
function(){let b=0;return{next:()=>b>=this.length?{done:!0}:{value:this.item(b++),done:!1}}});"undefined"===typeof TextEncoder&&(self.TextEncoder=class{constructor(){Object.defineProperty(this,"encoding",{value:"utf-8",writable:!1})}encode(b){for(var a=b.length,f=-1,c=new Uint8Array(3*a),e,h,g=0;g!==a;){e=b.charCodeAt(g);g+=1;if(55296<=e&&56319>=e){if(g===a){c[f+=1]=239;c[f+=1]=191;c[f+=1]=189;break}h=b.charCodeAt(g);if(56320<=h&&57343>=h){if(e=1024*(e-55296)+h-56320+65536,g+=1,65535<e){c[f+=1]=240|
e>>>18;c[f+=1]=128|e>>>12&63;c[f+=1]=128|e>>>6&63;c[f+=1]=128|e&63;continue}}else{c[f+=1]=239;c[f+=1]=191;c[f+=1]=189;continue}}127>=e?c[f+=1]=0|e:(2047>=e?c[f+=1]=192|e>>>6:(c[f+=1]=224|e>>>12,c[f+=1]=128|e>>>6&63),c[f+=1]=128|e&63)}return new Uint8Array(c.buffer.slice(0,f+1))}toString(){return"[object TextEncoder]"}},TextEncoder[Symbol.toStringTag]="TextEncoder");if("undefined"===typeof TextDecoder){function b(c){const e=c[Symbol.iterator]();return{next:()=>e.next(),[Symbol.iterator](){return this}}}
function a(c){c=c.next();if(c.done)throw Error("unexpected end of input");if(0!=(c.value&192^128))throw Error("invalid byte");return c.value&63}const f=new Map;f.set("utf-8",(c,e)=>{if(c.buffer)var h=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);else if(h instanceof ArrayBuffer)h=new Uint8Array(c);else throw Error("Invalid parameter");c=b(h);h=[];try{for(const g of c){let l;if(127>g)l=g&127;else if(223>g)l=(g&31)<<6|a(c);else if(239>g)l=(g&15)<<12|a(c)<<6|a(c);else if(247>g)l=(g&7)<<18|a(c)<<
12|a(c)<<6|a(c);else throw Error("Invalid character");h.push(String.fromCodePoint(l))}}catch(g){if(e)throw g;h.push("\ufffd")}return h.join("")});f.set("utf8",f.get("utf-8"));f.set("utf-16le",()=>{throw Error("utf-16le decoder not implemented");});self.TextDecoder=class{constructor(c="utf-8",e={}){const h=f.get(c);if(!h)throw Error(`TextDecoder polyfill does not support "${c}"`);Object.defineProperty(this,"fatal",{value:!0===e.fatal,writable:!1});Object.defineProperty(this,"_decoder",{value:h,writable:!1});
Object.defineProperty(this,"encoding",{value:c,writable:!1})}decode(c){return this._decoder(c,this.fatal)}toString(){return"[object TextDecoder]"}};TextDecoder[Symbol.toStringTag]="TextDecoder"}"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.D;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+d.UA())}}
{"use strict";const d=self.D,b=self.Ig;d.uo=function(f){return"number"===typeof f};d.ro=function(f){return d.uo(f)&&isFinite(f)};d.Ug=function(f){if(!d.uo(f))throw new TypeError("expected number");};d.pS=function(){};d.Xva=function(f,c,e){if(!d.uo(f)||isNaN(f)||c>f||e<f)throw new RangeError("number outside of range");};d.Jva=function(...f){for(let c of f);};d.Tg=function(f){if(!d.ro(f))throw new TypeError("expected finite number");};d.mS=function(){};d.Gva=function(...f){for(let c of f);};d.Fj=function(f){return"string"===
typeof f};d.If=function(f){if(!d.Fj(f))throw new TypeError("expected string");};d.rS=function(){};d.Lva=function(...f){for(let c of f);};d.hR=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.jwa=function(f){if(!d.hR(f))throw new TypeError("expected simple object");};d.gwa=function(f){if(!d.bf(f)&&!d.hR(f))throw new TypeError("expected simple object");};d.gR=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.kS=function(f){if(!d.gR(f))throw new TypeError("expected object");
};d.qS=function(){};d.Kva=function(...f){for(let c of f);};d.NH=function(f){return d.so(f,Blob)&&"string"===typeof f.name};d.Vva=function(f){if(!d.NH(f))throw new TypeError("expected file");};d.ewa=function(){};d.Jq=function(f){return Array.isArray(f)};d.nI=function(f){if(!d.Jq(f))throw new TypeError("expected array");};d.lS=function(){};d.Fva=function(...f){for(let c of f);};d.L5=function(f){return d.Jq(f)?f.length?d.Jq(f[0])?!0:!1:!0:!1};d.Eva=function(f){if(!d.L5(f))throw new TypeError("expected 2d array");
for(let c of f)if(!d.Jq(c))throw new TypeError("expected 2d array");};d.Yva=function(){};d.OH=function(f){return"function"===typeof f};d.hl=function(f,c){if(!d.OH(f))throw new TypeError("expected function");if(!d.bf(c)&&f!==c)throw new TypeError("expected same function reference");};d.nS=function(){};d.Hva=function(...f){for(let c of f);};d.Nva=function(f,...c){if(!d.OH(f))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let e of c)if(!d.bf(e)&&
f===e)return;throw new TypeError("expected same function reference");};d.Zva=function(...f){if(!d.bf(f))for(let c of f);};d.so=function(f,c){return f instanceof c};d.dR=function(f,...c){for(let e of c)if(d.so(f,e))return!0;return!1};d.oI=function(f,c){if(!d.so(f,c))throw new TypeError("unexpected type");};d.oS=function(){};d.Iva=function(f,...c){for(let e of c);};d.Ova=function(f,...c){if(!d.dR(f,...c))throw new TypeError("unexpected type");};d.Pva=function(f,...c){if(!d.bf(f)&&!d.dR(f,...c))throw new TypeError("unexpected type");
};d.Ora=function(f,c){for(let e of f)if(!d.so(e,c))return!1;return!0};d.Pra=function(f){for(let c of f)if(!d.ro(c))return!1;return!0};d.Qva=function(f){for(let c of f);};d.$va=function(f){if(!d.bf(f))for(let c of f);};d.Rva=function(f){for(let c of f);};d.awa=function(f){if(!d.bf(f))for(let c of f);};d.Ura=function(f,c){return d.bf(f)||!d.Fj(f.nodeName)?!1:!c||d.ki(f.nodeName,c)};d.Sva=function(f,c){if(d.bf(f)||!d.Fj(f.nodeName))throw new TypeError("expected DOM node");if(c&&!d.ki(f.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.bwa=function(){};d.PH=function(f,c){return d.bf(f)||!d.Fj(f.tagName)?!1:!c||d.ki(f.tagName,c)};d.Wva=function(f,c){if(d.bf(f)||!d.Fj(f.tagName))throw new TypeError("expected HTML element");if(c&&!d.ki(f.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.fwa=function(){};d.XQ=function(f){return d.PH(f,"img")||d.PH(f,"canvas")||d.PH(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.Tva=function(f){if(!d.XQ(f))throw new TypeError("expected drawable");
};d.cwa=function(){};d.YQ=function(f){return f instanceof ImageData?!0:d.XQ(f)};d.Uva=function(f){if(!d.YQ(f))throw new TypeError("expected drawable or image data");};d.dwa=function(f){if(!d.bf(f)&&!d.YQ(f))throw new TypeError("expected drawable or image data");};d.h6=function(f){return"string"===typeof f||f instanceof d.FH||f instanceof d.em};d.kwa=function(f){if(!d.h6(f))throw new TypeError("expected string-like");};d.hwa=function(){};d.Mva=function(...f){for(let c of f);};d.iwa=function(){throw Error("must be overridden");
};d.Mta=function(){throw Error("not yet implemented");};d.Wra=function(f,...c){if("undefined"===typeof f)return!1;for(let e of c){if("undefined"===typeof f[e])return!1;f=f[e]}return!0};d.bf=function(f){return"undefined"===typeof f||null===f};d.yna=function(f){let c=f[0].constructor;for(let e of f)if(e.constructor!==c)return!1;return c};d.zna=function(f,c){for(let e of f)if(!(e instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);d.Jsa=function(f){return d.so(f,a)};d.lwa=function(){};
d.Zza=function(f){d.xaa(f,a)};d.Yza=function(f,...c){if(!d.waa(f,...c))throw new TypeError("unexpected type");};d.waa=function(f,...c){for(const e of c)if(d.vT(f,e))return!0;return!1};d.xaa=function(f,c){if(!d.vT(f,c))throw new TypeError("unexpected type");};d.vT=function(f,c){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===c.name)return!0;return!1};b.Ug=d.Ug;b.pS=d.pS;b.Tg=d.Tg;b.mS=d.mS;b.If=d.If;b.rS=d.rS;b.kS=d.kS;b.qS=d.qS;b.nI=d.nI;b.lS=d.lS;b.hl=d.hl;b.nS=d.nS;b.oI=d.oI;b.oS=d.oS;
b.bf=d.bf}
{"use strict";const d=self.D,b=new Map;d.pva=function(q,...r){b.has(q)||b.set(q,-1);-1===b.get(q)&&b.set(q,requestAnimationFrame(()=>{console.log(`%c${q}`,"font-weight: bold",...r);b.set(q,-1)}))};d.UA=function(){return Error().stack};d.qpa=function(){debugger};d.GAa=function(q,r){return q&&q instanceof r?q:null};d.$l=function(q){return"undefined"===typeof q?"undefined":null===q?"null":"boolean"===typeof q?"<boolean>":d.uo(q)?"<number>":d.Fj(q)?"<string>":d.Jq(q)?"<array>":"symbol"===typeof q?"<"+
q.toString()+">":d.OH(q)?q.name&&"Function"!==q.name?q.name:"<anonymous function>":"object"===typeof q?q.constructor&&q.constructor.name&&"Object"!==q.constructor.name?q.constructor.name:"<anonymous object>":"<unknown>"};d.TF=function(q){return null===q?"null":Array.isArray(q)?"array":typeof q};d.range=function*(q,r){if(!isFinite(Math.abs(q-r)))throw Error("Invalid parameters");if(q>r)for(--q;q>=r;q--)yield q;else for(;q<r;q++)yield q};let a=new Map,f=new Map,c=new WeakMap,e=new WeakMap;d.jt={};const h=
new Set(["then","splice"]);function g(q){console.warn("[Defence] "+q+" @",d.UA())}d.jt.get=function(q,r){r in q||"symbol"===typeof r||h.has(r)||g(`Accessed missing property '${r}' from defended object '${d.$l(q)}', returning undefined`);e.has(q)&&"symbol"!==typeof r&&!h.has(r)&&g(`Accessed property '${r}' on a released object '${d.$l(q)}'\nObject was originally released at: ${e.get(q)})\nCall stack at access: `);return q[r]};d.jt.set=function(q,r,w){r in q||a.has(q)||g(`Set non-existent property '${r}' to '${w}' on defended object '${d.$l(q)}'`);
{var x=d.TF(q[r]);let u=d.TF(w);x="null"===x||"null"===u?!0:"undefined"===x||"undefined"===u?!1:x===u}x||a.has(q)||g(`Set '${d.TF(q[r])}' property '${r}' to type '${d.TF(w)}' on defended object '${d.$l(q)}'`);e.has(q)&&g(`Set property '${r}' on a released object '${d.$l(q)}'\nObject was originally released at: ${e.get(q)})\nCall stack at access: `);q[r]=w;return!0};d.jt.deleteProperty=function(q,r){throw new ReferenceError(`Cannot delete property '${r}' from defended object '${d.$l(q)}'`);};d.jt.defineProperty=
function(q,r){throw new ReferenceError(`Cannot define property '${r}' on defended object '${d.$l(q)}'`);};d.jt.TAa=function(q){throw new ReferenceError(`Cannot enumerate defended object '${d.$l(q)}'`);};let l=-1;function n(){l=-1;if(0<a.size||0<f.size){let q=[...new Set([...a.keys()].map(r=>d.$l(r)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${q}`);a.clear();
f.clear()}}d.za=class{constructor(){if(d.nO&&d.qc.fS){var q=new.target;q=Object.create(q.prototype);var r=new Proxy(q,d.jt);a.set(q,r);f.set(r,q);c.set(r,q);-1===l&&(l=requestAnimationFrame(n));return r}}};d.zka=function(q){if(d.nO&&d.qc.fS&&q instanceof d.za){if(!f.has(q))return q;let r=f.get(q);f.delete(q);a.delete(r);return q}return d.Ov?Object.seal(q):q};d.F=function(q,...r){let w;try{w=new q(...r)}catch(t){throw f.clear(),a.clear(),t;}if(d.nO){r=w;var x=new Set;for(u in r)x.add(u);var u=x;if(r=
p.get(q)){x=[];for(let t of r.values())u.has(t)?u.delete(t):x.push(t);d.cq(x,[...u]);x.length&&console.warn(`[Defence] '${d.$l(q)}' constructor creates inconsistent properties: ${x.join(", ")}`)}else p.set(q,u)}return d.zka(w)};d.B=function(q){(q=c.get(q))&&e.set(q,d.UA())};d.Xq=function(){let q=c.get(void 0);return q?!!e.get(q):!1};let p=new Map;d.jua=class{constructor(q){this.ra="";q&&this.start(q)}start(q){this.ra=q;performance.mark(this.ra+"-Start")}end(){performance.mark(this.ra+"-End");performance.measure(this.ra,
this.ra+"-Start",this.ra+"-End")}next(q){this.end();this.ra=q;performance.mark(this.ra+"-Start")}}}
{"use strict";const d=self.D,b=2*Math.PI,a=Math.PI/180,f=180/Math.PI;d.wrap=function(e,h,g){e=Math.floor(e);h=Math.floor(h);g=Math.floor(g);return e<h?(e=g-(h-e)%(g-h),e===g?0:e):h+(e-h)%(g-h)};d.xla=function(e,h,g,l){return(e-h)*(l-0)/(g-h)};d.normalize=function(e,h,g){return(e-h)/(g-h)};d.ia=function(e,h,g){return e<h?h:e>g?g:e};d.Pc=function(e){e%=b;0>e&&(e+=b);return e};d.Ga=function(e){return e*a};d.yd=function(e){return e*f};d.yf=function(e,h,g,l){return Math.hypot(g-e,l-h)};d.UZ=function(e,
h,g,l){e=g-e;h=l-h;return e*e+h*h};d.Ag=function(e,h,g,l){return Math.atan2(l-h,g-e)};d.Rs=function(e,h){if(e===h)return 0;e=Math.sin(e)*Math.sin(h)+Math.cos(e)*Math.cos(h);return 1<=e?0:-1>=e?Math.PI:Math.acos(e)};d.VN=function(e,h,g){let l=Math.sin(e),n=Math.cos(e),p=Math.sin(h),q=Math.cos(h);return Math.acos(l*p+n*q)>g?0<n*p-l*q?d.Pc(e+g):d.Pc(e-g):d.Pc(h)};d.Ye=function(e,h){return 0>=Math.cos(e)*Math.sin(h)-Math.sin(e)*Math.cos(h)};d.UN=function(e,h,g,l=0){let n=d.Rs(e,h);l*=b;return d.Ye(h,
e)?d.Pc(e+(n+l)*g):d.Pc(e-(n+l)*g)};d.jka=function(e,h,g,l=0){const n=d.Rs(e,h);l*=b;return d.Ye(h,e)?d.Pc(e+(n+l)*g):d.Pc((b-n+l)*g)};d.ika=function(e,h,g,l=0){const n=d.Rs(e,h);l*=b;return d.Ye(h,e)?d.Pc((-b+n-l)*g):d.Pc(e-(n+l)*g)};d.Qc=function(e,h,g){return e+g*(h-e)};d.lG=function(e,h,g){return e===h?0:(g-e)/(h-e)};d.Qla=function(e,h,g,l){return d.Qc(0,l,d.lG(e,h,g))};d.cG=function(e,h,g,l){return d.Qc(d.Qc(e,h,l),d.Qc(h,g,l),l)};d.SZ=function(e,h,g,l,n){return d.Qc(d.cG(e,h,g,n),d.cG(h,g,l,
n),n)};d.RZ=function(e,h,g){return(e+h+(e-h)*Math.cos(g*Math.PI))/2};d.cm=function(e){return 0<e&&0===(e-1&e)};d.wO=function(e){--e;for(let h=1;32>h;h<<=1)e|=e>>h;return e+1};d.PCa=function(e,h){return Math.round(e*h)/h};d.$Aa=function(e,h){return Math.floor(e*h)/h};d.Ws=function(e){return Math.round(1E6*e)/1E6};d.toFixed=function(e,h){e=e.toFixed(h);for(h=e.length-1;0<=h&&"0"===e.charAt(h);--h);0<=h&&"."===e.charAt(h)&&--h;return 0>h?e:e.substr(0,h+1)};d.f8=function(e,h,g){return d.ia(e,0,255)|d.ia(h,
0,255)<<8|d.ia(g,0,255)<<16};d.RB=function(e,h,g,l){e=d.ia(Math.floor(1024*e),-8192,8191);h=d.ia(Math.floor(1024*h),-8192,8191);g=d.ia(Math.floor(1024*g),-8192,8191);l=d.ia(Math.floor(1023*l),0,1023);0>e&&(e+=16384);0>h&&(h+=16384);0>g&&(g+=16384);return-(274877906944*e+16777216*h+1024*g+l)};d.cS=function(e,h,g){return d.RB(e,h,g,1)};d.tH=function(e){if(0<=e)return(e&255)/255;e=Math.floor(-e/274877906944);8191<e&&(e-=16384);return e/1024};d.hH=function(e){if(0<=e)return((e&65280)>>8)/255;e=Math.floor(-e%
274877906944/16777216);8191<e&&(e-=16384);return e/1024};d.UG=function(e){if(0<=e)return((e&16711680)>>16)/255;e=Math.floor(-e%16777216/1024);8191<e&&(e-=16384);return e/1024};d.W2=function(e){return 0===e&&0>1/e?0:0<=e?1:Math.floor(-e%1024)/1023};d.Vka=function(e,h){e=Math.floor(e);for(h=Math.floor(h);0!==h;){let g=h;h=e%h;e=g}return e};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.qBa=function(e,h){e=Math.floor(e);h=Math.floor(h);if(e===h)return[1,1];for(var g of c){let l=
e/g[0]*g[1];if(1>Math.abs(h-l))return g.slice(0);l=e/g[1]*g[0];if(1>Math.abs(h-l))return[g[1],g[0]]}g=d.Vka(e,h);return[e/g,h/g]};d.TCa=function(e,h,g,l,n,p,q,r){var w=Math.min(e,g),x=Math.max(n,q);if(Math.max(e,g)<Math.min(n,q)||w>x)return!1;w=Math.min(h,l);x=Math.max(p,r);if(Math.max(h,l)<Math.min(p,r)||w>x)return!1;w=n-e+q-g;x=p-h+r-l;e=g-e;h=l-h;n=q-n;p=r-p;r=Math.abs(h*n-p*e);return Math.abs(n*x-p*w)>r?!1:Math.abs(e*x-h*w)<=r};d.Yn=function(e,h,g,l,n,p,q,r,w,x,u,t){const A=Math.max(w,u);if(p<
Math.min(w,u)||n>A)return!1;n=Math.max(x,t);if(r<Math.min(x,t)||q>n)return!1;q=w-e+u-g;r=x-h+t-l;e=g-e;h=l-h;w=u-w;x=t-x;t=Math.abs(h*w-x*e);return Math.abs(w*r-x*q)>t?!1:Math.abs(e*r-h*q)<=t};d.dG=function(e,h,g,l,n){const p=Math.min(e,g),q=Math.max(e,g),r=Math.min(h,l),w=Math.max(h,l),x=n.Zb,u=n.$b,t=n.dd,A=n.ed,y=n.nd,C=n.od,F=n.Wc;n=n.Xc;return d.Yn(e,h,g,l,p,q,r,w,x,u,t,A)||d.Yn(e,h,g,l,p,q,r,w,t,A,y,C)||d.Yn(e,h,g,l,p,q,r,w,y,C,F,n)||d.Yn(e,h,g,l,p,q,r,w,F,n,x,u)};d.SCa=function(e,h,g,l,n){const p=
Math.min(e,g),q=Math.max(e,g),r=Math.min(h,l),w=Math.max(h,l);let x=0;for(let u=n.length-4;x<=u;x+=2)if(d.Yn(e,h,g,l,p,q,r,w,n[x],n[x+1],n[x+2],n[x+3]))return!0;return d.Yn(e,h,g,l,p,q,r,w,n[x],n[x+1],n[0],n[1])};d.Pla=function(e,h,g,l,n,p,q,r){g-=e;p=r-p;const w=g*p-(l-h)*(q-n);if(0===w)return 2;l=((h-l)*(q-e)+g*(r-h))/w;return 0<l&&1.000001>l?(p*(q-e)+(n-q)*(r-h))/w:2};d.lA=function(e,h,g,l,n,p,q,r,w){const x=(q-n)*w;w*=r-p;return d.Pla(e,h,g,l,n-x,p-w,q+x,r+w)};d.hla=function(e,h,g,l,n,p,q,r){n-=
g;p-=l;q-=g;r-=l;e-=g;g=h-l;h=n*n+p*p;l=n*q+p*r;n=n*e+p*g;p=q*q+r*r;q=q*e+r*g;r=1/(h*p-l*l);p=(p*n-l*q)*r;n=(h*q-l*n)*r;return 0<=p&&0<=n&&1>=p+n};d.mma=function(e,h,g,l,n,p,q,r){n-=g;p-=l;q-=g;r-=l;e-=g;const w=h-l;h=n*n+p*p;l=n*q+p*r;g=q*q+r*r;n=e*n+w*p;p=e*q+w*r;q=h*g-l*l;r=(g*n-l*p)/q;n=(h*p-l*n)/q;return[1-r-n,r,n]};d.lma=function(e,h,g,l,n,p,q,r,w){return[e*l+h*p+g*r,e*n+h*q+g*w]}}
{"use strict";const d=self.D;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}d.Rqa=function(){return a};d.VG=function(){if(!b)return"";const l=b.location;return d.c4(l.origin+l.pathname)+a};d.c4=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.Wqa=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.w3=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.bB=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.U6=function(l){return l.replace(/\\/g,"/")};d.bsa=function(l,n){return n===(l?d.w3(l).slice(1):"")};d.sqa=function(l,n){let p,q;d.NH(l)&&(p=d.bB(l.name));d.Fj(l)&&(p=
d.bB(l));d.NH(n)&&(q=d.bB(n.name));d.Fj(n)&&(q=d.bB(n));return p===q};d.hua=function(l){l=d.U6(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",r=l,w="";0<p&&(q=l.slice(0,p),r=l.slice(p));l=r;p=r.lastIndexOf(".");0<p&&(w=r.slice(p),l=r.slice(0,-w.length));return{dir:q,zAa:r,name:l,root:n,ext:w,lBa:n+q+r}};d.$I=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};d.cDa=function(l){try{l()}catch(n){d.Ov&&console.warn("Swallowed exception: ",n)}};d.gCa=function(){};d.ki=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.UAa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.nma=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};d.Ke=function(l,n){l.length=n};d.I=function(l){l&&0!==l.length&&d.Ke(l,0)};d.vka=function(l){if(l){for(let n=0;n<l.length;n++)d.Ke(l[n],0);d.Ke(l,0)}};d.RF=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};d.r_=function(l){var n=4;const p=l.length;n<p?d.Ke(l,n):n>p&&d.RF(l,n,"0")};d.fe=function(l,n){d.I(l);d.cq(l,n)};d.cq=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
d.nka=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];d.Ke(l,p)}};d.Ss=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.yAa=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};d.mka=function(l,n){let p=[],q=0;for(let r=0,w=l.length;r<w;++r){let x=l[r];n(x)?p.push(x):(l[q]=x,++q)}d.Ke(l,q);return p};d.ji=function(l,n){const p=l.length;let q=0;for(let r=0,w=l.length;r<w;++r){let x=l[r];n.has(x)||
(l[q++]=x)}d.Ke(l,q);return p-q};d.cla=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.qDa=function(l,n){if(!d.cla(l,n))throw new RangeError("array index out of bounds");};d.MF=function(l){return l.slice()};d.Aka=function(l,n){let p=[];for(let q of l)if(d.gR(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else d.Jq(q)?p.push(d.Aka(q,n)):p.push(q);return p};d.HAa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};d.cCa=function(l,n){return new Set([...l,...n])};d.dCa=function(l,n){for(const p of n)l.add(p);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};d.yBa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.r8=function(l,n){return l.length?new Promise((p,
q)=>{const r=[];let w=0,x=!1;for(let u=0,t=l.length;u<t;++u)r.push(void 0),l[u].then(A=>{x||(r[u]=A,++w,w===l.length?p(r):n(w,l.length))}).catch(A=>{x=!0;q(A)})}):Promise.resolve([])};let f=[];d.Tma=function(l){f.push(l)};d.Vqa=function(){let l=0;for(let n of f){let p=n();l+=p}return Math.floor(l)};let c=1;const e=new Map,h=new MessageChannel;h.port2.onmessage=function(l){l=l.data;const n=e.get(l);e.delete(l);n&&n(performance.now())};d.mI=function(l){const n=c++;e.set(n,l);h.port1.postMessage(n);
return n};d.B0=function(l){e.delete(l)};d.m8=d.mI;d.taa=function(){return new Promise(l=>d.m8(l))};const g=new Set;d.Dva=function(l){const n=self.requestAnimationFrame(async p=>{await d.taa();g.has(n)&&(g.delete(n),l(p))});g.add(n);return n};d.goa=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.D;d.JH=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.UH=function(b){return!d.JH(b)};d.Z$=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.QA=function(b){return fetch(b,void 0).then(a=>{d.Z$(a);return a})};d.mw=function(b){return d.QA(b).then(a=>a.text())};d.PP=function(b){return d.QA(b).then(a=>a.json())};d.jm=function(b){return d.QA(b).then(a=>a.blob())};d.lw=function(b){return d.QA(b).then(a=>
a.arrayBuffer())};d.N2=function(b){return new Promise((a,f)=>{const c=new Image;c.onload=()=>a(c);c.onerror=e=>f(e);c.src=b})};d.t0=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,f)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>f(c.error);c.readAsArrayBuffer(b)})};d.fP=function(b){return"function"===typeof b.text?b.text():new Promise((a,f)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>f(c.error);c.readAsText(b)})};d.Ona=function(b){return d.fP(b).then(a=>
JSON.parse(a))};d.eP=async function(b,a){b=URL.createObjectURL(b);try{const f=await d.N2(b);URL.revokeObjectURL(b);b="";a&&"function"===typeof f.decode&&await f.decode();return f}finally{b&&URL.revokeObjectURL(b)}};d.eg=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=b;f.height=a;return f}return new OffscreenCanvas(b,a)};d.gw=function(b,a,f){"number"!==typeof f&&(f=1);a=a||"image/png";f=d.ia(f,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,f)):b.convertToBlob?b.convertToBlob({type:a,quality:f}):d.dm(()=>d.pP(b,a,f))};d.pP=function(b,a,f){"number"!==typeof f&&(f=1);a=a||"image/png";f=d.ia(f,0,1);return d.o1(b.toDataURL(a,f))};d.o1=function(b){b=d.g8(b);return d.s0(b.data,b.yla)};d.g8=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var f=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];f="base64"===a[1]||"base64"===c?atob(f):decodeURIComponent(f);return{yla:b,data:f}};d.s0=function(b,a){var f=b.length;let c=f>>2,e=new Uint8Array(f),h=new Uint32Array(e.buffer,0,c),g,l;for(l=g=0;g<c;++g)h[g]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(f&=3;f--;)e[l]=b.charCodeAt(l),++l;return a?new Blob([e],{type:a}):new Blob([e])};d.GP=function(b){const a=d.eg(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return d.gw(a,void 0,void 0)};d.yra=
function(b,a,f){const c=d.eg(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.pP(c,a,f)};d.d5=function(b){if(d.qc.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>d.GP(a));if(d.qc.ImageBitmap)return createImageBitmap(b).then(a=>d.GP(a));{const a=d.eg(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return d.gw(a,void 0,void 0)}};d.b1=function(b,a){b.clear();for(const f of a)b.add(f)};d.rR=function(b){const a=Object.create(null);for(const [f,
c]of b.entries())a[f]=c;return a};d.wR=function(b,a){a.clear();for(const [f,c]of Object.entries(b))a.set(f,c)};d.XI=function f(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>f(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],f(c[1])])};{const c=Object.create(null);for(const [e,h]of Object.entries(a))c[e]=f(h);return c}}return a};d.QG=function c(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(e=>
c(e)));if("map"===f._c3type_)return new Map(f.data.map(e=>[e[0],c(e[1])]));{const e=Object.create(null);for(const [h,g]of Object.entries(f))e[h]=c(g);return e}}return f};d.w0=function(f){let c="",e=!1;for(const h of f)"-"===h?e=!0:e?(c+=h.toUpperCase(),e=!1):c+=h;return c};d.to=function(f){return"object"===typeof f&&"function"===typeof f.next};d.K6=function(f){const c=[];for(let e=0;e<f;++e)c.push(0);return c}}
{"use strict";const d=self.D,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function f(c,e,h){0>h&&(h+=1);1<h&&--h;return h<1/6?c+6*(e-c)*h:.5>h?e:h<2/3?c+(e-c)*(2/3-h)*6:c}d.ub=class{constructor(c,e,h,g){this.ib=this.nb=this.Fa=this.pb=0;c instanceof d.ub?this.set(c):this.oq(c||0,e||0,h||0,g||0)}gG(c,e,h){this.pb=+c;this.Fa=+e;this.nb=+h;this.ia()}oq(c,e,h,g){this.pb=+c;this.Fa=+e;this.nb=+h;this.ib=+g;this.ia()}set(c){this.pb=c.pb;this.Fa=c.Fa;this.nb=c.nb;
this.ib=c.ib;return this}Na(c){return this.set(c)}add(c){this.pb+=c.pb;this.Fa+=c.Fa;this.nb+=c.nb;this.ib+=c.ib;this.ia()}HZ(c,e,h){this.pb+=+c;this.Fa+=+e;this.nb+=+h;this.ib+=0;this.ia()}Tn(c){this.pb=c.pb;this.Fa=c.Fa;this.nb=c.nb}Zs(c){this.pb=d.ia(+c,0,1)}Ys(c){this.Fa=d.ia(+c,0,1)}Xs(c){this.nb=d.ia(+c,0,1)}li(c){this.ib=d.ia(+c,0,1)}clone(){return d.F(d.ub,this.pb,this.Fa,this.nb,this.ib)}toArray(){return[this.pb,this.Fa,this.nb,this.ib]}mi(c,e){c[e++]=this.pb;c[e++]=this.Fa;c[e++]=this.nb;
c[e]=this.ib}xd(c){return this.pb===c.pb&&this.Fa===c.Fa&&this.nb===c.nb&&this.ib===c.ib}hq(c){return this.pb===c.pb&&this.Fa===c.Fa&&this.nb===c.nb}aA(c,e,h,g){return this.pb===c&&this.Fa===e&&this.nb===h&&this.ib===g}multiply(c){this.pb*=c.pb;this.Fa*=c.Fa;this.nb*=c.nb;this.ib*=c.ib}bG(){this.pb*=this.ib;this.Fa*=this.ib;this.nb*=this.ib}ia(){this.pb=d.ia(this.pb,0,1);this.Fa=d.ia(this.Fa,0,1);this.nb=d.ia(this.nb,0,1);this.ib=d.ia(this.ib,0,1);return this}pA(c){this.pb=d.tH(c);this.Fa=d.hH(c);
this.nb=d.UG(c);this.ib=d.W2(c)}Rka(){return`rgb(${100*(d.ro(void 0)?NaN:this.pb)}%, ${100*(d.ro(void 0)?NaN:this.Fa)}%, ${100*(d.ro(void 0)?NaN:this.nb)}%)`}Jla(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var e=parseInt(c[0],16)/15;var h=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)e=parseInt(c.substr(0,2),16)/255,h=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(e)&&this.Zs(e);isFinite(h)&&this.Ys(h);
isFinite(c)&&this.Xs(c);this.li(1)}}$F(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/255;var h=parseInt(e[1].trim(),10)/255;e=parseInt(e[2].trim(),10)/255;isFinite(c)&&this.Zs(c);isFinite(h)&&this.Ys(h);isFinite(e)&&this.Xs(e);this.li(1)}}}k_(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/100;var h=parseInt(e[1].trim(),10)/100;e=parseInt(e[2].trim(),
10)/100;isFinite(c)&&this.Zs(c);isFinite(h)&&this.Ys(h);isFinite(e)&&this.Xs(e);this.li(1)}}}m_(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=parseInt(e[0].trim(),10)/255;var h=parseInt(e[1].trim(),10)/255,g=parseInt(e[2].trim(),10)/255;e=parseFloat(e[3].trim());isFinite(c)&&this.Zs(c);isFinite(h)&&this.Ys(h);isFinite(g)&&this.Xs(g);isFinite(e)&&this.li(e)}}}l_(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=
parseInt(e[0].trim(),10)/100;var h=parseInt(e[1].trim(),10)/100,g=parseInt(e[2].trim(),10)/100;e=parseFloat(e[3].trim());isFinite(c)&&this.Zs(c);isFinite(h)&&this.Ys(h);isFinite(g)&&this.Xs(g);isFinite(e)&&this.li(e)}}}n_(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.k_(c):this.$F(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.l_(c):this.m_(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.Ila(c);return}{const e=
c.split(",");if(c.includes("%")){if(3===e.length){this.k_(c);return}4===e.length&&this.l_(c)}else{if(3===e.length){this.$F(c);return}4===e.length&&this.m_(c)}return}}this.Jla(c)}}toJSON(){return[this.pb,this.Fa,this.nb,this.ib]}u_(c,e,h,g){c%=360;e=d.ia(e,0,100);h=d.ia(h,0,100);g=d.ia(g,0,1);c/=360;e/=100;h/=100;if(0===e)h=e=c=h;else{const l=.5>h?h*(1+e):h+e-h*e,n=2*h-l;h=f(n,l,c+1/3);e=f(n,l,c);c=f(n,l,c-1/3)}this.Zs(h);this.Ys(e);this.Xs(c);this.li(g)}Ila(c){var e=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=b.exec(e);e=a.exec(e);c&&4===c.length?this.u_(+c[1],+c[2],+c[3],1):e&&5===e.length&&this.u_(+c[1],+c[2],+c[3],+c[4])}mq(c){!Array.isArray(c)||3>c.length||(this.pb=c[0],this.Fa=c[1],this.nb=c[2],this.ib=4<=c.length?c[3]:1)}set r(c){this.Zs(c)}get r(){return this.pb}set Qka(c){this.Ys(c)}get Qka(){return this.Fa}set pka(c){this.Xs(c)}get pka(){return this.nb}set $p(c){this.li(c)}get $p(){return this.ib}static KG(c,e){return d.ia(Math.max(c,e)-Math.min(c,e),0,1)}};d.ub.cAa=Object.freeze(d.F(d.ub,
1,1,1,1));d.ub.Mna=Object.freeze(d.F(d.ub,0,0,0,1));d.ub.wza=Object.freeze(d.F(d.ub,0,0,0,0))}
{"use strict";const d=self.D;d.qx=class{constructor(b,a){this.Z=this.fa=0;b instanceof d.qx?this.Na(b):this.set(b||0,a||0)}set(b,a){this.fa=+b;this.Z=+a}Na(b){this.fa=b.fa;this.Z=b.Z}xd(b){return this.fa===b.fa&&this.Z===b.Z}toArray(){return[this.fa,this.Z]}mi(b,a){b[a++]=this.fa;b[a]=this.Z}offset(b,a){this.fa+=+b;this.Z+=+a}scale(b,a){this.fa*=b;this.Z*=a}Zl(b,a){this.fa/=b;this.Z/=a}round(){this.fa=Math.round(this.fa);this.Z=Math.round(this.Z)}floor(){this.fa=Math.floor(this.fa);this.Z=Math.floor(this.Z)}ceil(){this.fa=
Math.ceil(this.fa);this.Z=Math.ceil(this.Z)}angle(){return d.Ag(0,0,this.fa,this.Z)}rla(){return this.fa*this.fa+this.Z*this.Z}length(){return Math.sqrt(this.rla())}Sla(b,a){const f=this.fa*a-this.Z*b;this.Z=this.Z*a+this.fa*b;this.fa=f}rotate(b){0!==b&&this.Sla(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.fa+=Math.cos(b)*a,this.Z+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.fa/=b,this.Z/=b)}ia(b,a){this.fa=d.ia(this.fa,b,a);this.Z=d.ia(this.Z,b,a)}}}
{"use strict";const d=self.D;d.Rect=class{constructor(b,a,f,c){this.ba=this.ca=this.U=this.X=0;b instanceof d.Rect?this.Na(b):this.set(b||0,a||0,f||0,c||0)}set(b,a,f,c){this.X=+b;this.U=+a;this.ca=+f;this.ba=+c}oj(b,a,f,c){b=+b;a=+a;this.X=b;this.U=a;this.ca=b+ +f;this.ba=a+ +c}Na(b){this.X=+b.X;this.U=+b.U;this.ca=+b.ca;this.ba=+b.ba}clone(){return new d.Rect(this.X,this.U,this.ca,this.ba)}xd(b){return this.X===b.X&&this.U===b.U&&this.ca===b.ca&&this.ba===b.ba}Zla(b){this.ca=+b}toArray(){return[this.X,
this.U,this.ca,this.ba]}gma(){new DOMRect(this.X,this.U,this.width(),this.height())}mi(b,a){b[a++]=this.X;b[a++]=this.U;b[a++]=this.ca;b[a]=this.ba}vma(b,a){b[a++]=this.X;b[a++]=this.U;b[a++]=this.ca;b[a++]=this.U;b[a++]=this.ca;b[a++]=this.ba;b[a++]=this.X;b[a]=this.ba}width(){return this.ca-this.X}height(){return this.ba-this.U}mj(){return(this.X+this.ca)/2}nj(){return(this.U+this.ba)/2}offset(b,a){b=+b;a=+a;this.X+=b;this.U+=a;this.ca+=b;this.ba+=a}offsetLeft(b){this.X+=+b}offsetTop(b){this.U+=
+b}Ela(b){this.ca+=+b}Dla(b){this.ba+=+b}VF(b,a){b=+b;a=+a;this.X-=b;this.U-=a;this.ca+=b;this.ba+=a}multiply(b,a){this.X*=b;this.U*=a;this.ca*=b;this.ba*=a}Zl(b,a){this.X/=b;this.U/=a;this.ca/=b;this.ba/=a}dma(){const b=this.X;this.X=this.ca;this.ca=b}$s(){const b=this.U;this.U=this.ba;this.ba=b}OO(b){const a=this.U;this.U=+b-this.ba;this.ba=+b-a}round(){this.X=Math.round(this.X);this.U=Math.round(this.U);this.ca=Math.round(this.ca);this.ba=Math.round(this.ba)}Tla(){this.X=Math.floor(this.X);this.U=
Math.floor(this.U);this.ca=Math.ceil(this.ca);this.ba=Math.ceil(this.ba)}floor(){this.X=Math.floor(this.X);this.U=Math.floor(this.U);this.ca=Math.floor(this.ca);this.ba=Math.floor(this.ba)}ceil(){this.X=Math.ceil(this.X);this.U=Math.ceil(this.U);this.ca=Math.ceil(this.ca);this.ba=Math.ceil(this.ba)}ia(b,a,f,c){this.X<b&&(this.X=+b);this.U<a&&(this.U=+a);this.ca>f&&(this.ca=+f);this.ba>c&&(this.ba=+c)}QZ(){0>this.X&&(this.X=0);1<this.U&&(this.U=1);1<this.ca&&(this.ca=1);0>this.ba&&(this.ba=0)}normalize(){this.X>
this.ca&&this.dma();this.U>this.ba&&this.$s()}WF(b){return!(b.ca<this.X||b.ba<this.U||b.X>this.ca||b.U>this.ba)}bla(b,a,f){return!(b.ca+a<this.X||b.ba+f<this.U||b.X+a>this.ca||b.U+f>this.ba)}Cg(b,a){return b>=this.X&&b<=this.ca&&a>=this.U&&a<=this.ba}sla(b){this.X=d.Qc(b.X,b.ca,this.X);this.U=d.Qc(b.U,b.ba,this.U);this.ca=d.Qc(b.X,b.ca,this.ca);this.ba=d.Qc(b.U,b.ba,this.ba)}}}
{"use strict";const d=self.D;d.Ad=class{constructor(b,a,f,c,e,h,g,l){this.Xc=this.Wc=this.od=this.nd=this.ed=this.dd=this.$b=this.Zb=0;b instanceof d.Ad?this.Na(b):this.set(b||0,a||0,f||0,c||0,e||0,h||0,g||0,l||0)}set(b,a,f,c,e,h,g,l){this.Zb=+b;this.$b=+a;this.dd=+f;this.ed=+c;this.nd=+e;this.od=+h;this.Wc=+g;this.Xc=+l}v_(b,a,f,c){this.set(b,a,f,a,f,c,b,c)}Na(b){this.Zb=b.Zb;this.$b=b.$b;this.dd=b.dd;this.ed=b.ed;this.nd=b.nd;this.od=b.od;this.Wc=b.Wc;this.Xc=b.Xc}xd(b){return this.Zb===b.Zb&&this.$b===
b.$b&&this.dd===b.dd&&this.ed===b.ed&&this.nd===b.nd&&this.od===b.od&&this.Wc===b.Wc&&this.Xc===b.Xc}toArray(){return[this.Zb,this.$b,this.dd,this.ed,this.nd,this.od,this.Wc,this.Xc]}mi(b,a){b[a++]=this.Zb;b[a++]=this.$b;b[a++]=this.dd;b[a++]=this.ed;b[a++]=this.nd;b[a++]=this.od;b[a++]=this.Wc;b[a]=this.Xc}wma(b,a,f){b[a++]=this.Zb;b[a++]=this.$b;b[a++]=f;b[a++]=this.dd;b[a++]=this.ed;b[a++]=f;b[a++]=this.nd;b[a++]=this.od;b[a++]=f;b[a++]=this.Wc;b[a++]=this.Xc;b[a]=f}offset(b,a){b=+b;a=+a;this.Zb+=
b;this.$b+=a;this.dd+=b;this.ed+=a;this.nd+=b;this.od+=a;this.Wc+=b;this.Xc+=a}round(){this.Zb=Math.round(this.Zb);this.$b=Math.round(this.$b);this.dd=Math.round(this.dd);this.ed=Math.round(this.ed);this.nd=Math.round(this.nd);this.od=Math.round(this.od);this.Wc=Math.round(this.Wc);this.Xc=Math.round(this.Xc)}floor(){this.Zb=Math.floor(this.Zb);this.$b=Math.floor(this.$b);this.dd=Math.floor(this.dd);this.ed=Math.floor(this.ed);this.nd=Math.floor(this.nd);this.od=Math.floor(this.od);this.Wc=Math.floor(this.Wc);
this.Xc=Math.floor(this.Xc)}ceil(){this.Zb=Math.ceil(this.Zb);this.$b=Math.ceil(this.$b);this.dd=Math.ceil(this.dd);this.ed=Math.ceil(this.ed);this.nd=Math.ceil(this.nd);this.od=Math.ceil(this.od);this.Wc=Math.ceil(this.Wc);this.Xc=Math.ceil(this.Xc)}nq(b){this.Zb=b.X;this.$b=b.U;this.dd=b.ca;this.ed=b.U;this.nd=b.ca;this.od=b.ba;this.Wc=b.X;this.Xc=b.ba}qA(b,a){0===a?this.nq(b):this.eG(b,Math.sin(a),Math.cos(a))}eG(b,a,f){const c=b.X*a,e=b.U*a,h=b.ca*a;a*=b.ba;const g=b.X*f,l=b.U*f,n=b.ca*f;b=b.ba*
f;this.Zb=g-e;this.$b=l+c;this.dd=n-e;this.ed=l+h;this.nd=n-a;this.od=b+h;this.Wc=g-a;this.Xc=b+c}iO(b){b.set(Math.min(this.Zb,this.dd,this.nd,this.Wc),Math.min(this.$b,this.ed,this.od,this.Xc),Math.max(this.Zb,this.dd,this.nd,this.Wc),Math.max(this.$b,this.ed,this.od,this.Xc))}Cg(b,a){var f=this.dd-this.Zb,c=this.ed-this.$b;const e=this.nd-this.Zb,h=this.od-this.$b;b-=this.Zb;a-=this.$b;var g=f*f+c*c;let l=f*e+c*h;c=f*b+c*a;const n=e*e+h*h,p=e*b+h*a;let q=1/(g*n-l*l);f=(n*c-l*p)*q;g=(g*p-l*c)*q;
if(0<=f&&0<g&&1>f+g)return!0;f=this.Wc-this.Zb;c=this.Xc-this.$b;g=f*f+c*c;l=f*e+c*h;c=f*b+c*a;q=1/(g*n-l*l);f=(n*c-l*p)*q;g=(g*p-l*c)*q;return 0<=f&&0<g&&1>f+g}mj(){return(this.Zb+this.dd+this.nd+this.Wc)/4}nj(){return(this.$b+this.ed+this.od+this.Xc)/4}lO(b){var a=b.mj(),f=b.nj();if(this.Cg(a,f))return!0;a=this.mj();f=this.nj();if(b.Cg(a,f))return!0;a=this.Zb;f=this.$b;const c=this.dd,e=this.ed,h=this.nd,g=this.od,l=this.Wc,n=this.Xc;return d.dG(a,f,c,e,b)||d.dG(c,e,h,g,b)||d.dG(h,g,l,n,b)||d.dG(l,
n,a,f,b)}}}
{"use strict";const d=self.D,b=[0,0,1,0,1,1,0,1],a=d.F(d.Ad);d.rq=class extends d.za{constructor(f,c=!0){super();f||(f=b);this.$d=Float64Array.from(f);this.kD=new d.Rect;this.Qr=!0;this.Rh=c}B(){}CO(){return this.$d.length/2}fG(f){this.$d.length===f.length?this.$d.set(f):this.$d=Float64Array.from(f);this.Qr=!0}Yla(){this.fG(b)}Na(f){this.fG(f.$d)}t_(){this.Qr=!0}$ja(){if(this.Qr){var f=this.$d,c=f[0],e=f[1],h=c,g=e;for(let l=0,n=f.length;l<n;l+=2){const p=f[l],q=f[l+1];p<c&&(c=p);p>h&&(h=p);q<e&&
(e=q);q>g&&(g=q)}this.kD.set(c,e,h,g);this.Qr=!1}}nq(f){let c=this.$d;8!==c.length&&(this.$d=c=new Float64Array(8));c[0]=f.X-NaN;c[1]=f.U-NaN;c[2]=f.ca-NaN;c[3]=f.U-NaN;c[4]=f.ca-NaN;c[5]=f.ba-NaN;c[6]=f.X-NaN;c[7]=f.ba-NaN;this.kD.Na(f);this.kD.offset(NaN,NaN);this.Qr=!1}NO(f,c,e){a.Na(f);a.offset(c,e);this.fG(a.toArray());this.Qr=!0}transform(f,c,e){let h=0,g=1;0!==e&&(h=Math.sin(e),g=Math.cos(e));this.VO(f,c,h,g)}VO(f,c,e,h){const g=this.$d;for(let l=0,n=g.length;l<n;l+=2){const p=l+1,q=g[l]*f,
r=g[p]*c;g[l]=q*h-r*e;g[p]=r*h+q*e}this.Qr=!0}offset(f,c){const e=this.$d;for(let h=0,g=e.length;h<g;h+=2)e[h]+=f,e[h+1]+=c}Cg(f,c){const e=this.$d;if(f===e[0]&&c===e[1])return!0;this.$ja();var h=this.kD;const g=h.X-110,l=h.U-101,n=h.ca+131;h=h.ba+120;let p,q,r,w,x,u,t,A;g<f?(p=g,r=f):(p=f,r=g);l<c?(q=l,w=c):(q=c,w=l);n<f?(x=n,t=f):(x=f,t=n);h<c?(u=h,A=c):(u=c,A=h);let y=0,C=0;for(let H=0,J=e.length;H<J;H+=2){var F=(H+2)%J;const M=e[H],P=e[H+1],S=e[F];F=e[F+1];d.Yn(g,l,f,c,p,r,q,w,M,P,S,F)&&++y;d.Yn(n,
h,f,c,x,t,u,A,M,P,S,F)&&++C}return 1===y%2||1===C%2}dA(f,c,e){const h=f.$d,g=this.$d;if(this.Cg(h[0]+c,h[1]+e)||f.Cg(g[0]-c,g[1]-e))return!0;for(let n=0,p=g.length;n<p;n+=2){var l=(n+2)%p;f=g[n];const q=g[n+1],r=g[l];l=g[l+1];let w,x,u,t;f<r?(w=f,u=r):(w=r,u=f);q<l?(x=q,t=l):(x=l,t=q);for(let A=0,y=h.length;A<y;A+=2){const C=(A+2)%y;if(d.Yn(f,q,r,l,w,u,x,t,h[A]+c,h[A+1]+e,h[C]+c,h[C+1]+e))return!0}}return!1}Hf(){return this.Rh}}}
{"use strict";const d=self.D;d.Qw=class extends d.za{constructor(b){super();this.Al=new Map;if(b)for(const [a,f,c]of b)this.Set(a,f,c)}B(){this.Rc();this.Al=null}Rc(){const b=this.Al;for(const a of b.values())a.clear();b.clear()}Set(b,a,f){const c=this.Al;let e=c.get(b);e||(e=new Map,c.set(b,e));e.set(a,f)}ma(b,a){return(b=this.Al.get(b))?b.get(a):b}vB(b){return(b=this.Al.get(b))?b.has(void 0):!1}sq(b,a){const f=this.Al,c=f.get(b);c&&c.delete(a)&&0===c.size&&f.delete(b)}EP(b){const a=this.Al,f=a.get(b);
f&&(f.clear(),a.delete(b));for(const [c,e]of a.entries())e.delete(b)&&0===e.size&&a.delete(c)}no(){let b=0;for(const a of this.Al.values())b+=a.size;return b}*values(){for(const b of this.Al.values())yield*b.values()}*entries(){for(const [b,a]of this.Al.entries())for(const [f,c]of a.entries())yield[b,f,c]}}}
{"use strict";const d=self.D;d.uG=class extends d.za{constructor(){super();this.Lp=new Set;this.gD=[];this.ez=!1}B(){this.Rc()}Rc(){this.Lp.clear();d.I(this.gD);this.ez=!1}Ec(b){this.Lp.has(b)||(this.Lp.add(b),this.ez||this.gD.push(b))}vB(b){return this.Lp.has(b)}sq(b){this.Lp.delete(b)&&(this.ez=!0)}no(){return this.Lp.size}qo(){return 0===this.Lp.size}TG(){this.ez&&(this.Wfa(),this.ez=!1);return this.gD}Wfa(){const b=this.gD;d.I(b);for(const a of this.Lp)b.push(a)}}}
{"use strict";const d=new Map,b=new Map,a=new Map,f=new Map,c=new Map,e=new Map;e.set("linear","noease");e.set("default","noease");self.jw=class h{constructor(){}static W5(g){this.nJ();return[...b.keys()].includes(g)}static qda(g){const l=e.get(g);if(l)return d.get(l);if(h.W5(g))return d.get(g);if(c.has(g))return c.get(g)}static Aq(g){this.nJ();const l=h.qda(g);return l?l:f.get(g)}static nJ(){0===d.size&&(this.Wb("default",()=>{}),this.Wb("noease",this.T6),this.Wb("easeinsine",this.t2),this.Wb("easeoutsine",
this.C2),this.Wb("easeinoutsine",this.p2),this.Wb("easeinelastic",this.e2),this.Wb("easeoutelastic",this.x2),this.Wb("easeinoutelastic",this.k2),this.Wb("easeinback",this.b2),this.Wb("easeoutback",this.u2),this.Wb("easeinoutback",this.g2),this.Wb("easeinbounce",this.HP),this.Wb("easeoutbounce",this.MG),this.Wb("easeinoutbounce",this.h2),this.Wb("easeincubic",this.d2),this.Wb("easeoutcubic",this.w2),this.Wb("easeinoutcubic",this.j2),this.Wb("easeinquad",this.q2),this.Wb("easeoutquad",this.z2),this.Wb("easeinoutquad",
this.m2),this.Wb("easeinquart",this.r2),this.Wb("easeoutquart",this.A2),this.Wb("easeinoutquart",this.n2),this.Wb("easeinquint",this.s2),this.Wb("easeoutquint",this.B2),this.Wb("easeinoutquint",this.o2),this.Wb("easeincirc",this.c2),this.Wb("easeoutcirc",this.v2),this.Wb("easeinoutcirc",this.i2),this.Wb("easeinexpo",this.f2),this.Wb("easeoutexpo",this.y2),this.Wb("easeinoutexpo",this.l2),this.CT("cubicbezier",this.a2),this.CT("spline",this.D2))}static Wb(g,l){h.eJ(g,l,"predefined")}static CT(g,l){h.eJ(g,
l,"private")}static O_(g,l){this.nJ();h.eJ(g,l,"custom",void 0)}static eJ(g,l,n,p){switch(n){case "predefined":d.set(g,l);b.set(g,l);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(g,l)):f.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static T6(g,l,n,p){return n*g/p+l}static q2(g,l,n,p){return n*(g/=p)*g+l}static z2(g,l,n,p){return-n*(g/=p)*(g-2)+l}static m2(g,l,n,p){return 1>(g/=p/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static d2(g,
l,n,p){return n*(g/=p)*g*g+l}static w2(g,l,n,p){return n*((g=g/p-1)*g*g+1)+l}static j2(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static r2(g,l,n,p){return n*(g/=p)*g*g*g+l}static A2(g,l,n,p){return-n*((g=g/p-1)*g*g*g-1)+l}static n2(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static s2(g,l,n,p){return n*(g/=p)*g*g*g*g+l}static B2(g,l,n,p){return n*((g=g/p-1)*g*g*g*g+1)+l}static o2(g,l,n,p){return 1>(g/=p/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static t2(g,
l,n,p){return-n*Math.cos(g/p*(Math.PI/2))+n+l}static C2(g,l,n,p){return n*Math.sin(g/p*(Math.PI/2))+l}static p2(g,l,n,p){return-n/2*(Math.cos(Math.PI*g/p)-1)+l}static f2(g,l,n,p){return 0===g?l:n*Math.pow(2,10*(g/p-1))+l}static y2(g,l,n,p){return g===p?l+n:n*(-Math.pow(2,-10*g/p)+1)+l}static l2(g,l,n,p){return 0===g?l:g===p?l+n:1>(g/=p/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static c2(g,l,n,p){return-n*(Math.sqrt(1-(g/=p)*g)-1)+l}static v2(g,l,n,p){return n*Math.sqrt(1-(g=g/p-
1)*g)+l}static i2(g,l,n,p){return 1>(g/=p/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static e2(g,l,n,p){let q=0,r=n;if(0===g)return l;if(1===(g/=p))return l+n;q||(q=.3*p);r<Math.abs(n)?(r=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*--g)*Math.sin(2*(g*p-n)*Math.PI/q))+l}static x2(g,l,n,p){let q,r=0,w=n;if(0===g)return l;if(1===(g/=p))return l+n;r||(r=.3*p);w<Math.abs(n)?(w=n,q=r/4):q=r/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*p-q)*
Math.PI/r)+n+l}static k2(g,l,n,p){let q,r=0,w=n;if(0===g)return l;if(2===(g/=p/2))return l+n;r||(r=.3*p*1.5);w<Math.abs(n)?(w=n,q=r/4):q=r/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*p-q)*Math.PI/r)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*p-q)*Math.PI/r)*.5+n+l}static b2(g,l,n,p,q){void 0===q&&(q=1.70158);return n*(g/=p)*g*((q+1)*g-q)+l}static u2(g,l,n,p,q){void 0===q&&(q=1.70158);return n*((g=g/p-1)*g*((q+1)*g+q)+1)+l}static g2(g,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(g/=p/2)?n/2*g*g*(((q*=1.525)+1)*g-q)+l:n/2*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)+l}static HP(g,l,n,p){return n-h.MG(p-g,0,n,p)+l}static MG(g,l,n,p){return(g/=p)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static h2(g,l,n,p){return g<p/2?.5*h.HP(2*g,0,n,p)+l:.5*h.MG(2*g-p,0,n,p)+.5*n+l}static a2(g,l,n,p,q){return l+3*g*(n-l)+3*g**2*(l+p-2*n)+g**3*(q-l+3*n-3*p)}static D2(g,l,n,p,q,r,w,x,u,t){if(p===
q&&r===w)return g;if(1==g)g=1;else{for(var A=0,y=1,C=t[y];10!=y&&C<=g;)y++,C=t[y],A+=.1;y--;C=t[y];t=A+(g-C)/(t[y+1]-C)*.1;x=x-3*r+3*p-l;r=3*r-6*p+3*l;l=3*(p-l);p=3*x*t*t+2*r*t+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)t-=(((x*t+r)*t+l)*t-g)/(3*x*t*t+2*r*t+l);else{p=A;A+=.1;y=0;let F;do t=p+(A-p)/2,C=((x*t+r)*t+l)*t-g,0<C?A=t:p=t,C=1E-7<Math.abs(C),F=10>++y;while(C&&F)}g=t}return(((u-3*w+3*q-n)*g+(3*w-6*q+3*n))*g+3*(q-n))*g}static e3(g,l,n,p){const q=[];p=p-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let r=
0;11>r;++r)l=.1*r,q.push(((p*l+n)*l+g)*l);return q}}}{"use strict";const d=self.D;d.jva=class{constructor(){this.aY=[]}B(){this.Rc();this.aY=null}Rc(){d.vka(this.aY)}}}"use strict";
self.D.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.dla=this.GO=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.dla)throw Error(`cannot stop async event '${this.type}' propagation`);this.GO=!0}};
{"use strict";const d=self.D;d.Event.u4=class extends d.za{constructor(b){super();this.Oa=b;this.qg=[];this.ku=new Set;this.tg=[];this.Yu=new Set;this.my=0;this.mz=[];this.ov=[];this.pv=[]}B(){0<this.my||(d.I(this.qg),this.ku.clear(),d.I(this.tg),this.Yu.clear(),d.I(this.mz),d.I(this.ov),d.I(this.pv),d.B(this))}AT(b,a){this.VU()?this.mz.push([b,a]):a?this.ku.has(b)||(this.qg.push(b),this.ku.add(b)):this.Yu.has(b)||(this.tg.push(b),this.Yu.add(b))}lga(b,a){this.VU()?a?this.ov.push(b):this.pv.push(b):
a?this.ku.has(b)&&(this.ku.delete(b),d.Ss(this.qg,b)):this.Yu.has(b)&&(this.Yu.delete(b),d.Ss(this.tg,b))}iea(){return!this.qg.length&&!this.tg.length}VU(){return 0<this.my}Tfa(){for(var b of this.mz)this.AT(...b);d.I(this.mz);for(const a of this.pv)this.Yu.delete(a);for(const a of this.ov)this.ku.delete(a);b=new Set(this.ov);d.ji(this.tg,new Set(this.pv));d.ji(this.qg,b);d.I(this.ov);d.I(this.pv)}ada(b){this.au();let a=!1;for(let f=0,c=this.qg.length;f<c;++f)if(this.qg[f](b),b.GO){a=!0;break}if(!a)for(let f=
0,c=this.tg.length;f<c&&(this.tg[f](b),!b.GO);++f);this.Zt();return!b.defaultPrevented}cda(b){this.au();for(let a=0,f=this.qg.length;a<f;++a)this.qg[a](b);for(let a=0,f=this.tg.length;a<f;++a)this.tg[a](b);this.Zt();return!0}au(){this.my++}Zt(){this.my--;0===this.my&&(this.mz.length||this.ov.length||this.pv.length)&&this.Tfa()}Mt(b){b?this.au():this.Zt()}hU(b){const a=[];this.au();for(let c=0,e=this.qg.length;c<e;++c){var f=this.qg[c](b);f instanceof Promise&&a.push(f)}for(let c=0,e=this.tg.length;c<
e;++c)f=this.tg[c](b),f instanceof Promise&&a.push(f);this.Zt();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async Yca(b){return await this.hU(b)}async Zca(b){this.au();for(let f=0,c=this.qg.length;f<c;++f){var a=this.qg[f](b);a instanceof Promise&&await a}for(let f=0,c=this.tg.length;f<c;++f)a=this.tg[f](b),a instanceof Promise&&await a;this.Zt();return!b.defaultPrevented}*$ca(b){this.au();for(let f=0,c=this.qg.length;f<c;++f){var a=this.qg[f](b);d.to(a)&&(yield*a)}for(let f=
0,c=this.tg.length;f<c;++f)a=this.tg[f](b),d.to(a)&&(yield*a);this.Zt()}}}
{"use strict";const d=self.D;d.Event.Mb=class extends d.za{constructor(){super();this.Er=new Map;this.cL=!1}B(){if(this.cL)throw Error("already released");this.H0();this.cL=!0;d.B(this)}Xq(){return this.cL}H0(){for(let b of this.Er.values())b.B();this.Er.clear()}$q(b,a){let f=this.Er.get(b);return f?f:a?(f=d.F(d.Event.u4,b),this.Er.set(b,f),f):null}AH(b){return this.Er.has(b)}addEventListener(b,a,f){this.$q(b,!0).AT(a,!!f)}removeEventListener(b,a,f){let c=this.$q(b,!1);c&&(c.lga(a,!!f),c.iea()&&this.Er.delete(b))}dispatchEvent(b){const a=
this.$q(b.type,!1);return a?b.cancelable?a.ada(b):a.cda(b):!0}async cO(b){const a=this.$q(b.type,!1);return a?await a.Yca(b):!0}Gka(b){const a=this.$q(b.type,!1);return a?a.hU(b):!0}async Fka(b){const a=this.$q(b.type,!1);a&&await a.Zca(b)}Hka(b){const a=this.$q(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.$ca(b)}Mt(b){for(const a of this.Er.values())a.Mt(b)}}}
{"use strict";const d=self.D,b="undefined"!==typeof requestIdleCallback;let a=[],f=-1,c=0;function e(n){f=b&&0===c?requestIdleCallback(h,{timeout:35}):setTimeout(h,0<c?1:n)}function h(n){f=-1;if(a.length){var p=performance.now(),q=0;do{g(a.shift());var r=performance.now();++q;var w=(r-p)/q*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>r-p+w));-1===f&&a.length&&e(Math.max(16-(r-p),4))}}function g(n){let p;try{p=n.hO()}catch(q){n.reject(q);return}n.resolve(p)}let l=d.hI.vB("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.dm=function(n){let p=null;d.Ov&&(p=d.UA());return new Promise((q,r)=>{a.push({hO:n,resolve:q,reject:r,stack:p});l?g(a.pop()):-1===f&&e(16)})};d.dm.NS=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.D;let b=-1;function a(){b=-1}d.PA=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let f=-1,c=-1,e=new Set;function h(){c=f=-1;let g=Date.now();for(let l of e)if(l.vba(g)){let n=l.yr;if(-1===c||n<c)c=n}else e.delete(l);-1!==c&&(f=self.setTimeout(h,Math.max(c-g+100,1E3)))}d.c5=class{constructor(g,l){this.ju=g;this.wF=1E3*l;this.yr=0;this.hc=!1}hd(){let g=d.PA();this.yr=g+this.wF;this.hc||(e.add(this),this.hc=!0);-1===f?(c=this.yr,f=self.setTimeout(h,this.wF+
100)):this.yr<c&&c>g+1E3&&(self.clearTimeout(f),c=this.yr,f=self.setTimeout(h,this.wF+100))}vba(g){return g>=this.yr?this.ju()?(this.yr=g+this.wF,!0):this.hc=!1:!0}z0(){this.hc&&(e.delete(this),this.hc=!1,0===e.size&&-1!==f&&(self.clearTimeout(f),c=f=-1))}B(){this.z0();this.ju=null}}}
{"use strict";const d=self.D;d.qb=class b{constructor(a){this.yu=!1;this.eL=a}MA(){this.yu||(this.yu=!0,this.eL&&(this.eL(),this.eL=null))}B(){this.MA()}static B(a){return new b(()=>a.B())}static Ib(a,f,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const h=new d.Mk;for(let g of f)a.addEventListener(g,c,e),h.Ec(d.F(d.qb,()=>a.removeEventListener(g,c,e)));return h}a.addEventListener(f,
c,e);return d.F(d.qb,()=>a.removeEventListener(f,c,e))}};d.cza=class extends d.qb{};d.Mk=class extends d.qb{constructor(...b){super();this.Xd=new Set;for(let a of b)this.Ec(a)}Ec(...b){if(this.yu)throw Error("already disposed");for(let a of b)this.Xd.add(a)}xi(b){if(this.yu)throw Error("already disposed");this.Xd.delete(b)}MA(){if(this.yu)throw Error("already disposed");this.yu=!0;for(let b of this.Xd)b.MA();this.Xd.clear();this.Xd=null}B(){this.MA()}}}
{"use strict";const d=self.D;d.Dt=class extends d.za{constructor(){super();this.xv=this.Gz=this.Z=this.pD=0}Ec(b){this.Z=+b-this.pD;this.Gz=this.xv+this.Z;this.pD=this.Gz-this.xv-this.Z;this.xv=this.Gz}ma(){return this.xv}hd(){this.xv=this.Gz=this.Z=this.pD=0}Set(b){this.Gz=this.Z=this.pD=0;this.xv=+b}B(){}}}
{"use strict";const d=self.D,b={jI:function(a){this.C_=a;this.left=this.right=this.C_.Lb;this.parent=null;this.color=!1;this.key=null},Oq:function(a){this.size=0;this.Lb=new b.jI(this);this.Lb.color=!1;this.root=this.Lb;this.root.parent=this.Lb;this.compare=a||this.Bka}};wa=b.Oq.prototype;wa.Bka=function(a,f){return a<f?-1:f<a?1:0};wa.clone=function(){var a=new b.Oq(this.compare);a.Zka(this);return a};wa.clear=function(){this.size=0;this.Lb=new b.jI(this);this.Lb.color=!1;this.root=this.Lb;this.root.parent=
this.Lb};wa.eA=function(a){var f=a.right;a.right=f.left;f.left!=this.Lb&&(f.left.parent=a);f.parent=a.parent;a.parent==this.Lb?this.root=f:a==a.parent.left?a.parent.left=f:a.parent.right=f;f.left=a;a.parent=f};wa.nA=function(a){var f=a.left;a.left=f.right;f.right!=this.Lb&&(f.right.parent=a);f.parent=a.parent;a.parent==this.Lb?this.root=f:a==a.parent.right?a.parent.right=f:a.parent.left=f;f.right=a;a.parent=f};wa.Lv=function(a){if(this.contains(a))this.bA(a).key=a;else{var f=new b.jI(this);f.key=
a;a=this.Lb;for(var c=this.root;c!=this.Lb;)a=c,c=0>this.compare(f.key,c.key)?c.left:c.right;f.parent=a;a==this.Lb?this.root=f:0>this.compare(f.key,a.key)?a.left=f:a.right=f;f.left=this.Lb;f.right=this.Lb;f.color=!0;this.$ka(f);this.size++}};wa.$ka=function(a){for(;a!=this.Lb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var f=a.parent.parent.right;1==f.color?(a.parent.color=!1,f.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.eA(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.Lb&&this.nA(a.parent.parent))}else f=a.parent.parent.left,1==f.color?(a.parent.color=!1,f.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.nA(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.Lb&&this.eA(a.parent.parent));this.root.color=!1};wa.Dka=function(a){var f=a.left==this.Lb||a.right==this.Lb?a:this.pq(a);var c=f.left!=this.Lb?f.left:f.right;c.parent=f.parent;f.parent==
this.Lb?this.root=c:f==f.parent.left?f.parent.left=c:f.parent.right=c;f!=a&&(a.key=f.key);0==f.color&&this.Cka(c);this.size--};wa.Cka=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var f=a.parent.right;1==f.color&&(f.color=!1,a.parent.color=!0,this.eA(a.parent),f=a.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,a=a.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.nA(f),f=a.parent.right),f.color=a.parent.color,a.parent.color=!1,f.right.color=!1,this.eA(a.parent),
a=this.root)}else f=a.parent.left,1==f.color&&(f.color=!1,a.parent.color=!0,this.nA(a.parent),f=a.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,a=a.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.eA(f),f=a.parent.left),f.color=a.parent.color,a.parent.color=!1,f.left.color=!1,this.nA(a.parent),a=this.root);a.color=!1};wa.remove=function(a){a=this.bA(a);if(a!=this.Lb){var f=a.key;this.Dka(a);return f}return null};wa.min=function(a){for(;a.left!=this.Lb;)a=a.left;return a};wa.max=
function(a){for(;a.right!=this.Lb;)a=a.right;return a};wa.pq=function(a){if(a.right!=this.Lb)return this.min(a.right);for(var f=a.parent;f!=this.Lb&&a==f.right;)a=f,f=f.parent;return f};wa.bA=function(a){for(var f=this.root;f!=this.Lb&&0!=this.compare(f.key,a);)f=0>this.compare(a,f.key)?f.left:f.right;return f};wa.contains=function(a){return null!=this.bA(a).key};wa.jO=function(){var a=[];this.forEach(function(f){a.push(f)});return a};wa.Zka=function(a){if("array"==b.WO(a))for(var f=0;f<a.length;f++)this.Lv(a[f]);
else if("function"==b.WO(a.forEach))a.forEach(this.Lv,this);else if("function"==b.WO(a.jO))for(a=a.jO(),f=0;f<a.length;f++)this.Lv(a[f]);else if("object"==b.WO(a))for(f in a)this.Lv(a[f])};wa.range=function(a,f){var c=[];this.kma(function(e){c.push(e)},a,f);return c};wa.kma=function(a,f,c){if(!this.Pv())for(f=this.bA(f),c=this.bA(c);f!=c&&!a.call(void 0,f.key,this);)f=this.pq(f)};wa.forEach=function(a,f){if(!this.Pv())for(var c=this.min(this.root);c!=this.Lb;c=this.pq(c))a.call(f,c.key,c.key,this)};
wa.some=function(a,f){if(this.Pv())return!1;for(var c=this.min(this.root);c!=this.Lb;c=this.pq(c))if(a.call(f,c.key,c.key,this))return!0;return!1};wa.every=function(a,f){if(this.Pv())return!1;for(var c=this.min(this.root);c!=this.Lb;c=this.pq(c))if(!a.call(f,c.key,c.key,this))return!1;return!0};wa.map=function(a,f){var c=[];if(this.Pv())return c;for(var e=this.min(this.root);e!=this.Lb;e=this.pq(e))c.push(a.call(f,e.key,e.key,this));return c};wa.filter=function(a,f){var c=[];if(this.Pv())return c;
for(var e=this.min(this.root);e!=this.Lb;e=this.pq(e))a.call(f,e.key,e.key,this)&&c.push(e.key);return c};wa.Pv=function(){return 0==this.size};d.Oq=class extends d.za{constructor(a){super();this.Yi=new b.Oq(a);this.Bu=!1;this.vs=new Set;this.ws=new Set}Ec(a){this.Bu?this.Yi.contains(a)?this.ws.delete(a):this.vs.add(a):this.Yi.Lv(a)}xi(a){this.Bu?this.Yi.contains(a)?this.ws.add(a):this.vs.delete(a):this.Yi.remove(a)}vB(a){return this.Bu?this.vs.has(a)?!0:!this.ws.has(a)&&this.Yi.contains(a):this.Yi.contains(a)}Rc(){this.Yi.clear();
this.vs.clear();this.ws.clear()}toArray(){if(this.Bu)throw Error("cannot be used in queueing mode");return this.Yi.jO()}no(){return this.Yi.size+this.vs.size-this.ws.size}qo(){return 0===this.no()}Ai(a){a=!!a;if(this.Bu!==a&&(this.Bu=a,!a)){for(const f of this.ws)this.Yi.remove(f);this.ws.clear();for(const f of this.vs)this.Yi.Lv(f);this.vs.clear()}}*values(){if(!this.qo()){var a=this.Yi;for(let f=a.min(a.root);f!=a.Lb;f=a.pq(f))yield f.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.D;d.eI=class{constructor(b=d.hardwareConcurrency){this.Bja=b;this.ZM=[];this.xK=0}Ec(b){return new Promise((a,f)=>{this.ZM.push({hO:b,resolve:a,reject:f});this.jV()})}async jV(){if(this.ZM.length&&!(this.xK>=this.Bja)){this.xK++;var b=this.ZM.shift();try{const a=await b.hO();b.resolve(a)}catch(a){b.reject(a)}this.xK--;this.jV()}}}}
{"use strict";const d=self.D;d.A8=class{constructor(b,a,f){this.ju=b;this.lja=a;this.mja=f||2*a;this.Bv=-1;this.BE=-Infinity;this.vZ=()=>this.Gfa();this.Via=this.DL=!1;this.ay=null}vda(){return"undefined"!==typeof d.q0&&d.q0.ssa()?this.mja:this.lja}y0(){var b=[];if(-1===this.Bv){this.ay=b;b=d.PA();var a=b-this.BE,f=this.vda();a>=f&&this.Via?(this.BE=b,this.FV()):this.Bv=self.setTimeout(this.vZ,Math.max(f-a,4))}}FV(){this.DL=!0;const b=this.ay;this.ay=null;b?this.ju(...b):this.ju();this.DL=!1}hd(){this.DL||
(this.HT(),this.ay=null,this.BE=d.PA())}Gfa(){this.Bv=-1;this.BE=d.PA();this.FV()}HT(){-1!==this.Bv&&(self.clearTimeout(this.Bv),this.Bv=-1)}B(){this.HT();this.vZ=this.ay=this.ju=null}}}"use strict";function Pb(d,b){if(!d.yX)throw Error("no get base size callback set");return d.yX(b)}function Qb(d){if(!d.RY)throw Error("no redraw callback set");d.RY()}self.D.Cwa=class{constructor(){this.ija=new Map;this.RY=this.UY=this.yX=null}};"use strict";
self.D.Bwa=class{constructor(d,b){this.cv=d;this.Yia=b;this.ud=0;Pb(this.cv,b).then(()=>{Qb(this.cv)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);Qb(this.cv)});this.$M=null}B(){if(0>=this.ud)throw Error("already released");this.ud--;0===this.ud&&this.Jx()}Jx(){if(this.$M){var d=this.cv;if(!d.UY)throw Error("no release result callback set");d.UY(this.$M);this.$M=null}this.cv.ija.delete(this.Yia);this.cv=null}};
{"use strict";const d=self.D;d.Bza="\ufeff";const b=new Set([..."0123456789"]);d.X5=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.JB=function(n){return a.has(n)};d.tqa=function(n){return[...n].filter(p=>!d.JB(p)).join("")};d.HB=function(n){for(const p of n)if(!d.JB(p))return!1;return!0};d.l6=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.P2=function(n){return[...n].filter(p=>
!d.l6(p)).join("")};const f=new Set([..."0123456789.+-e"]);d.Hsa=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let q of n)if(!f.has(q))return!1;return!0};d.K8=function(n){let p=n.length;for(;0<p&&d.X5(n.charAt(p-1));)--p;return n.substr(0,p)};d.Hra=function(n){let p=d.K8(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function e(n){return c.get(n)}
const h=/[&<>"']/g;d.G2=function(n){return n.replace(h,e)};d.fqa=function(n){n=d.Hj(n,"\\","\\\\");n=d.Hj(n,'"','\\"');n=d.Hj(n,"\t","\\t");n=d.Hj(n,"\r","");return d.Hj(n,"\n","\\n")};d.gqa=function(n){n=d.Hj(n,"&","&amp;");n=d.Hj(n,"<","&lt;");n=d.Hj(n,">","&gt;");return d.Hj(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.kw=function(n){return n.replace(g,"\\$&")};d.uqa=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var r=0;let w=[];for(;-1<(r=n.indexOf(p,
r));)w.push(r),r+=q;return w};d.Hj=function(n,p,q){return n.replaceAll(p,()=>q)};d.Ava=function(n,p,q){return n.replace(new RegExp(d.kw(p),"gi"),()=>q)};d.qxa=function(n,p){"string"===typeof p?n.textContent=p:p.XX?n.textContent=p.toString():(n.innerHTML=p.SO(),p instanceof d.em&&p.oka(n))};d.Yya=function(n,p){return n instanceof d.FH||n instanceof d.em?n.xd(p):p instanceof d.FH||p instanceof d.em?p.xd(n):n===p};d.Zya=function(n,...p){let q=n;for(let r=0,w=p.length;r<w;++r){const x=`{${r}}`;if(!n.includes(x))throw Error(`missing placeholder '${x}' in string substitution`);
q=q.replace(x,p[r].toString())}return q};d.$ya=function(n,...p){let q=n,r=-1,w=-1;for(let x=0,u=p.length;x<u;++x){const t=`{${x}}`;n.includes(t)?(w=x,q=q.replace(t,p[x].toString())):-1===r&&(r=x)}if(0<=r&&0<=w&&r<w)throw Error(`missing placeholder '${r}' in string substitution`);return q};d.aza=function(n,p){for(let [q,r]of Object.entries(p))n=n.replaceAll(q,r.toString());return n};d.Hya=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};d.zqa=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.IBa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={kka:!1,yka:!0,Yka:!0,zla:!0,s_:!0};d.Aqa=function(n,p){p=Object.assign({},
l,p);d.r6.mva("common.time");const q=[],r=self.lang,w=self.HBa;if(p.yka){var x=Math.floor(n/86400);0<x&&(n-=86400*x,q.push(w(".days",null,x)))}p.Yka&&(x=Math.floor(n/3600),0<x||q.length)&&(n-=3600*x,q.push(w(".hours",null,x)));p.zla&&(x=Math.floor(n/60),0<x||q.length||!p.s_)&&(n-=60*x,q.push(w(".minutes",null,x)));p.s_&&q.push(w(".seconds",null,Math.floor(n%60)));n=(p.kka?r(".approx-prefix"):"")+q.join(r(".separator"));d.r6.dva();return n};d.rAa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let r=0;r<p;++r)q+="0";return q+n};d.bza=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};d.Roa=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());d.r_(n);d.r_(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const r=n[q]-p[q];if(0!==r)return 0>r?-1:1}return 0};d.fpa=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
d.Wya=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let r=0,w=n.length;r<w;++r)n.charAt(r)!==p.charAt(r)&&++q;return q};d.Xya=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,r,w,x;if(n.length>p.length){var u=n;n=p;p=u}x=Array(n.length+1);for(u=0;u<=n.length;u++)x[u]=u;for(u=1;u<=p.length;u++){r=u;for(q=1;q<=n.length;q++)w=p[u-1]===n[q-1]?x[q-1]:Math.min(x[q-1]+1,Math.min(r+1,x[q]+1)),x[q-1]=r,r=w;x[n.length]=r}return x[n.length]}}
{"use strict";const d=self.D,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
f=/\[(\/?)([^\[]*?)\]/g;let c=null,e=0;function h(l,n,p){var q=b.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?"</span>":
`<span class="bbclass${e++}">`:l}const g=/\n/g;d.em=class{constructor(l,n){this.Hi=n&&n.i_?l:d.G2(l);this.CL="";this.XW=!1;this.Wy=[];if(n&&(this.XW=!!n.IAa,n.links)){if(9<n.links.length)throw Error("too many links");this.Wy=n.links}this.DX=this.Hi.includes("[");this.BY=this.XW&&this.Hi.includes("\n");this.XX=!this.DX&&!this.BY&&!this.Hi.includes("&");this.IX=!1;this.ny=[]}toString(){return this.Hi}valueOf(){return this.Hi}SO(){if(this.XX)return this.Hi;if(!this.CL&&this.Hi){let l=this.Hi;this.DX&&
(e=0,c=this.Wy,l=l.replace(a,h),c=null);this.BY&&(l=l.replace(g,"<br>"));this.CL=l}return this.CL}oka(l){if(this.Wy.length)for(let n=0,p=this.Wy.length;n<p;++n){const q=this.Wy[n];if("function"!==typeof q)continue;const r=l.querySelector(".bblink"+n);if(!r)throw Error("unable to attach BBString link handler");r.onclick=q}}xd(l){return l instanceof d.FH?this.SO()===l.SO():l instanceof d.em?this.Hi===l.Hi:this.Hi===l}z_(){if(this.IX)return this.ny;const l=this.Hi,n=[];let p=f.lastIndex=0;for(var q;null!==
(q=f.exec(l));){var r=q.index;if(0<r&&"\\"===l.charAt(r-1))continue;var w=q[1],x=q[2];const u=l.substring(p,r);p=r+q[0].length;u&&this.ny.push({text:u,Jd:n.slice(0)});if(x)if(w)for(x=x.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===x){n.splice(q,1);break}}else q=x,r=null,w=x.indexOf("="),-1!==w?(q=x.substring(0,w).toLowerCase(),r=x.substring(w+1)):q=q.toLowerCase(),n.push({tag:q,ee:r})}p<l.length&&this.ny.push({text:l.substring(p),Jd:n.slice(0)});for(const u of this.ny)u.text=this.Sfa(u.text);
this.IX=!0;return this.ny}Sfa(l){l=d.Hj(l,"\\[","[");return d.Hj(l,"\\\\","\\")}static iT(l){return l.replace(f,"")}}}
{"use strict";const d=self.D;d.tx=class{constructor(){this.Jl=[]}lV(b,a){let f=0,c=0,e=0,h=0,g=0;for(const l of b)-1===l.width&&(b=a(l.text,l.Jd),l.width=b.width,l.height=b.height,l.nh=b.nh||0,l.Dg=b.Dg||0,l.Fg=b.Fg||0),f+=l.width,c=Math.max(c,l.height),e=Math.max(e,l.nh),h=Math.max(h,l.Dg),g=Math.max(g,l.Fg);return{width:f,height:c,nh:e,Dg:h,Fg:g}}oC(b,a,f,c,e,h){this.Jl.push({dO:b,width:a,height:f,nh:c,Dg:e,Fg:h})}tx(b,a,f,c,e){"string"===typeof b&&(b=[{text:b,Jd:[]}]);d.I(this.Jl);if(!(!b.length||
1===b.length&&!b[0].text.length||2>f)){if(1===b.length){var h=b[0];const g=h.text;h=h.Jd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:n,nh:p,Dg:q,Fg:r}=a(g,h);l+=e;p=p||0;q=q||0;r=r||0;if(l<=f){this.oC([{text:g,Jd:h,width:l,height:n,nh:p,Dg:q,Fg:r}],l,n,p,q,r);return}}}if("word"===c)c=this.iia(b);else{c=[];for(const g of b)d.cq(c,[...g.text].map(l=>[{text:l,Jd:g.Jd}]))}this.Fia(c,a,f,e)}}iia(b){const a=[];let f=[],c=!1;for(const h of b){var e=h.text;b=h.Jd;for(const g of e)"\n"===g?(0<
f.length&&a.push(f),a.push([{text:"\n",Jd:b}]),f=[]):0===f.length?(f.push({text:g,Jd:b}),c=d.JB(g)):(e=d.JB(g),e===c?(e=f[f.length-1],e.Jd===b?e.text+=g:f.push({text:g,Jd:b})):(a.push(f),f=[],f.push({text:g,Jd:b}),c=e))}0<f.length&&a.push(f);return a}yba(b){return b.map(a=>({text:a.text,Jd:a.Jd,width:a.width,height:a.height,nh:a.nh,Dg:a.Dg,Fg:a.Fg}))}FT(b,a){var f=b.length?b[b.length-1]:null;let c=0;f&&a[0].Jd===f.Jd&&(f.text+=a[0].text,f.width=-1,f.height=-1,f.nh=-1,f.Dg=-1,f.Fg=-1,c=1);for(f=a.length;c<
f;++c){const e=a[c];b.push({text:e.text,Jd:e.Jd,width:-1,height:-1,nh:-1,Dg:-1,Fg:-1})}}Fia(b,a,f,c){let e=[],h=0,g=0,l=0,n=0;var p=0;for(const q of b){if(1===q.length&&"\n"===q[0].text){0===g&&(p=a(" ",q[0].Jd),g=p.height,l=p.nh||0,n=p.Dg||0,p=p.Fg||0);this.oC(e,h,g,l,n,p);e=[];p=n=l=g=h=0;continue}b=this.yba(e);this.FT(b,q);const r=this.lV(b,a),w=r.width;w>=f?(0<e.length&&this.oC(e,h,g,l,n,p),e=[],d.HB(q[0].text)?p=n=l=g=h=0:(this.FT(e,q),p=this.lV(e,a),h=p.width,g=p.height,l=p.nh,n=p.Dg,p=p.Fg)):
(e=b,h=w,g=r.height,l=r.nh,n=r.Dg,p=r.Fg)}0<e.length&&this.oC(e,h,g,l,n,p);this.nia(a,c)}nia(b,a){for(const c of this.Jl){const e=c.dO;if(!e.length)continue;let h=e[e.length-1];var f=h.text;const g=f.trimEnd();if(!g)c.width-=h.width,e.pop();else if(g.length<f.length){f=b(g,h.Jd).width;const l=h.width-f;h.width=f;h.text=g;c.width-=l}0!==a&&0<e.length&&(h=e[e.length-1],h.width+=a,c.width+=a)}}Rc(){d.I(this.Jl)}kQ(){return this.Jl.reduce((b,a)=>Math.max(b,a.width),0)}l4(){return this.Jl.reduce((b,a)=>
b+a.height,0)}}}
{"use strict";const d=self.D,b=self.Vn,a=b.mG,f=b.$v,c=b.Us,e=a.create(),h=a.create(),g=a.create(),l=f.create(),n=c.create(),p=a.create(),q=a.create(),r=a.create(),w=a.create(),x=a.create(),u=a.create(),t=a.create(),A=a.create(),y=f.Eg(0,0,1,1);d.oa={q8(H,J,M,P,S,T,V){const ba=P[0]*H+P[4]*J+P[8]*M+P[12],ea=P[1]*H+P[5]*J+P[9]*M+P[13];var X=P[2]*H+P[6]*J+P[10]*M+P[14];M=P[3]*H+P[7]*J+P[11]*M+P[15];H=S[0]*ba+S[4]*ea+S[8]*X+S[12]*M;J=S[1]*ba+S[5]*ea+S[9]*X+S[13]*M;S=S[2]*ba+S[6]*ea+S[10]*X+S[14]*M;X=
-X;if(0===X)return!1;X=1/X;V[0]=(H*X*.5+.5)*T[2]+T[0];V[1]=(J*X*.5+.5)*T[3]+T[1];V[2]=.5*(1+S*X);return!0},nl(H,J,M,P,S,T,V){c.multiply(n,S,P);if(null===c.Nv(n,n))return!1;l[0]=(H-T[0])/T[2]*2-1;l[1]=(J-T[1])/T[3]*2-1;l[2]=2*M-1;l[3]=1;f.UO(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];V[0]=l[0]*l[3];V[1]=l[1]*l[3];V[2]=l[2]*l[3];return!0},iaa(H,J,M,P,S,T,V){if(!d.oa.nl(H,J,0,P,S,T,e)||!d.oa.nl(H,J,1,P,S,T,h))return!1;a.ao(h,h,e);a.set(g,0,0,1);H=-M;J=a.gq(g,h);M=0;if(0===J){if(0!==a.gq(g,e)+H)return!1}else if(M=
-(a.gq(e,g)+H)/J,0>M)return!1;a.MO(V,e,h,M);return!0}};function C(H,J,M,P){a.ao(e,M,J);a.ao(h,H,J);a.aO(g,e,h);a.normalize(g,g);P[0]=g[0];P[1]=g[1];P[2]=g[2];P[3]=a.gq(H,g)}function F(H,J,M,P,S,T,V){const ba=V[0],ea=V[1],X=V[2];V=V[3];let na;0<ba?(na=ba*H,H=ba*P):(na=ba*P,H*=ba);0<ea?(na+=ea*J,H+=ea*S):(na+=ea*S,H+=ea*J);0<X?(na+=X*M,H+=X*T):(na+=X*T,H+=X*M);return na>=V||H>V}d.oa.raa=class{constructor(){this.nY=f.create();this.wZ=f.create();this.YY=f.create();this.SW=f.create();this.AY=f.create();
this.pX=f.create()}x0(H,J){d.oa.nl(0,1,0,H,J,y,p);d.oa.nl(1,1,0,H,J,y,q);d.oa.nl(0,0,0,H,J,y,r);d.oa.nl(1,0,0,H,J,y,w);d.oa.nl(0,1,1,H,J,y,x);d.oa.nl(1,1,1,H,J,y,u);d.oa.nl(0,0,1,H,J,y,t);d.oa.nl(1,0,1,H,J,y,A);C(r,p,x,this.nY);C(p,q,u,this.wZ);C(q,w,A,this.YY);C(w,r,t,this.SW);C(t,x,u,this.pX);C(w,q,p,this.AY)}$0(H,J,M,P,S,T){return F(H,J,M,P,S,T,this.nY)&&F(H,J,M,P,S,T,this.wZ)&&F(H,J,M,P,S,T,this.YY)&&F(H,J,M,P,S,T,this.SW)&&F(H,J,M,P,S,T,this.AY)&&F(H,J,M,P,S,T,this.pX)}}}
{"use strict";const d=self.D,b=self.Vn,a=b.mG,f=b.$v,c=b.Us,e=c.create(),h=a.Eg(0,0,0),g=a.Eg(0,0,0),l=a.Eg(0,0,0),n=a.Eg(0,1,0);f.Eg(0,0,0,0);new d.Ad;new d.Rect;const p=new d.Ad(0,0,1,0,1,1,0,1);d.oa.N8=class{constructor(){this.Y=this.aa=0;this.fja=d.Ga(45);this.sZ=Math.tan(this.fja/2);this.OE=c.create();this.wM=c.create();this.lr=[];this.iF=new Map;this.lN=this.mF=this.nF=null;this.Fz=new Map;this.ik=null;this.PK=[];this.zY=new Map;this.jy=this.Yx=0;this.xja=this.yja=1;this.pM=.5;this.Qi=0;this.Au=
!0}O2(q){let r=0,w=q.length,x=0;for(;r<w;)q[r++]=x,q[r++]=x+1,q[r++]=x+2,q[r++]=x,q[r++]=x+2,q[r++]=x+3,x+=4}JT(){this.jy=this.Yx=0;this.lN=this.mF=this.nF=null;this.wba()}xB(){this.JT();this.ik=null}o7(){for(const q of this.lr)q.B();this.JT()}R(){return this.aa}S(){return this.Y}yG(q,r,w=.5,x=.5){w=1-w;const u=1*this.sZ;r*=u;c.Pka(q,(2*w-2)*r,2*w*r,(2*x-2)*u,2*x*u,1,1E4)}kP(q,r,w,x,u=this.uH()){u=200*self.devicePixelRatio*this.sZ/u;a.set(l,u,-u,1);a.multiply(h,r,l);a.multiply(g,w,l);c.wla(q,h,g,
x||n);c.scale(q,q,l)}fw(q,r,w,x,u,t){a.set(h,q,r,w);a.set(g,x,u,0);this.kP(e,h,g,n,t);return e}Taa(q){this.lr.push(q);this.iF.set(q.ra,q)}nga(q){const r=this.lr.indexOf(q);-1!==r&&this.lr.splice(r,1);this.iF.delete(q.ra)}wba(){d.I(this.lr);this.iF.clear()}AQ(q){return this.iF.get(q)||null}Bi(){this.Mo(this.nF)}xI(){this.Mo(this.lN)}lha(q){this.ik=q}L_(q,r,w,x){const u=d.oa.VI.qR(q,r,w,x);let t=this.Fz.get(u);t||(t=d.F(d.oa.VI,this,q,r,w,x),this.Fz.set(u,t));t.$_();return t}iS(q){q.x1();0===q.ud&&
(this.ik===q&&(this.ik=null),this.Fz.delete(q.P3()),q.B())}Sda(q){d.I(this.PK);this.zY.clear();for(const r of q){q=r[0];const w=r[1],x=r[2];this.PK.push([w,x]);this.zY.set(q,{bDa:w,QAa:x})}}mda(q){return this.PK[q]}ZB(q){this.Yx=q}Jo(q){this.jy=q;this.ik=null}MB(q,r,w,x,u,t){var A=this.pM;q=q+A-t;r=r+A-u;w=w+A+t;x=x+A+u;A=2*t;const y=2*u;this.UB(q+u,r-t,0,w+u,x-t,0,w-u-A,x+t-y,0,q-u+A,r+t+y,0,p)}LB(q,r,w,x,u,t){const A=this.pM;q=q+A-t;r=r+A-u;w=w+A+t;x=x+A+u;this.UB(q+u,r-t,0,w+u,x-t,0,w-u,x+t,0,
q-u,r+t,0,p)}KB(q,r,w,x,u,t){const A=this.pM;q+=A;r+=A;w+=A;x+=A;this.UB(q+u,r-t,0,w+u,x-t,0,w-u,x+t,0,q-u,r+t,0,p)}v6(q,r,w,x){const u=.5*this.yja,t=this.xja;2===t?this.uea(q,r,w,x,u):1===t?this.tea(q,r,w,x,u):this.sea(q,r,w,x,u)}uea(q,r,w,x,u){this.MB(q,r,w,r,0,u);this.MB(w,r,w,x,u,0);this.MB(w,x,q,x,0,-u);this.MB(q,x,q,r,-u,0)}tea(q,r,w,x,u){this.LB(q,r,w,r,0,u);this.LB(w,r,w,x,u,0);this.LB(w,x,q,x,0,-u);this.LB(q,x,q,r,-u,0)}sea(q,r,w,x,u){this.KB(q,r,w,r,0,u);this.KB(w,r,w,x,u,0);this.KB(w,x,
q,x,0,-u);this.KB(q,x,q,r,-u,0)}kR(q){this.v6(q.X,q.U,q.ca,q.ba)}ow(){this.vj();this.Qi++}i5(){this.Qi++}DI(q){this.Au=!!q}IB(){return!1}}}
{"use strict";const d=self.D;d.oa.VI=class{constructor(b,a,f,c,e){this.wa=b;this.ud=0;this.Db=null;this.wz="";this.bp=f;this.Nb=d.F(d.ub);this.Nb.set(c);this.Hd=e;"string"===typeof a?this.wz=a:(this.Db=a,this.wz=this.Db.ra)}B(){if(0<this.ud)throw Error("releasing state group still in use");this.Db=this.wa=null;this.wz=""}i0(){const b=this.wa;b.Mo(this.Db);b.Jf(this.bp);b.jl(this.Nb);b.Jo(this.Hd);b.lha(this)}P3(){return d.oa.VI.qR(this.wz,this.bp,this.Nb,this.Hd)}$_(){++this.ud}x1(){--this.ud}zm(){this.Db=
null}aI(b){this.Db=b.AQ(this.wz);if(!this.Db)throw Error("failed to restore shader program");}static qR(b,a,f,c){return("string"===typeof b?b:b.ra)+","+a+","+f.pb+","+f.Fa+","+f.nb+","+f.ib+","+c}}}
{"use strict";const d=self.D,b=d.F(d.Ad);function a(f,c,e){const h=e.Zb,g=e.$b;return[h+(e.dd-h)*f+(e.Wc-h)*c,g+(e.ed-g)*f+(e.Xc-g)*c]}d.oa.P6=class{constructor(f){this.AM=f;this.hi=this.fi=this.Hd=this.Z=this.fa=0}Sj(f,c,e,h){this.fa=f;this.Z=c;this.fi=e;this.hi=h}K(){return this.fa}og(f){this.fa!==f&&(this.fa=f,this.AM.iK())}L(){return this.Z}pg(f){this.Z!==f&&(this.Z=f,this.AM.iK())}kb(){return this.Hd}ef(f){this.Hd!==f&&(this.Hd=Math.max(f,0),this.AM.iK())}MI(f){this.fi=f}NI(f){this.hi=f}eea(f,
c,e){[this.fa,this.Z]=a(f.fa,f.Z,c);this.Hd=f.Hd;this.fi=d.Qc(e.X,e.ca,f.fi);this.hi=d.Qc(e.U,e.ba,f.hi)}dea(f,c,e){[this.fa,this.Z]=a(f.fa,f.Z,c);this.Hd=f.Hd;[this.fi,this.hi]=a(f.fi,f.hi,e)}xc(){return{x:this.K(),y:this.L(),z:this.kb(),u:this.fi,v:this.hi}}pc(f){this.og(f.x);this.pg(f.y);f.hasOwnProperty("z")&&this.ef(f.z);this.MI(f.u);this.NI(f.v)}};d.oa.uR=class{constructor(f,c,e){if(2>f||2>c)throw Error("invalid mesh size");this.Bl=f;this.Sl=c;this.uc=e||null;this.Ip=[];this.wY=this.vY=0;this.tY=
this.sY=1;this.SM=!1;e=f-1;const h=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<f;++n){const p=d.F(d.oa.P6,this,n,g),q=n/e,r=g/h;p.Sj(q,r,q,r);l.push(p)}this.Ip.push(l)}}B(){d.I(this.Ip)}iK(){this.SM=!0}FC(){if(this.SM){var f=Infinity,c=Infinity,e=-Infinity,h=-Infinity;for(const g of this.Ip)for(const l of g){const n=l.K(),p=l.L();f=Math.min(f,n);c=Math.min(c,p);e=Math.max(e,n);h=Math.max(h,p);l.kb()}this.vY=f;this.wY=c;this.sY=e;this.tY=h;this.SM=!1}}Z3(){this.FC();return this.vY}a4(){this.FC();
return this.wY}X3(){this.FC();return this.sY}Y3(){this.FC();return this.tY}pt(f,c){f=Math.floor(f);c=Math.floor(c);return 0>f||f>=this.Bl||0>c||c>=this.Sl?null:this.Ip[c][f]}lP(f,c,e){const h=e instanceof d.Rect;if(f.Bl!==this.Bl||f.Sl!==this.Sl)throw Error("source mesh wrong size");f=f.Ip;const g=this.Ip;for(let l=0,n=g.length;l<n;++l){const p=f[l],q=g[l];for(let r=0,w=q.length;r<w;++r){const x=p[r],u=q[r];h?u.eea(x,c,e):u.dea(x,c,e)}}}Le(f){const c=this.Ip;let e=c[0];for(let h=1,g=c.length;h<g;++h){const l=
c[h];let n=e[0],p=l[0];for(let q=1,r=l.length;q<r;++q){const w=e[q],x=l[q];b.set(n.fi,n.hi,w.fi,w.hi,x.fi,x.hi,p.fi,p.hi);f.UB(n.K(),n.L(),n.kb(),w.K(),w.L(),w.kb(),x.K(),x.L(),x.kb(),p.K(),p.L(),p.kb(),b);n=w;p=x}e=l}}I5(f){f=f.$d;const c=[],e=this.Bl-1,h=this.Sl-1,g=1/e,l=1/h,n=e-1,p=h-1;let q=f[0],r=f[1],w=d.ia(Math.floor(q*e),0,n),x=d.ia(Math.floor(r*h),0,p),u=0,t=0,A=0;var y=-1;const C=()=>{q=d.ia(d.Qc(q,u,A),0,1);r=d.ia(d.Qc(r,t,A),0,1);c.push(q,r)};for(let F=0,H=f.length;F<H;F+=2)for(q=f[F],
r=f[F+1],c.push(q,r),w=d.ia(Math.floor(q*e),0,n),x=d.ia(Math.floor(r*h),0,p),y=(F+2)%H,u=f[y],t=f[y+1],y=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=w*g,M=x*l,P=(w+1)*g,S=(x+1)*l;if(0!==y&&(A=d.lA(q,r,u,t,J,M,P,S,-.001),0<=A&&.99999999>=A)){C();y=0;continue}if(0<x&&2!==y&&(A=d.lA(q,r,u,t,J,M,P,M,.001),0<=A&&.99999999>=A)){C();x--;y=4;continue}if(w<n&&3!==y&&(A=d.lA(q,r,u,t,P,M,P,S,.001),0<=A&&.99999999>=A)){C();w++;y=1;continue}if(0<w&&1!==y&&(A=d.lA(q,r,u,t,J,M,J,S,.001),
0<=A&&.99999999>=A)){C();w--;y=3;continue}if(x<p&&4!==y&&(A=d.lA(q,r,u,t,J,S,P,S,.001),0<=A&&.99999999>=A)){C();x++;y=2;continue}break}return d.F(d.rq,c)}daa(f,c){f=this.lia(f);this.aia(f);c.fG(f)}lia(f){const c=[];f=f.$d;for(let e=0,h=f.length;e<h;e+=2){const [g,l]=this.nT(f[e],f[e+1]);c.push(g,l)}return c}nT(f,c){var e=this.Bl-1,h=this.Sl-1;const g=1/e,l=1/h;e=d.ia(Math.floor(f*e),0,e-1);const n=d.ia(Math.floor(c*h),0,h-1);h=e*g;const p=n*l,q=(e+1)*g,r=(n+1)*l,w=this.pt(e,n),x=this.pt(e+1,n+1),
u=d.hla(f,c,h,p,q,p,q,r);e=this.pt(e+(u?1:0),n+(u?0:1));const [t,A,y]=d.mma(f,c,h,p,u?h+g:h,u?p:p+l,q,r);return d.lma(t,A,y,w.K(),w.L(),e.K(),e.L(),x.K(),x.L())}aia(f){const c=[];let e=f[0],h=f[1],g=e-f[f.length-2],l=h-f[f.length-1];for(let p=0,q=f.length;p<q;p+=2){var n=(p+2)%q;const r=f[n];n=f[n+1];const w=r-e,x=n-h,u=1E-7>Math.abs(x)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(x)===Math.sign(l)||u)&&1E-7<Math.abs(w/g-x/l)||0==w&&0===x)&&c.push(e,
h);e=r;h=n;g=w;l=x}6<=c.length&&c.length<f.length&&d.fe(f,c)}xc(){return{cols:this.Bl,rows:this.Sl,points:this.Ip.map(f=>f.map(c=>c.xc()))}}pc(f){const c=this.Bl,e=this.Sl;if(f.cols!==c||f.rows!==e)throw Error("mesh data wrong size");f=f.points;for(let h=0;h<e;++h){const g=f[h];for(let l=0;l<c;++l)this.pt(l,h).pc(g[l])}}}}
{"use strict";const d=self.D,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function e(n,p){let q,r;switch(n){case "rgba8":n=p.RGBA8;r=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;r=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;r=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;r=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;r=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{PO:n,Mv:q,format:r,type:p}}const h={bo:"clamp-to-edge",co:"clamp-to-edge",te:"trilinear",bq:0,BO:"rgba8",YF:!0,iA:"default",premultiplyAlpha:!0,e_:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.oa.nC=class{constructor(n){this.wa=n;this.sb=null;this.Y=this.aa=0;this.Si=!0;this.Sn=this.Rn="clamp-to-edge";this.cd="trilinear";this.EK=0;this.$h="rgba8";this.cn=!1;this.gs=
"default";this.ud=0}Tba(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},h,p);if(this.sb)throw Error("already created texture");this.Rn=p.bo;this.Sn=p.co;
this.cd=p.te;this.EK=p.bq;this.$h=p.BO;this.cn=!!p.YF&&this.wa.Au;this.gs=p.iA;if(!c.has(this.Rn)||!c.has(this.Sn))throw Error("invalid wrap mode");if(!a.has(this.cd))throw Error("invalid sampling");if(!b.has(this.$h))throw Error("invalid pixel format");if(!f.has(this.gs))throw Error("invalid mipmap quality");this.Si=!0;if(n instanceof ArrayBuffer||null===n||p.e_){if(this.aa=p.width,this.Y=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.aa*this.Y*4)throw Error("ArrayBuffer wrong size");}else this.aa=
n.width,this.Y=n.height;if(0>=this.aa||0>=this.Y)throw Error("invalid texture data size");if(p.e_){var q=d.eg(this.aa,this.Y);q.getContext("2d").drawImage(n,0,0,this.aa,this.Y);n=q}var r=d.cm(this.aa)&&d.cm(this.Y);q=this.wa.PE;if(this.aa>q||this.Y>q)throw Error("texture data exceeds maximum texture size");q=this.wa.na;var w=this.wa.qe;this.sb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.sb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,
!1);p=e(this.$h,q);if(this.wa.Wq()||r||!this.IJ())2<=w?(q.texStorage2D(q.TEXTURE_2D,this.cn?Math.floor(Math.log2(Math.max(this.aa,this.Y))+1):1,p.PO,this.aa,this.Y),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.aa,this.Y,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Mv,this.aa,this.Y,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Mv,this.aa,this.Y,
0,p.format,p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Mv,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.aa,this.Y));n instanceof ImageData&&(r=d.eg(this.aa,this.Y),r.getContext("2d").putImageData(n,0,0),n=r);r=d.eg(d.wO(this.aa),d.wO(this.Y));w=r.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.cd;w.drawImage(n,0,0,this.aa,this.Y,0,0,r.width,
r.height);q.texImage2D(q.TEXTURE_2D,0,p.Mv,p.format,p.type,r)}null!==n&&this.mW(q);q.bindTexture(q.TEXTURE_2D,null);this.wa.$J();this.ud=1;l.add(this)}Cba(n,p,q){q=Object.assign({},h,q);if(this.sb)throw Error("already created texture");this.Rn=q.bo;this.Sn=q.co;this.cd=q.te;this.$h=q.BO;this.cn=!!q.YF&&this.wa.Au;this.gs=q.iA;if(!c.has(this.Rn)||!c.has(this.Sn))throw Error("invalid wrap mode");if(!a.has(this.cd))throw Error("invalid sampling");if(!b.has(this.$h))throw Error("invalid pixel format");
if(!f.has(this.gs))throw Error("invalid mipmap quality");this.Si=!1;this.aa=Math.floor(n);this.Y=Math.floor(p);n=d.cm(this.aa)&&d.cm(this.Y);p=this.wa.PE;if(0>=this.aa||0>=this.Y)throw Error("invalid texture size");if(this.aa>p||this.Y>p)throw Error("texture exceeds maximum texture size");if(!this.wa.Wq()&&this.IJ()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.wa.na;p=this.wa.qe;this.sb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.sb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);q=e(this.$h,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.PO:q.Mv,this.aa,this.Y,0,q.format,q.type,null);this.mW(n);n.bindTexture(n.TEXTURE_2D,null);this.wa.$J();this.ud=1;l.add(this)}GJ(n){if("default"===this.gs)return this.Si?n.NICEST:n.FASTEST;if("low"===this.gs)return n.FASTEST;if("high"===this.gs)return n.NICEST;throw Error("invalid mipmap quality");}IJ(){return"clamp-to-edge"!==this.Rn||"clamp-to-edge"!==this.Sn}JU(n,p){if("clamp-to-edge"===
p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}mW(n){var p=d.cm(this.aa)&&d.cm(this.Y);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.JU(n,this.Rn));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.JU(n,this.Sn));"nearest"===this.cd?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.cn=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,
n.LINEAR),(p||this.wa.Wq())&&this.cn?(n.hint(n.GENERATE_MIPMAP_HINT,this.GJ(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.cd||this.wa.HX?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.cn=!1));(p=this.wa.Ux)&&0<this.EK&&"nearest"!==this.cd&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.EK,this.wa.yM))}AW(n,p){if(!("undefined"!==typeof HTMLImageElement&&
n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.sb||0>=this.ud)throw Error("texture not created");if(this.Si)throw Error("cannot update static texture");p=Object.assign({},g,p);
const q=n.width||n.videoWidth,r=n.height||n.videoHeight;var w=this.wa.qe;const x=this.wa.na;x.bindTexture(x.TEXTURE_2D,this.sb);x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=e(this.$h,x);w=2<=w?p.PO:p.Mv;try{if(this.aa===q&&this.Y===r){const u=d.cm(this.aa)&&d.cm(this.Y);x.texSubImage2D(x.TEXTURE_2D,0,0,0,p.format,p.type,n);(u||this.wa.Wq())&&this.cn&&(x.hint(x.GENERATE_MIPMAP_HINT,this.GJ(x)),x.generateMipmap(x.TEXTURE_2D))}else{this.aa=
q;this.Y=r;const u=d.cm(this.aa)&&d.cm(this.Y);if(!this.wa.Wq()&&this.IJ()&&!u)throw Error("non-power-of-two tiled textures not supported");x.texImage2D(x.TEXTURE_2D,0,w,p.format,p.type,n);(u||this.wa.Wq())&&this.cn&&(x.hint(x.GENERATE_MIPMAP_HINT,this.GJ(x)),x.generateMipmap(x.TEXTURE_2D))}}catch(u){console.error("Error updating WebGL texture: ",u)}x.bindTexture(x.TEXTURE_2D,null);this.wa.$J()}uJ(){if(0<this.ud)throw Error("texture still has references");if(!this.sb)throw Error("already deleted texture");
l.delete(this);this.wa.na.deleteTexture(this.sb);this.sb=null}kc(){return this.wa}Y$(){if(0>=this.ud)throw Error("no more references");this.ud--}R(){return this.aa}S(){return this.Y}aH(){let n=this.aa*this.Y;switch(this.$h){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.cn&&(n+=Math.floor(n/3));return n}static zm(){l.clear()}static fka(){return l.values()}}}
{"use strict";const d=self.D,b=self.Vn.Us,a=new Set(["nearest","bilinear","trilinear"]),f={te:"trilinear",alpha:!0,depth:!1,oO:!0,c_:!0,Ala:0},c=new Set;d.oa.aJ=class{constructor(e){this.wa=e;this.An=this.sb=this.qk=null;this.Y=this.aa=0;this.Gy=!0;this.cd="trilinear";this.iu=!0;this.jk=!1;this.Ky=!0;this.sn=0;this.kz=b.create()}zba(e,h,g){g=Object.assign({},f,g);const l=this.wa.qe;if(this.sb||this.An)throw Error("already created render target");this.cd=g.te;this.iu=!!g.alpha;this.jk=!!g.depth;this.Ky=
!!g.oO;this.Gy=!!g.c_;this.sn=g.Ala;if(!a.has(this.cd))throw Error("invalid sampling");if(0<this.sn&&(2>l||this.Ky))throw Error("invalid use of multisampling");2>l&&(this.Ky=!0);this.aa=e;this.Y=h;if(0>=this.aa||0>=this.Y)throw Error("invalid render target size");this.GT();e=this.wa.na;this.qk=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,this.qk);this.Ky?(this.sb=this.wa.xP(this.aa,this.Y,{te:this.cd,BO:this.iu?"rgba8":"rgb8",YF:!1}),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,
e.TEXTURE_2D,this.sb.sb,0)):(this.An=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.An),h=this.iu?e.RGBA8:e.RGB8,0<this.sn&&((g=e.getInternalformatParameter(e.RENDERBUFFER,h,e.SAMPLES))&&g[0]?(g=g[0],this.sn>g&&(this.sn=g)):this.sn=0),0===this.sn?e.renderbufferStorage(e.RENDERBUFFER,h,this.aa,this.Y):e.renderbufferStorageMultisample(e.RENDERBUFFER,this.sn,h,this.aa,this.Y),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.An),e.bindRenderbuffer(e.RENDERBUFFER,
null));h=this.wa.Br;this.jk&&h&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,h);e.bindFramebuffer(e.FRAMEBUFFER,null);c.add(this)}BV(e,h){if(this.aa!==e||this.Y!==h)this.aa=e,this.Y=h,this.GT(),e=this.wa.na,e.bindFramebuffer(e.FRAMEBUFFER,this.qk),this.sb?this.sb.AW(new ImageData(this.aa,this.Y)):(e.bindRenderbuffer(e.RENDERBUFFER,this.An),e.renderbufferStorage(e.RENDERBUFFER,this.iu?e.RGBA8:e.RGB8,this.aa,this.Y),e.bindRenderbuffer(e.RENDERBUFFER,null)),h=this.wa.Br,
this.jk&&h&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,h),e.bindFramebuffer(e.FRAMEBUFFER,null)}uJ(){if(!this.sb&&!this.An)throw Error("already deleted render target");c.delete(this);const e=this.wa.na;e.bindFramebuffer(e.FRAMEBUFFER,this.qk);this.sb?(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),this.wa.Bf(this.sb),this.sb=null):this.An&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,null),e.deleteRenderbuffer(this.An),
this.An=null);e.bindFramebuffer(e.FRAMEBUFFER,null);2<=this.wa.qe&&(e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null));e.deleteFramebuffer(this.qk);this.qk=this.wa.Vc.eq=null}GT(){this.wa.yG(this.kz,this.aa/this.Y)}kc(){return this.wa}lc(){return this.sb}SH(){return"nearest"!==this.cd}R(){return this.aa}S(){return this.Y}Q5(e){e=Object.assign({},f,e);return"nearest"!==e.te!==this.SH()||!!e.alpha!==this.iu||!!e.depth!==this.jk||2<=this.wa.qe&&!!e.oO!==this.Ky?!1:
"number"===typeof e.width||"number"===typeof e.height?!this.Gy&&this.R()===e.width&&this.S()===e.height:this.Gy}aH(){return this.sb?this.sb.aH():this.aa*this.Y*(this.iu?4:3)}static async q1(e,h){e=await e.B8(h);return await d.d5(e)}static zm(){c.clear()}}}
{"use strict";const d=self.D;d.oa.rx=class{static async X0(b,a,f,c){const e=b.na,h=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(h,a);e.compileShader(h);a=e.createShader(e.VERTEX_SHADER);e.shaderSource(a,f);e.compileShader(a);const g=e.createProgram();e.attachShader(g,h);e.attachShader(g,a);e.bindAttribLocation(g,0,"aPos");e.bindAttribLocation(g,1,"aTex");e.bindAttribLocation(g,2,"aPoints");e.linkProgram(g);const l=b.NM;l?await b.Bia(()=>e.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.$I(5);
if(!e.getShaderParameter(h,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(h),e.deleteShader(h),e.deleteShader(a),e.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!e.getShaderParameter(a,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(a),e.deleteShader(h),e.deleteShader(a),e.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!e.getProgramParameter(g,e.LINK_STATUS))throw c=e.getProgramInfoLog(g),e.deleteShader(h),e.deleteShader(a),e.deleteProgram(g),Error("Error linking shader program: "+
c);(b=d.P2(e.getProgramInfoLog(g)||"").trim())&&!d.HB(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);e.deleteShader(h);e.deleteShader(a);return g}static async fb(b,a,f,c){f=await d.oa.rx.X0(b,a.src,f,c);return new d.oa.rx(b,f,a,c)}constructor(b,a,f,c){const e=b.na;var h=b.Vc;b.vj();e.useProgram(a);this.na=e;this.wa=b;this.ra=c;this.Db=a;this.hE="<default-device-transform>"===c;c=e.getAttribLocation(a,"aPos");const g=e.getAttribLocation(a,"aTex");a=e.getAttribLocation(a,"aPoints");
-1!==c&&(e.bindBuffer(e.ARRAY_BUFFER,b.IF),e.vertexAttribPointer(c,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(c));-1!==g&&(e.bindBuffer(e.ARRAY_BUFFER,b.uF),e.vertexAttribPointer(g,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(g));-1!==a&&(e.bindBuffer(e.ARRAY_BUFFER,b.YE),e.vertexAttribPointer(a,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a));e.bindBuffer(e.ARRAY_BUFFER,null);this.EN=new d.oa.Uc(this,"matP","mat4");this.DN=new d.oa.Uc(this,"matMV","mat4");this.Ms=new d.oa.Uc(this,"color","vec4");
this.Zja=new d.oa.Uc(this,"samplerFront","sampler");this.HN=new d.oa.Uc(this,"pointTexStart","vec2");this.GN=new d.oa.Uc(this,"pointTexEnd","vec2");this.KN=new d.oa.Uc(this,"zElevation","float");this.IN=new d.oa.Uc(this,"tileSize","vec2");this.JN=new d.oa.Uc(this,"tileSpacing","vec2");this.CN=new d.oa.Uc(this,"color2_","vec4");this.FN=new d.oa.Uc(this,"outlineThickness","float");this.Fv=new d.oa.Uc(this,"samplerBack","sampler");this.Jn=new d.oa.Uc(this,"destStart","vec2");this.In=new d.oa.Uc(this,
"destEnd","vec2");this.Ik=new d.oa.Uc(this,"srcStart","vec2");this.Kn=new d.oa.Uc(this,"srcEnd","vec2");this.Mn=new d.oa.Uc(this,"srcOriginStart","vec2");this.Ln=new d.oa.Uc(this,"srcOriginEnd","vec2");this.gi=new d.oa.Uc(this,"pixelSize","vec2");this.Xp=new d.oa.Uc(this,"seconds","float");this.Up=new d.oa.Uc(this,"layerScale","float");this.Tp=new d.oa.Uc(this,"layerAngle","float");this.Wp=new d.oa.Uc(this,"layoutStart","vec2");this.Vp=new d.oa.Uc(this,"layoutEnd","vec2");this.EX=!!(this.gi.qa||this.Xp.qa||
this.Fv.qa||this.Jn.qa||this.In.qa||this.Ik.qa||this.Kn.qa||this.Mn.qa||this.Ln.qa||this.Up.qa||this.Tp.qa||this.Wp.qa||this.Vp.qa);this.lX=f.VAa||0;this.mX=f.WAa||0;this.$K=!!f.KAa;this.Dja=!!f.eCa;this.nv=!!f.rCa;this.cD=!!f.xAa;b=f.parameters||[];this.Ns=[];this.Sz=this.Jn.qa||this.In.qa;this.aka=this.gi.qa||this.Ik.qa||this.Kn.qa||this.Mn.qa||this.Ln.qa;this.Fja=this.$K||this.Sz||0!==this.lX||0!==this.mX;this.yL=this.zL=!1;this.Ms.RQ();this.CN.RQ();this.Zja.QQ(0);this.Fv.QQ(1);this.HN.xh(0,0);
this.GN.xh(1,1);this.KN.yt(0);this.IN.xh(0,0);this.JN.xh(0,0);this.Jn.xh(0,0);this.In.xh(1,1);this.Ik.xh(0,0);this.Kn.xh(0,0);this.Mn.xh(0,0);this.Ln.xh(0,0);this.gi.xh(0,0);this.Up.yt(1);this.Tp.yt(0);this.Xp.yt(0);this.Wp.xh(0,0);this.Vp.xh(0,0);this.FN.yt(1);for(const l of b)b=l[2],f=new d.oa.Uc(this,l[0],b),"color"===b?f.j5():f.yt(0),this.Ns.push(f);this.hE?this.GW(h.Yz):(this.kC(h.Yz,!0),this.jC(h.PF,!0));h=h.kj;e.useProgram(h?h.Db:null)}B(){this.na.deleteProgram(this.Db);this.Db=null;this.wa.nga(this);
this.wa=this.na=null}Ao(){return this.Dja}jB(b){return this.Ns[b].Oa}k0(b){for(let a=0,f=b.length;a<f;++a)if(!this.Ns[a].f6(b[a]))return!1;return!0}v9(b){for(let a=0,f=b.length;a<f;++a)this.Ns[a].p9(b[a])}l0(b,a,f,c,e,h,g,l,n){return this.Fv.qa||this.gi.qa&&!this.gi.wm(e,h)||this.Jn.qa&&!this.Jn.wm(b.X,b.U)||this.In.qa&&!this.In.wm(b.ca,b.ba)||this.Up.qa&&!this.Up.VH(g)||this.Tp.qa&&!this.Tp.VH(l)||this.Ik.qa&&!this.Ik.wm(a.X,a.U)||this.Kn.qa&&!this.Kn.wm(a.ca,a.ba)||this.Mn.qa&&!this.Mn.wm(f.X,f.U)||
this.Ln.qa&&!this.Ln.wm(f.ca,f.ba)||this.Wp.qa&&!this.Wp.wm(c.X,c.U)||this.Vp.qa&&!this.Vp.wm(c.U,c.ba)||this.Xp.qa&&!this.Xp.VH(n)?!1:!0}Y9(b,a,f,c,e,h,g,l,n){this.Fv.qa||(this.gi.qa&&this.gi.Dm(e,h),this.Jn.qa&&this.Jn.Dm(b.X,b.U),this.In.qa&&this.In.Dm(b.ca,b.ba),this.Up.qa&&this.Up.uI(g),this.Tp.qa&&this.Tp.uI(l),this.Ik.qa&&this.Ik.Dm(a.X,a.U),this.Kn.qa&&this.Kn.Dm(a.ca,a.ba),this.Mn.qa&&this.Mn.Dm(f.X,f.U),this.Ln.qa&&this.Ln.Dm(f.ca,f.ba),this.Wp.qa&&this.Wp.Dm(c.X,c.U),this.Vp.qa&&this.Vp.Dm(c.U,
c.ba),this.Xp.qa&&this.Xp.uI(n))}kC(b,a){this.zL&&!a||this.hE||(this.EN.qa&&this.EN.lC(b),this.zL=!0)}X9(){this.zL=!1}jC(b,a){this.yL&&!a||this.hE||(this.DN.qa&&this.DN.lC(b),this.yL=!0)}W9(){this.yL=!1}GW(b){if(!this.hE)throw Error("not device transform shader");this.EN.lC(b);b=this.wa;const a=b.R()/2,f=b.S()/2;b=b.fw(a,f,100*self.devicePixelRatio,a,f);this.DN.lC(b)}laa(b){this.Ms.qa&&this.Ms.iC(b[0],b[1],b[2],b[3])}static YG(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.D,b=self.Vn.Us,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.oa.Uc=class{constructor(f,c,e){if(!a.has(e))throw Error("invalid uniform type");this.uc=f;this.na=this.uc.na;this.ra=c;this.Oa=e;this.OL="color"===this.Oa;this.Ui=this.na.getUniformLocation(this.uc.Db,c);this.qa=!!this.Ui;f=a.get(e);this.yb=new Float32Array(f);this.Ak=new Float32Array(f)}B(){this.Ui=this.na=this.uc=null}yt(f){this.qa&&(this.yb[0]=
f,this.Ak.set(this.yb),this.na.uniform1f(this.Ui,f))}QQ(f){this.qa&&(this.yb[0]=f,this.Ak.set(this.yb),this.na.uniform1i(this.Ui,f))}xh(f,c){this.qa&&(this.yb[0]=f,this.yb[1]=c,this.Ak.set(this.yb),this.na.uniform2f(this.Ui,f,c))}j5(){this.qa&&(this.yb[0]=0,this.yb[1]=0,this.yb[2]=0,this.Ak.set(this.yb),this.na.uniform3f(this.Ui,0,0,0))}RQ(){this.qa&&(this.yb[0]=1,this.yb[1]=1,this.yb[2]=1,this.yb[3]=1,this.Ak.set(this.yb),this.na.uniform4f(this.Ui,1,1,1,1))}Xt(f){f=Math.fround(f);const c=this.yb;
c[0]!==f&&(c[0]=f,this.na.uniform1f(this.Ui,f))}Nf(f,c){f=Math.fround(f);c=Math.fround(c);const e=this.yb;if(e[0]!==f||e[1]!==c)e[0]=f,e[1]=c,this.na.uniform2f(this.Ui,f,c)}jaa(f,c,e){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);const h=this.yb;if(h[0]!==f||h[1]!==c||h[2]!==e)h[0]=f,h[1]=c,h[2]=e,this.na.uniform3f(this.Ui,f,c,e)}iC(f,c,e,h){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);h=Math.fround(h);const g=this.yb;if(g[0]!==f||g[1]!==c||g[2]!==e||g[3]!==h)g[0]=f,g[1]=c,g[2]=e,g[3]=
h,this.na.uniform4f(this.Ui,f,c,e,h)}lC(f){const c=this.yb;b.Kk(c,f)||(d.nma(c,f),this.na.uniformMatrix4fv(this.Ui,!1,f))}f6(f){const c=this.Ak;return this.OL?c[0]===Math.fround(f.pb)&&c[1]===Math.fround(f.Fa)&&c[2]===Math.fround(f.nb):c[0]===Math.fround(f)}p9(f){const c=this.Ak;this.OL?(c[0]=f.pb,c[1]=f.Fa,c[2]=f.nb):c[0]=f}VH(f){return this.Ak[0]===Math.fround(f)}wm(f,c){const e=this.Ak;return e[0]===Math.fround(f)&&e[1]===Math.fround(c)}uI(f){this.Ak[0]=f}Dm(f,c){const e=this.Ak;e[0]=f;e[1]=c}}}
{"use strict";const d=self.D,b=self.Vn,a=b.$v,f=b.Us;d.oa.p0=class{constructor(c){this.dg=c;this.PF=f.create();this.Yz=f.create();this.eq=null;this.OF=a.Eg(1,1,1,1);this.kj=null;this.DO=new d.Rect;this.clearColor=d.F(d.ub,0,0,0,0)}};d.oa.yaa=class{constructor(c){const e=new ArrayBuffer(96);this.Oa=0;this.Vc=c;this.na=c.dg.na;this.Mr=this.ci=0;this.Yf=null;this.qf=new Float32Array(e,0,16);this.wr=new Float32Array(e,64,4);this.mZ=new Float32Array(e,80,4);this.hF=[]}v5(c){this.Oa=1;this.ci=c;this.Mr=
6}K1(){const c=this.na;c.drawElements(c.TRIANGLES,this.Mr,c.UNSIGNED_SHORT,this.ci)}D5(c){this.Oa=2;this.Yf=c}W1(){const c=this.na,e=this.Yf;c.bindTexture(c.TEXTURE_2D,e?e.sb:null)}HH(c){this.Oa=3;c.mi(this.wr,0)}M1(){const c=this.wr,e=this.Vc;a.Na(e.OF,c);e.kj.laa(c)}P1(){const c=this.wr,e=this.Vc.kj;e.CN.qa&&e.CN.iC(c[0],c[1],c[2],c[3])}w5(c,e){this.Oa=4;this.ci=c;this.Mr=e}L1(){this.na.blendFunc(this.ci,this.Mr)}E5(c,e){this.Oa=5;const h=this.wr;h[0]=0;h[1]=0;h[2]=c;h[3]=e}Y1(){const c=this.wr;
this.na.viewport(c[0],c[1],c[2],c[3])}B5(c){this.Oa=6;f.Na(this.qf,c)}U1(){const c=this.Vc,e=c.dg.lr,h=c.kj,g=this.qf;for(let l=0,n=e.length;l<n;++l){const p=e[l];p===h?p.kC(g,!0):p.X9()}f.Na(c.Yz,g)}y5(c){this.Oa=7;f.Na(this.qf,c)}Q1(){const c=this.Vc,e=c.dg.lr,h=c.kj,g=this.qf;for(let l=0,n=e.length;l<n;++l){const p=e[l];p===h?p.jC(g,!0):p.W9()}f.Na(c.PF,g)}C5(c){this.Oa=8;this.Yf=c}V1(){const c=this.na;var e=this.Yf;const h=this.Vc;e?(e=e.qk,h.eq=e,c.bindFramebuffer(c.FRAMEBUFFER,e)):(h.eq=null,
c.bindFramebuffer(c.FRAMEBUFFER,null))}o5(c){this.Oa=9;c.mi(this.qf,0)}p5(){this.Oa=9;const c=this.qf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}G1(){const c=this.na;var e=this.qf,h=this.Vc;const g=h.clearColor;(h=h.dg.Ur&&d.Ov)&&c.disable(c.SCISSOR_TEST);const l=e[0],n=e[1],p=e[2];e=e[3];g.aA(l,n,p,e)||(c.clearColor(l,n,p,e),g.oq(l,n,p,e));c.clear(c.COLOR_BUFFER_BIT);h&&c.enable(c.SCISSOR_TEST)}n5(c,e,h,g){this.Oa=10;const l=this.qf;l[0]=c;l[1]=e;l[2]=h;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}F1(){const c=this.na;var e=
this.qf,h=this.Vc;const g=h.dg;h=h.clearColor;g.Ur||c.enable(c.SCISSOR_TEST);c.scissor(e[0],e[1],e[2],e[3]);const l=e[4],n=e[5],p=e[6];e=e[7];h.aA(l,n,p,e)||(c.clearColor(l,n,p,e),h.oq(l,n,p,e));c.clear(c.COLOR_BUFFER_BIT);g.Ur?c.scissor(0,0,g.Wz,g.Vz):c.disable(c.SCISSOR_TEST)}R1(){const c=this.qf;this.Vc.DO.set(c[0],c[1],c[2],c[3])}J1(){const c=this.na,e=this.Vc,h=e.dg.mF;c.useProgram(h.Db);h.kC(e.Yz,!1);h.jC(e.PF,!1);var g=e.DO;h.HN.qa&&h.HN.Nf(g.X,g.U);h.GN.qa&&h.GN.Nf(g.ca,g.ba);g=this.qf[0];
h.KN.qa&&h.KN.Xt(g);h.Ms.qa&&(g=e.OF,h.Ms.iC(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.ci/4,this.Mr);c.useProgram(e.kj.Db)}z5(c){this.Oa=12;this.Yf=c}S1(){var c=this.na;const e=this.Vc,h=this.Yf;e.kj=h;c.useProgram(h.Db);h.kC(e.Yz,!1);h.jC(e.PF,!1);h.Ms.qa&&(c=e.OF,h.Ms.iC(c[0],c[1],c[2],c[3]))}A5(){this.Oa=13}T1(){const c=this.Vc.kj;c.EX&&this.zca(c);c.Ns.length&&this.Aca(c)}zca(c){const e=this.na,h=this.qf,g=this.wr,l=this.mZ;if(c.Fv.qa){const n=this.Vc.dg,p=this.Yf;n.wp!==p&&(e.activeTexture(e.TEXTURE1),
e.bindTexture(e.TEXTURE_2D,p?p.sb:null),n.wp=p,e.activeTexture(e.TEXTURE0))}c.gi.qa&&c.gi.Nf(h[0],h[1]);c.Jn.qa&&c.Jn.Nf(h[2],h[3]);c.In.qa&&c.In.Nf(h[4],h[5]);c.Up.qa&&c.Up.Xt(h[6]);c.Tp.qa&&c.Tp.Xt(h[7]);c.Ik.qa&&c.Ik.Nf(h[12],h[13]);c.Kn.qa&&c.Kn.Nf(h[14],h[15]);c.Mn.qa&&c.Mn.Nf(l[0],l[1]);c.Ln.qa&&c.Ln.Nf(l[2],l[3]);c.Wp.qa&&c.Wp.Nf(g[0],g[1]);c.Vp.qa&&c.Vp.Nf(g[2],g[3]);c.Xp.qa&&c.Xp.Xt(this.ci)}Aca(c){c=c.Ns;const e=this.hF;for(let h=0,g=c.length;h<g;++h){const l=c[h],n=e[h];l.OL?l.jaa(n.pb,
n.Fa,n.nb):l.Xt(n)}}r5(c){this.Oa=14;this.Yf=c}I1(){const c=this.na,e=this.Yf,h=this.Vc.eq;e!==h&&c.bindFramebuffer(c.FRAMEBUFFER,e);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);e!==h&&c.bindFramebuffer(c.FRAMEBUFFER,h)}k5(c,e){this.Oa=17;var h=this.qf;const g=this.Vc.dg;h[0]=c.R();h[1]=c.S();h[2]=e?e.R():g.R();h[3]=e?e.S():g.S();h[4]=c.SH()?1:0;h[5]=!0;h=this.hF;d.I(h);h.push(c.qk);h.push(e?e.qk:null)}D1(){var c=this.qf,e=this.hF;const h=this.na;var g=c[0],l=c[1],n=c[2];const p=c[3],
q=0!==c[4];c=0!==c[5];const r=e[1];h.bindFramebuffer(h.READ_FRAMEBUFFER,e[0]);h.bindFramebuffer(h.DRAW_FRAMEBUFFER,r);c?h.blitFramebuffer(0,0,g,l,0,0,n,p,h.COLOR_BUFFER_BIT,q?h.LINEAR:h.NEAREST):(e=Math.min(g,n),g=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),h.blitFramebuffer(0,n,e,g+n,0,l,e,g+l,h.COLOR_BUFFER_BIT,h.NEAREST))}G5(c){this.Oa=18;this.Yf=c}Z1(){this.Yf.vG();this.Yf=null}q5(c){this.Oa=19;this.Yf=c}H1(){this.Yf.NG();this.Yf=null}O1(){const c=this.Vc.kj,e=this.qf;c.gi.qa&&c.gi.Nf(e[0],
e[1]);c.FN.qa&&c.FN.Xt(e[2])}X1(){const c=this.Vc.kj,e=this.qf;c.Ik.qa&&c.Ik.Nf(e[0],e[1]);c.gi.qa&&c.gi.Nf(e[4],e[5]);c.IN.qa&&c.IN.Nf(e[6],e[7]);c.JN.qa&&c.JN.Nf(e[8],e[9])}m5(){this.Oa=22}E1(){const c=this.na;c.clear(c.DEPTH_BUFFER_BIT)}x5(c){this.Oa=23;this.ci=c?1:0}N1(){const c=this.na;0===this.ci?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}Ha(){switch(this.Oa){case 1:this.K1();break;case 2:this.W1();break;case 3:this.M1();break;case 4:this.L1();break;case 5:this.Y1();
break;case 6:this.U1();break;case 7:this.Q1();break;case 8:this.V1();break;case 9:this.G1();break;case 10:this.F1();break;case 11:this.J1();break;case 12:this.S1();break;case 13:this.T1();break;case 14:this.I1();break;case 15:this.R1();break;case 16:this.X1();break;case 17:this.D1();break;case 18:this.Z1();break;case 19:this.H1();break;case 20:this.O1();break;case 21:this.P1();break;case 22:this.E1();break;case 23:this.N1()}}}}
{"use strict";const d=self.D,b={timeout:60},a=new d.ub(0,0,0,1),f=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),e=new Set(["word","character"]),h=new Set;d.R2&&d.R2.addEventListener("fontload",p=>{p=p.font.ra;for(const q of h)(q.lf||d.ki(q.OD,p))&&q.hr()});function g(p,q,r,w,x,u){q?"Gecko"===d.Bb.yA?p.strokeText(r,w,x,u):p.strokeText(r,w,x):"Gecko"===d.Bb.yA?p.fillText(r,w,x,u):p.fillText(r,w,x)}let l=!1,n=!1;d.oa.jS=class{constructor(p,q){q=Object.assign({},b,q);this.wa=
p;this.OD="Arial";this.PD=16;this.sX=1;this.Oc=0;this.sja=this.nja=!1;this.YK="black";this.lf=!1;this.yO=null;this.DK=new Set;this.Re="left";this.He="top";this.Dc="";this.Zj=null;this.bg=d.F(d.tx);this.Qs="word";this.aM=this.vF=!1;this.Ey=!0;this.Qh=-1;this.Y=this.aa=this.Tm=this.Pf=this.Ph=0;this.jj=1;this.WK=!1;this.az=this.rn=this.We=this.Fs=null;this.dY=this.eY=-1;this.DE=this.gY=this.hM="";this.iM=this.jM=1;this.bz=(r,w)=>this.Hx(r,w);this.sb=null;this.Hz=this.Jz=0;this.Ek=new d.Rect;this.uz=
1;this.EM=!1;this.xN=new d.c5(()=>{this.Ch();this.lW(8,8)},q.timeout);this.zO=null;this.Pn=!1;h.add(this)}B(){this.yO=null;this.DK.clear();this.bz=this.az=this.rn=this.We=this.Fs=this.Zj=null;this.xN.B();this.zO=null;this.Ch();this.bg.Rc();this.wa=this.bg=null;this.Pn=!0;h.delete(this)}gr(){this.WK=!0}hr(){this.gr();this.bg.Rc();this.vF=!0}P9(){this.Ey=!1}yh(){return this.Ey}CS(p){p=!!p;this.lf!==p&&(p=(this.lf=p)?"alphabetic":"top",this.We&&(this.We.textBaseline=p),this.rn&&(this.rn.textBaseline=
p),this.hr())}F9(){"Arial"!==this.OD&&(this.OD="Arial",this.hr())}G9(){var p=16;.1>p&&(p=.1);this.PD!==p&&(this.PD=p,this.hr())}eC(p){this.Oc!==p&&(this.Oc=p,this.gr())}bC(p){p=Math.floor(p);this.Qh!==p&&(this.Qh=p,this.gr())}Bd(p,q){for(let r=p.length-1;0<=r;--r){const w=p[r];if(w.tag===q)return w}return null}Ro(p,q){return!!this.Bd(p,q)}wU(p,q){let r=[];(this.nja||this.Ro(q,"b"))&&r.push("bold");(this.sja||this.Ro(q,"i"))&&r.push("italic");var w=this.Bd(q,"size");w=(w?parseFloat(w.ee):this.PD)*
this.sX;p?r.push(w+"pt"):r.push(w*this.uz*this.jj*self.devicePixelRatio+"pt");p=this.OD;(q=this.Bd(q,"font"))&&q.ee&&(p=q.ee,this.yO&&!this.DK.has(p)&&(this.yO(p),this.DK.add(p)));p&&r.push('"'+p+'"');return r.join(" ")}jl(p){p instanceof d.ub&&(p=p.Rka());this.YK!==p&&(this.YK=p,this.gr())}ES(p,q,r){a.gG(p,q,r);this.jl(a)}L9(){if(!f.has("center"))throw Error("invalid horizontal alignment");"center"!==this.Re&&(this.Re="center",this.gr())}A$(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.He&&(this.He="center",this.gr())}cT(p){if(!e.has(p))throw Error("invalid word wrap mode");this.Qs!==p&&(this.Qs=p,this.hr())}Tt(p){this.Dc!==p&&(this.Dc=p,this.hr())}zc(p,q,r){"undefined"===typeof r&&(r=1);if(!(0>=p||0>=p||this.Pf===p&&this.Tm===q&&this.jj===r)){1===this.jj!==(1===r)&&(this.EM=!0);var w=this.Pf,x=this.jj;this.Pf=p;this.Tm=q;this.jj=r;p=self.devicePixelRatio;this.aa=this.Pf*this.jj*p;this.Y=this.Tm*this.jj*p;p=Math.max(this.aa,this.Y);q=Math.min(this.wa.PE,2048);r=
1;p>q&&(r=q/p,this.aa=Math.min(this.aa*r,q),this.Y=Math.min(this.Y*r,q));this.uz=r;0<this.Jz&&0<this.Hz&&this.jj===x&&this.Ek.set(0,0,this.aa/this.Jz,this.Y/this.Hz);this.Pf!==w?this.hr():this.gr()}}R(){return this.aa}S(){return this.Y}FQ(){this.cr();return this.bg.kQ()}EQ(){this.cr();return this.bg.l4()+this.bg.Jl.length*(this.Oc+4)-this.Oc}lc(){this.xN.hd();this.$ea();return this.sb}$ea(){this.sb&&!this.WK&&!this.vF||this.aM||0>=this.aa||0>=this.Y||(this.WK=!1,this.aM=!0,this.Ey?d.dm(()=>this.aU()):
this.aU())}aU(){this.Pn||(this.lW(Math.ceil(this.aa),Math.ceil(this.Y)),this.cr(),this.Qca(),this.wia(),this.xN.hd(),this.aM=!1)}lW(p,q){this.Fs||(this.Fs=d.eg(16,16));let r=!1;if(this.eY!==p||this.dY!==q)this.eY=p,this.dY=q,this.Fs.width=p,this.Fs.height=q,r=!0;this.We||(this.We=this.Fs.getContext("2d"),r=!0);r?(this.We.textBaseline=this.lf?"alphabetic":"top",this.We.font=this.hM,this.We.fillStyle=this.DE,this.We.strokeStyle=this.DE,this.We.globalAlpha=this.jM,this.We.lineWidth=this.iM):this.We.clearRect(0,
0,p,q)}fV(){this.rn||(this.rn=d.eg(16,16).getContext("2d"),this.az=d.eg(16,16).getContext("2d"),this.rn.textBaseline=this.lf?"alphabetic":"top",this.az.textBaseline="top")}Fha(p){this.gY!==p&&(this.gY=p,this.rn.font=p,this.az.font=p)}wW(){if(!l){l=!0;this.fV();const p=this.rn.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}cr(){this.vF&&(this.fV(),!this.lf||this.Zj&&this.Zj.toString()===this.Dc||(this.Zj=new d.em(this.Dc,{i_:!0})),
this.bg.tx(this.lf?this.Zj.z_():this.Dc,this.bz,this.Pf,this.Qs,0),this.vF=!1)}Hx(p,q){this.Fha(this.wU(!0,q));q=this.Bd(q,"size");q=(q?parseFloat(q.ee):this.PD)*this.sX;const r=this.rn.measureText(p);let w=0;this.lf&&this.wW()&&(w=r.fontBoundingBoxAscent-this.az.measureText(p).fontBoundingBoxAscent);return{width:r.width,height:4/3*q,nh:r.fontBoundingBoxAscent||0,Dg:r.fontBoundingBoxDescent||0,Fg:w}}pha(p){this.hM!==p&&(this.hM=p,this.We.font=p)}hK(p){this.DE!==p&&(this.DE=p,this.We.fillStyle=p,this.We.strokeStyle=
p)}oha(p){this.jM!==p&&(this.jM=p,this.We.globalAlpha=p)}UV(p){this.iM!==p&&(this.iM=p,this.We.lineWidth=p)}Qca(){this.Ph=0;const p=this.uz*this.jj*self.devicePixelRatio,q=(4+this.Oc)*p;var r=0;const w=this.bg.Jl;if(0!==w.length){var x=this.lf&&this.wW(),u=w[0].height*p;"center"===this.He?(r=w.reduce((t,A)=>t+A.height*p+q,0)-q,r=Math.max(this.Y/2-r/2,0),x&&(u=w[0].Fg*p)):"bottom"===this.He&&(r=w.reduce((t,A)=>t+A.height*p+q,0)-this.Oc*p,r=this.Y-r-(x?w[w.length-1].Dg*p:0)-2);for(let t=0,A=w.length;t<
A;++t){x=w[t];const y=x.height*p,C=r;if(this.lf){if(r+=0===t?u:y,0<t&&r>this.Y-4*p)break}else if(0<t&&r>=this.Y-y)break;0<=C&&this.Pca(x,r,p);this.lf||(r+=y);r+=q}}}Pca(p,q,r){let w=0;"center"===this.Re?w=(this.aa-p.width*r)/2:"right"===this.Re&&(w=this.aa-p.width*r);for(const x of p.dO)this.Oca(x,w,q,r,p.height),w+=x.width*r}Oca(p,q,r,w,x){const u=this.We;var t=x/16;x=p.width*w;var A=p.height*w;const y=p.height/16;var C=(4+this.Oc)*w;const F=p.Jd;p=p.text;if(-1!==this.Qh){if(this.Ph>=this.Qh)return;
this.Ph+p.length>this.Qh&&(p=p.substr(0,this.Qh-this.Ph),x=this.Hx(p,F).width*w);this.Ph+=p.length}var H=this.Bd(F,"background"),J=this.Ro(F,"u"),M=this.Ro(F,"s");if((!d.HB(p)||H||J||M)&&!this.Ro(F,"hide")){var P=this.Bd(F,"offsetx");q+=P?parseFloat(P.ee)*w:0;P=this.Bd(F,"offsety");r+=P?parseFloat(P.ee)*w:0;H&&(this.hK(H.ee),u.fillRect(q,r-A,x,A+C));C=this.Bd(F,"color");this.hK(C?C.ee:this.YK);C=this.Bd(F,"opacity");this.oha(C?parseFloat(C.ee)/100:1);(C=this.Ro(F,"stroke"))&&this.UV(y*this.uz*this.jj);
J&&(J=q,H=r+w*t,P=x,t*=w,C?u.strokeRect(J,H,P,t):u.fillRect(J,H,P,t));M&&(t=q,A=r-A/4,M=x,w*=y,C?u.strokeRect(t,A,M,w):u.fillRect(t,A,M,w));this.pha(this.wU(!1,F));g(u,C,p,q,r,x);!C&&(this.UV(y*this.uz*this.jj),w=this.Bd(F,"outline"))&&(this.hK(w.ee),g(u,!0,p,q,r,x))}}wia(){this.wa.po()||(this.Jz=Math.ceil(this.aa),this.Hz=Math.ceil(this.Y),this.Ek.set(0,0,this.aa/this.Jz,this.Y/this.Hz),this.EM&&(this.Ch(),this.EM=!1),this.sb||(this.sb=this.wa.xP(this.Jz,this.Hz,{YF:1===this.jj,iA:"high"})),this.wa.paa(this.Fs,
this.sb),this.zO&&this.zO())}vi(){return this.Ek}Ch(){this.sb&&(this.wa.po()||this.wa.Bf(this.sb),this.sb=null)}static zm(){for(const p of h)p.Ch()}}}
{"use strict";const d=self.D;class b{constructor(a){this.na=a.na;this.qe=a.qe;this.pe=a.pe;this.Xi=null;this.ry=this.hc=!1;this.eF=0;this.Xi=1===this.qe?this.pe.createQueryEXT():this.na.createQuery()}B(){this.ST();this.pe=this.na=null;this.ry=!1}ST(){this.Xi&&(1===this.qe?this.pe.deleteQueryEXT(this.Xi):this.na.deleteQuery(this.Xi),this.Xi=null)}vG(){if(this.hc)throw Error("query already active");1===this.qe?this.pe.beginQueryEXT(this.pe.TIME_ELAPSED_EXT,this.Xi):this.na.beginQuery(this.pe.TIME_ELAPSED_EXT,
this.Xi);this.hc=!0}NG(){if(!this.hc)throw Error("query not active");1===this.qe?this.pe.endQueryEXT(this.pe.TIME_ELAPSED_EXT):this.na.endQuery(this.pe.TIME_ELAPSED_EXT);this.hc=!1}BG(){if(this.Xi&&!this.ry&&!this.hc){var a=1===this.qe?this.pe.getQueryObjectEXT(this.Xi,this.pe.QUERY_RESULT_AVAILABLE_EXT):this.na.getQueryParameter(this.Xi,this.na.QUERY_RESULT_AVAILABLE);var f=this.na.getParameter(this.pe.GPU_DISJOINT_EXT);a&&!f&&(this.eF=1===this.qe?this.pe.getQueryObjectEXT(this.Xi,this.pe.QUERY_RESULT_EXT):
this.na.getQueryParameter(this.Xi,this.na.QUERY_RESULT),this.eF/=1E9,this.ry=!0);(a||f)&&this.ST()}}wB(){return this.ry}nB(){if(!this.ry)throw Error("no result available");return this.eF}}d.oa.Aaa=class{constructor(a){this.wa=a;this.Qi=a.Qi;this.hc=!1;this.Fp=null;this.Tr=!1;this.qv=null;this.us=[]}B(){for(const a of this.us)a instanceof b&&a.B();d.I(this.us);this.wa=this.qv=this.Fp=null}vG(){if(this.hc)throw Error("query already active");const a=this.wa.tZ;0<a.length?(this.Tr=!0,this.Fp=a[a.length-
1],this.Fp.dU(),this.Fp.us.push(this)):(this.Tr=!1,this.Fp=null);this.hc=!0;a.push(this);this.tW()}NG(){if(!this.hc)throw Error("query not active");if(this.wa.tZ.pop()!==this)throw Error("can only end most nested query");this.hc=!1;this.dU();this.Fp&&(this.Fp.tW(),this.Fp=null)}tW(){this.qv=d.F(b,this.wa);this.us.push(this.qv);this.qv.vG()}dU(){this.qv.NG();this.qv=null}BG(){for(const a of this.us)a.BG()}wB(){return this.us.every(a=>a.wB())}nB(){return this.us.reduce((a,f)=>a+f.nB(),0)}}}
{"use strict";const d=self.D;d.oa.wT=class{constructor(b,a=1E3){this.wa=b;this.Cja=a;this.ul=[];this.wa.Saa(this)}B(){this.Rc();this.wa.mga(this);this.wa=null}Rc(){for(const b of this.ul)b.B();d.I(this.ul)}aP(){const b=new d.oa.Aaa(this.wa);this.ul.push(b);this.ul.length>this.Cja&&this.ul.shift().B();return b}E0(b){for(const a of this.ul){if(a.Qi>=b)break;if(a.Tr)break;a.BG()}}fQ(b,a){if(a<=b)return NaN;let f=0;for(const c of this.ul){if(c.Qi>=a)break;if(!(c.Qi<b))if(c.wB())f+=c.nB();else return NaN}return f}DP(b){for(let a=
0,f=this.ul.length;a<f;++a){const c=this.ul[a];if(c.Qi<b)c.B();else{0<a&&this.ul.splice(0,a);break}}}}}
{"use strict";const d=self.D,b=self.Vn,a=b.$v,f=b.Us,c={powerPreference:"default",YZ:!0,alpha:!1,pO:!1,depth:!1,qO:2},e=new Set(["default","low-power","high-performance"]),h=new d.Ad(0,0,1,0,1,1,0,1),g=f.create(),l=f.create(),n=new d.Ad,p=new d.Rect;let q=null;d.Ov&&(self.NAa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.OAa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const r=new Set;let w=-1;function x(){w=-1;for(const t of r)t.rka()&&
(t.resolve(),r.delete(t));0<r.size&&(w=self.requestAnimationFrame(x))}function u(t,A,y){if(2<=y&&(y=t.getContext("webgl2",A)))return{UF:y,version:2};y=t.getContext("webgl",A);return{UF:y,version:1}}d.oa.zaa=class extends d.oa.N8{constructor(t,A){super();A=Object.assign({},c,A);if(!e.has(A.powerPreference))throw Error("invalid power preference");let y=!1;const C={alpha:!!A.alpha,depth:!1,antialias:!1,powerPreference:A.powerPreference,failIfMajorPerformanceCaveat:!0};A.pO&&(C.desynchronized=!0,C.preserveDrawingBuffer=
!0);let F=u(t,C,A.qO);F.UF||(y=!0,C.failIfMajorPerformanceCaveat=!1,F=u(t,C,A.qO));if(!F.UF)throw Error("failed to initialise WebGL context");this.na=t=F.UF;this.PW=t.getContextAttributes();A.pO&&!this.PW.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");t.getParameter(t.VERSION);this.qe=F.version;this.se=a.create();this.KK=f.create();this.PL=this.Yp=!!A.depth;this.Br=null;this.NL=!0;this.YW=this.ZW=0;this.YE=this.OX=this.uF=this.IF=null;this.Uz=
new Float32Array(24E3);this.PX=new Uint16Array(12E3);this.Es=new Float32Array(16E3);this.JY=new Float32Array(32E3);this.iY=this.ZE=this.vf=this.ij=0;this.Np=this.$r=null;this.Zx=[];this.wd=this.Xo=0;this.ke=null;this.Vc=d.F(d.oa.p0,this);this.Ty=d.F(d.ub,1,1,1,1);this.wp=this.ln=null;this.dM=this.gM=0;this.Ur=!1;this.Vz=this.Wz=-1;this.vja=new d.Rect;this.PE=-1;this.zM=0;this.Qz="(unavailable)";this.HX=y;this.SL=!1;this.Ux=this.NM=null;this.yM=0;this.rja=!!A.YZ;this.pe=null;this.bD=new Set;this.tZ=
[];this.O2(this.PX)}IB(){return!0}async xB(){super.xB();var t=this.na;this.Ty.oq(1,1,1,1);this.wp=this.ln=null;this.ZE=this.ij=0;this.iY=23988;d.I(this.Zx);this.wd=this.Xo=0;this.ke=this.$r=null;this.vja.set(0,0,1,1);var A=this.Vc;A.kj=null;A.eq=null;a.set(A.OF,1,1,1,1);A.clearColor.oq(0,0,0,0);A.DO.set(0,0,1,1);t.clearColor(0,0,0,0);t.clear(t.COLOR_BUFFER_BIT);t.enable(t.BLEND);t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);this.gM=t.ONE;this.dM=t.ONE_MINUS_SRC_ALPHA;this.Tda(t);t.disable(t.CULL_FACE);
t.disable(t.STENCIL_TEST);t.disable(t.DITHER);this.Yp?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1));this.PL=this.Yp;this.YE=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.YE);t.bufferData(t.ARRAY_BUFFER,this.JY.byteLength,t.DYNAMIC_DRAW);this.IF=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.IF);t.bufferData(t.ARRAY_BUFFER,this.Uz.byteLength,t.DYNAMIC_DRAW);this.uF=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.uF);t.bufferData(t.ARRAY_BUFFER,
this.Es.byteLength,t.DYNAMIC_DRAW);this.OX=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.OX);t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.PX,t.STATIC_DRAW);t.activeTexture(t.TEXTURE0);t.bindTexture(t.TEXTURE_2D,null);this.PE=t.getParameter(t.MAX_TEXTURE_SIZE);this.zM=t.getParameter(t.ALIASED_POINT_SIZE_RANGE)[1];2048<this.zM&&(this.zM=2048);if(A=t.getExtension("WEBGL_debug_renderer_info"))t.getParameter(A.UNMASKED_VENDOR_WEBGL),this.Qz=t.getParameter(A.UNMASKED_RENDERER_WEBGL);this.NM=t.getExtension("KHR_parallel_shader_compile");
d.Ov&&(q=t.getExtension("WEBGL_lose_context"));if(this.rja)if(1===this.qe){if("Chromium"!==d.Bb.yA||81<=d.Bb.xG||"undefined"!==typeof document)this.pe=t.getExtension("EXT_disjoint_timer_query")}else this.pe=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query");this.yM=(this.Ux=t.getExtension("EXT_texture_filter_anisotropic"))?t.getParameter(this.Ux.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;t=d.oa.rx;A=t.YG(!1);t=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
A,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",A,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",A,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
A,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",A,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
A,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
A,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
A,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",A,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
t.YG(!0),"<tilemap>"]].map(y=>this.AP({src:y[0]},y[1],y[2])));this.nF=t[0];this.Np=t[1];this.mF=t[2];this.lN=t[3];this.Bi()}async AP(t,A,y){t=await d.oa.rx.fb(this,t,A,y);this.Taa(t);return t}U8(){this.$r=null}zc(t,A,y){if(this.aa!==t||this.Y!==A||y){this.vj();y=this.na;var C=this.Vc;this.aa=t;this.Y=A;t=this.vQ();A=this.uH();this.qW(t,A);this.yG(this.KK,t/A);this.hC(this.KK);this.Np&&(y.useProgram(this.Np.Db),this.Np.GW(this.OE),this.$r=this.Np,this.Vc.kj=this.Np);y.bindTexture(y.TEXTURE_2D,null);
y.activeTexture(y.TEXTURE1);y.bindTexture(y.TEXTURE_2D,null);y.activeTexture(y.TEXTURE0);this.wp=this.ln=null;this.Yp&&this.NL&&this.gK(this.aa,this.Y);this.ke&&this.ke.BV(this.aa,this.Y);y.bindFramebuffer(y.FRAMEBUFFER,null);this.ke=null;C.eq=null}}gK(t,A){const y=this.na;if(this.Br){if(this.ZW===t&&this.YW===A)return;y.deleteRenderbuffer(this.Br)}this.Br=y.createRenderbuffer();y.bindRenderbuffer(y.RENDERBUFFER,this.Br);y.renderbufferStorage(y.RENDERBUFFER,2<=this.qe?y.DEPTH_COMPONENT24:y.DEPTH_COMPONENT16,
t,A);y.bindRenderbuffer(y.RENDERBUFFER,null);this.ZW=t;this.YW=A}E9(t,A){this.Yp&&(this.NL=!1,this.gK(t,A))}o9(){this.Yp&&(this.NL=!0,this.gK(this.aa,this.Y))}vQ(){return this.Ur?this.Wz:this.R()}uH(){return this.Ur?this.Vz:this.S()}qW(t,A){const y=this.se;if(0!==y[0]||0!==y[1]||y[2]!==t||y[3]!==A)this.Ud().E5(t,A),a.set(y,0,0,t,A),this.wd=0}hC(t){f.Kk(this.OE,t)||(this.Ud().B5(t),f.Na(this.OE,t),this.wd=0)}IS(){let t,A;var y=this.ke;null===y||y.Gy&&this.Ur?(t=this.KK,A=this.vQ(),y=this.uH()):(t=
y.kz,A=y.R(),y=y.S());this.hC(t);this.qW(A,y)}Ot(t){f.Kk(this.wM,t)||(this.Ud().y5(t),f.Na(this.wM,t),this.wd=0)}Ud(){const t=this.Zx;this.Xo===t.length&&t.push(new d.oa.yaa(this.Vc));return t[this.Xo++]}vj(){0===this.Xo||this.po()||(this.Gia(),this.Tca(),this.wd=this.ZE=this.vf=this.ij=this.Xo=0)}Gia(){const t=this.na;0<this.ZE&&(t.bindBuffer(t.ARRAY_BUFFER,this.YE),t.bufferSubData(t.ARRAY_BUFFER,0,this.JY.subarray(0,this.ZE)));0<this.ij&&(t.bindBuffer(t.ARRAY_BUFFER,this.IF),t.bufferSubData(t.ARRAY_BUFFER,
0,this.Uz.subarray(0,this.ij)),t.bindBuffer(t.ARRAY_BUFFER,this.uF),t.bufferSubData(t.ARRAY_BUFFER,0,this.Es.subarray(0,this.vf)))}Tca(){const t=this.Zx;for(let A=0,y=this.Xo;A<y;++A)t[A].Ha()}he(){return this.Ty.ib}ng(t,A,y,C){const F=this.Ty;F.aA(t,A,y,C)||(F.oq(t,A,y,C),this.Ud().HH(F),this.wd=0,this.ik=null)}Kf(t){const A=this.Ty;A.ib!==t&&(A.li(t),this.Ud().HH(A),this.wd=0,this.ik=null)}jl(t){const A=this.Ty;A.xd(t)||(A.set(t),this.Ud().HH(A),this.wd=0,this.ik=null)}Jt(){this.ng(1,1,1,1)}Mf(t){t!==
this.ln&&(this.Ud().D5(t),this.ln=t,this.wd=0)}$J(){this.ln=null}Jf(t){t=this.mda(t);this.fK(t[0],t[1])}fK(t,A){if(t!==this.gM||A!==this.dM)this.Ud().w5(t,A),this.gM=t,this.dM=A,this.wd=0,this.ik=null}tI(){this.fK(this.na.ONE,this.na.ONE_MINUS_SRC_ALPHA)}GS(){this.fK(this.na.ONE,this.na.ZERO)}Rect(t){this.hS(t.X,t.U,t.ca,t.ba)}hS(t,A,y,C){this.w8(t,A,y,A,y,C,t,C)}Ax(){let t=this.ij;t>=this.iY&&(this.vj(),t=0);1===this.wd?this.Zx[this.Xo-1].Mr+=6:(this.Ud().v5(t),this.wd=1)}qK(t){t.wma(this.Uz,this.ij,
this.Yx+this.jy);this.ij+=12}Ad(t){this.Ax();this.qK(t);h.mi(this.Es,this.vf);this.vf+=8}w8(t,A,y,C,F,H,J,M){this.Ax();const P=this.Uz;let S=this.ij;const T=this.Yx+this.jy;P[S++]=t;P[S++]=A;P[S++]=T;P[S++]=y;P[S++]=C;P[S++]=T;P[S++]=F;P[S++]=H;P[S++]=T;P[S++]=J;P[S++]=M;P[S++]=T;this.ij=S;h.mi(this.Es,this.vf);this.vf+=8}el(t,A){this.Ax();this.qK(t);A.vma(this.Es,this.vf);this.vf+=8}x8(t,A){this.Ax();this.qK(t);A.mi(this.Es,this.vf);this.vf+=8}UB(t,A,y,C,F,H,J,M,P,S,T,V,ba){this.Ax();const ea=this.Uz;
let X=this.ij;const na=this.Yx+this.jy;ea[X++]=t;ea[X++]=A;ea[X++]=na+y;ea[X++]=C;ea[X++]=F;ea[X++]=na+H;ea[X++]=J;ea[X++]=M;ea[X++]=na+P;ea[X++]=S;ea[X++]=T;ea[X++]=na+V;this.ij=X;ba.mi(this.Es,this.vf);this.vf+=8}U2(t,A){f.Na(g,this.OE);f.Na(l,this.wM);this.IS();if(this.Ur){t=this.fw(0,0,100*self.devicePixelRatio,0,0);this.Ot(t);t=this.Wz/2;var y=this.Vz/2;p.set(-t,y,-t+this.Wz,y-this.Vz);n.nq(p);p.set(0,0,this.Wz/this.aa,this.Vz/this.Y);this.el(n,p)}else{const [H,J]=this.g4(this.ke);y=this.fw(0,
0,100*self.devicePixelRatio,0,0,J);this.Ot(y);if("crop"===t&&this.ke&&A){t=this.aa/2;y=this.Y/2;const M=A.R();A=A.S();var C=this.ke.R(),F=this.ke.S();C=Math.min(C,M);const P=Math.min(F,A),S=Math.max(A-F,0);F=Math.max(F-A,0);p.set(-t,y-F,-t+C,y-P-F);n.nq(p);p.set(0,S,C,P+S);p.Zl(M,A);this.el(n,p)}else t=H/2,y=J/2,this.hS(-t,y,t,-y)}this.hC(g);this.Ot(l)}Mo(t){this.$r!==t&&(this.Ud().z5(t),this.$r=t,this.wd=0,this.ik=null)}x9(){this.Mo(this.Np)}Rt(t,A,y,C,F,H,J,M,P,S,T){const V=this.$r;var ba=V.EX;
const ea=!!T.length;if(ba&&!V.l0(A,y,C,F,H,J,M,P,S)||ea&&!V.k0(T)){var X=this.Ud();X.A5();ba&&(V.Y9(A,y,C,F,H,J,M,P,S),ba=X.qf,ba[0]=H,ba[1]=J,A.mi(ba,2),ba[6]=M,ba[7]=P,y.mi(ba,12),A=X.wr,F.mi(A,0),F=A[1],A[1]=A[3],A[3]=F,C.mi(X.mZ,0),X.ci=S,X.Yf=V.Fv.qa?t?t.lc():null:null);ea&&(V.v9(T),d.fe(X.hF,T));this.wd=0}}DA(){this.Ud().p5();this.wd=0}Rc(t){this.Ud().o5(t);this.wd=0}CG(t){this.K0(t.X,t.U,t.width(),t.height())}K0(t,A,y,C){0>y||0>C||(this.Ud().n5(t,A,y,C),this.wd=0)}Oo(){}ow(){super.ow();this.na.flush()}G0(){this.Yp&&
this.ke&&this.ke.jk&&(this.Ud().m5(),this.wd=0)}aC(t){t=!!t;this.PL!==t&&this.Yp&&(this.PL=t,this.Ud().x5(t),this.wd=0)}D0(){for(const t of this.bD)t.E0(this.Qi)}po(){return!this.na||this.na.isContextLost()||this.SL}zm(){super.o7();d.oa.nC.zm();d.oa.aJ.zm();d.oa.jS.zm();for(const t of this.bD)t.Rc();this.Ux=this.NM=this.pe=null;this.yM=0;this.Qz="(unavailable)";this.Br=this.Np=this.$r=null;for(const t of this.Fz.values())t.zm()}async aI(){this.SL=!0;await this.xB();this.SL=!1;for(const t of this.Fz.values())t.aI(this);
this.zc(this.aa,this.Y,!0)}Nk(t,A){if(this.po())throw Error("context lost");this.vj();const y=d.F(d.oa.nC,this);y.Tba(t,A);return y}GA(t,A){if(this.po())return Promise.reject("context lost");A=Object.assign({},A);const y=A.bo&&"clamp-to-edge"!==A.bo||A.co&&"clamp-to-edge"!==A.co;if(!d.qc.ImageBitmapOptions||!this.Wq()&&y)return d.qc.ImageBitmap?createImageBitmap(t).then(C=>d.dm(()=>this.Nk(C,A))):t instanceof Blob?d.eP(t,!0).then(C=>this.GA(C,A)):"undefined"!==typeof HTMLImageElement&&t instanceof
HTMLImageElement&&"function"===typeof t.decode?t.decode().then(()=>d.dm(()=>this.Nk(t,A))):d.dm(()=>this.Nk(t,A));A.premultiplyAlpha=!1;return createImageBitmap(t,{premultiplyAlpha:"premultiply"}).then(C=>d.dm(()=>this.Nk(C,A)))}xP(t,A,y){this.vj();const C=d.F(d.oa.nC,this);C.Cba(t,A,y);return C}paa(t,A){this.vj();A.AW(t,void 0)}Bf(t){t&&(t.Y$(),0<t.ud||(this.vj(),t===this.ln&&(this.na.bindTexture(this.na.TEXTURE_2D,null),this.ln=null),t===this.wp&&(this.na.activeTexture(this.na.TEXTURE1),this.na.bindTexture(this.na.TEXTURE_2D,
null),this.na.activeTexture(this.na.TEXTURE0),this.wp=null),t.uJ()))}k1(t){let A=this.aa,y=this.Y,C=!0;t&&("number"===typeof t.width&&(A=t.width,C=!1),"number"===typeof t.height&&(y=t.height,C=!1));if(0>=A||0>=y)throw Error("invalid size");this.vj();const F=d.F(d.oa.aJ,this);F.zba(A,y,Object.assign({c_:C},t));this.ke=null;this.Vc.eq=null;return F}Lf(t){t!==this.ke&&(t&&t.Gy&&t.BV(this.aa,this.Y),this.Ud().C5(t),this.ke=t,this.wd=0,this.IS())}mB(){return this.ke}g4(t){return t?[t.R(),t.S()]:[this.aa,
this.Y]}EG(t){2>this.qe||this.ke&&0<this.ke.sn?(this.GS(),this.Jt(),this.iw(t,"stretch")):(this.Ud().k5(t,this.ke),this.wd=0)}iw(t,A="stretch"){t=t.lc();if(!t)throw Error("not a texture-backed render target");this.Mf(t);this.U2(A,t)}Iq(t){2>this.qe||(this.Ud().r5(t.qk),this.wd=0)}B1(t){this.Lf(null);this.vj();const A=t.lc();A===this.ln&&(this.na.bindTexture(this.na.TEXTURE_2D,null),this.ln=null);A===this.wp&&(this.na.activeTexture(this.na.TEXTURE1),this.na.bindTexture(this.na.TEXTURE_2D,null),this.na.activeTexture(this.na.TEXTURE0),
this.wp=null);t.uJ()}async B8(t){this.vj();const A=this.ke;if(t){var y=t.R();var C=t.S();t=t.qk}else y=this.R(),C=this.S(),t=null;const F=this.na;F.bindFramebuffer(F.FRAMEBUFFER,t);t=new ImageData(y,C);F.readPixels(0,0,y,C,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array(t.data.buffer));(()=>{F.bindFramebuffer(F.FRAMEBUFFER,null);this.ke=null;this.Vc.eq=null;this.Lf(A)})();return t}hT(t){this.Mj()&&(this.Ud().G5(t),this.wd=0)}KP(t){this.Mj()&&(this.Ud().q5(t),this.wd=0)}Bia(t){const A=new Promise(y=>r.add({resolve:y,
rka:t}));-1===w&&(w=self.requestAnimationFrame(x));return A}T5(){return!!this.PW.desynchronized}o3(){let t=0;for(const A of d.oa.nC.fka())t+=A.aH();return t}Wq(){return 2<=this.qe}Mj(){return!!this.pe}Saa(t){this.bD.add(t)}mga(t){this.bD.delete(t)}Tda(t){this.Sda([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],
["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}}}
{"use strict";let d=null;const b=new Set;let a=!1;self.V4=class{constructor(f){d=f;Object.defineProperties(this,{Uka:{value:{},writable:!1},storage:{value:new self.Z4(d),writable:!1},FBa:{value:d.pf,writable:!1}});d.Xe.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});d.Xe.addEventListener("keyup",c=>b.delete(c.key));d.Mb().addEventListener("window-blur",()=>b.clear());d.pf&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}Wda(f){Object.defineProperties(this.Uka,f)}addEventListener(f,c){d.Xe.addEventListener(f,c)}removeEventListener(f,c){d.Xe.removeEventListener(f,c)}get WZ(){return d.ri()}get mBa(){return d.th()}random(){return d.Bm()}get oh(){return d.jc().wy}get keyboard(){const f=d.nu.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get tO(){const f=d.nu.tO;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get TO(){const f=d.nu.TO;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.Nq("runtime","alert",{message:f+(d.pf?" [via Web Worker]":"")})}}}"use strict";self.K4=class{constructor(){}};{"use strict";const d=self.Ig;self.Z4=class{constructor(b){this.mh=b.EU()}getItem(b){d.If(b);return this.mh.getItem(b)}setItem(b,a){d.If(b);return this.mh.setItem(b,a)}removeItem(b){d.If(b);return this.mh.removeItem(b)}clear(){return this.mh.clear()}keys(){return this.mh.keys()}}}
{"use strict";const d=self.Ig,b=new WeakMap;self.Kw=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.ra,writable:!1}});a.N().dV(this,a)}addEventListener(a,f){d.If(a);d.hl(f);b.get(this).Xe.addEventListener(a,f)}removeEventListener(a,f){d.If(a);d.hl(f);b.get(this).Xe.removeEventListener(a,f)}*b_(){for(const a of b.get(this).Ca())yield a.si()}$N(a){d.Ug(void 0);d.Ug(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var f=
b.get(this),c=f.N();a=c.jc().xa(a);if(!a)throw Error("invalid layer");f=c.GG(f,a,void 0,void 0,void 0);c=c.Ba();c.zf(!0);f.UC();c.zf(!1);return f.si()}}}
{"use strict";const d=self.Ig,b=new WeakMap;self.Q4=class{constructor(a){b.set(this,a);const f=[],c=a.eb,e=c.qh().length;for(let h=0;h<e;++h)f.push(new self.GH(c,h));Object.defineProperties(this,{name:{value:a.ra,writable:!1},index:{value:a.Ua(),writable:!1},XZ:{value:f,writable:!1}})}addEventListener(a,f){d.If(a);d.hl(f);b.get(this).Xe.addEventListener(a,f)}removeEventListener(a,f){d.If(a);d.hl(f);b.get(this).Xe.removeEventListener(a,f)}get width(){return b.get(this).R()}set width(a){b.get(this).Ae(a)}get height(){return b.get(this).S()}set height(a){b.get(this).df(a)}set scale(a){d.Tg(a);
b.get(this).No(a)}get scale(){return b.get(this).vc}set angle(a){d.Tg(a);b.get(this).yc(a)}get angle(){return b.get(this).$()}set scrollX(a){d.Ug(a);b.get(this).Jj(a)}get scrollX(){return b.get(this).Mg()}set scrollY(a){d.Ug(a);b.get(this).Kj(a)}get scrollY(){return b.get(this).Ng()}scrollTo(a,f){d.Ug(a);d.Ug(f);const c=b.get(this);c.Jj(a);c.Kj(f)}}}
{"use strict";const d=self.D,b=self.Ig,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const f=d.F(d.ub);self.P4=class{constructor(c){a.set(this,c);const e=[],h=c.eb,g=h.qh().length;for(let l=0;l<g;++l)e.push(new self.GH(h,l));Object.defineProperties(this,{name:{value:c.ra,writable:!1},index:{value:c.Ua(),
writable:!1},oh:{value:c.Kd().wy,writable:!1},XZ:{value:e,writable:!1}})}get isVisible(){return a.get(this).xe()}set isVisible(c){a.get(this).Gh(c)}get opacity(){return a.get(this).he()}set opacity(c){c=d.ia(+c,0,1);isNaN(c)||a.get(this).Kf(c)}set scale(c){b.Tg(c);a.get(this).VS(c)}get scale(){return a.get(this).vc}set angle(c){b.Tg(c);a.get(this).yc(c)}get angle(){return a.get(this).hf}set uA(c){b.Tg(c);a.get(this).ef(c)}get uA(){return a.get(this).kb()}set backgroundColor(c){b.nI(c);if(3>c.length)throw Error("expected 3 elements");
f.gG(c[0],c[1],c[2]);c=a.get(this);const e=c.Pm;e.hq(f)||(e.Tn(f),c.N().ea())}get backgroundColor(){const c=a.get(this).Pm;return[c.pb,c.Fa,c.nb]}set scrollX(c){b.Ug(c);const e=a.get(this);e.bx(!0);e.Jj(c)}get scrollX(){return a.get(this).Mg()}set scrollY(c){b.Ug(c);const e=a.get(this);e.bx(!0);e.Kj(c)}get scrollY(){return a.get(this).Ng()}scrollTo(c,e){b.Ug(c);b.Ug(e);const h=a.get(this);h.bx(!0);h.Jj(c);h.Kj(e)}}}
{"use strict";const d=self.D,b=self.Ig,a=new WeakMap,f=new WeakMap;function c(h){let g=f.get(h);if(g)return g;g=d.F(d.Event.Mb);f.set(h,g);return g}let e=null;self.Hq=class{constructor(){a.set(this,e);const h={fd:{value:e.N().vk,writable:!1},xO:{value:e.P().xy,writable:!1},uid:{value:e.zb,writable:!1}};e.tda(h);e.lda(h);Object.defineProperties(this,h);e.N().dV(this,e)}static Sj(h){e=h}static Qj(){return e}Jx(){const h=f.get(this);h&&(h.B(),f.delete(this));a.delete(this)}addEventListener(h,g,l){b.If(h);
b.hl(g);c(this).addEventListener(h,g,l)}removeEventListener(h,g,l){b.If(h);b.hl(g);c(this).removeEventListener(h,g,l)}dispatchEvent(h){c(this).dispatchEvent(h)}Ts(){const h=a.get(this);h.N().uj(h)}}}
{"use strict";const d=self.D,b=self.Ig,a=self.Hq,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.F(d.ub);self.Lw=class c extends a{constructor(){super();var e=a.Qj();f.set(this,e);const h=[];var g=e.C();if(e=g.kf){g=g.P().eb.qh().length;for(let l=0;l<g;++l)h.push(new self.GH(e,l))}Object.defineProperties(this,
{XZ:{value:h,writable:!1}})}get oh(){return f.get(this).C().Kd().wy}get Je(){return f.get(this).C().xa().hja}get x(){return f.get(this).C().K()}set x(e){e=+e;const h=f.get(this).C();isNaN(e)||h.K()===e||(h.og(e),h.W())}get y(){return f.get(this).C().L()}set y(e){e=+e;const h=f.get(this).C();isNaN(e)||h.L()===e||(h.pg(e),h.W())}get uA(){return f.get(this).C().kb()}set uA(e){e=+e;const h=f.get(this),g=h.C();isNaN(e)||g.kb()===e||(g.ef(e),h.N().ea())}get width(){return f.get(this).C().R()}set width(e){e=
+e;const h=f.get(this).C();isNaN(e)||h.R()===e||(h.Ae(e),h.W())}get height(){return f.get(this).C().S()}set height(e){e=+e;const h=f.get(this).C();isNaN(e)||h.S()===e||(h.df(e),h.W())}get angle(){return f.get(this).C().$()}set angle(e){e=d.Pc(+e);const h=f.get(this).C();isNaN(e)||h.$()===e||(h.yc(e),h.W())}iO(){f.get(this).C().Kc().gma()}get isVisible(){return f.get(this).C().xe()}set isVisible(e){e=!!e;const h=f.get(this),g=h.C();g.xe()!==e&&(g.Gh(e),h.N().ea())}get opacity(){return f.get(this).C().he()}set opacity(e){e=
d.ia(+e,0,1);const h=f.get(this),g=h.C();isNaN(e)||g.he()===e||(g.Kf(e),h.N().ea())}get zIndex(){return f.get(this).C().$k()}Cg(e,h){b.Ug(e);b.Ug(h);return f.get(this).C().hw(+e,+h)}getParent(){const e=f.get(this).Qa();return e?e.si():null}*jA(){for(const e of f.get(this).jA())yield e.si()}*children(){for(const e of f.get(this).children())yield e.si()}*aq(){for(const e of f.get(this).aq())yield e.si()}removeChild(e){b.oI(e,c);const h=f.get(this);e=f.get(e);h.gl(e)}}}
{"use strict";const d=new WeakMap;self.vra=class extends self.Lw{constructor(){super();d.set(this,self.Hq.Qj())}focus(){d.get(this).ya.RP()}blur(){d.get(this).ya.gP()}}}
{"use strict";const d=self.D,b=self.Ig,a=new WeakMap,f=new WeakMap;function c(h){let g=f.get(h);if(g)return g;g=d.F(d.Event.Mb);f.set(h,g);return g}let e=null;self.Jw=class{constructor(){a.set(this,e);const h={fd:{value:e.N().vk,writable:!1},behavior:{value:e.fg().F3(),writable:!1}};Object.defineProperties(this,h)}static Sj(h){e=h}static Qj(){return e}get instance(){return a.get(this).H.si()}Jx(){const h=f.get(this);h&&(h.B(),f.delete(this));a.delete(this)}addEventListener(h,g,l){b.If(h);b.hl(g);
c(this).addEventListener(h,g,l)}removeEventListener(h,g,l){b.If(h);b.hl(g);c(this).removeEventListener(h,g,l)}dispatchEvent(h){c(this).dispatchEvent(h)}}}{"use strict";const d=new WeakMap;self.OQ=class{constructor(b){d.set(this,b);Object.defineProperties(this,{fd:{value:b.N().vk,writable:!1}})}}}
{"use strict";const d=self.D,b=self.Ig,a=new WeakMap;self.GH=class{constructor(f,c){a.set(this,f);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).qh()[this.index].ra}getParameter(f){b.Tg(f);f=Math.floor(+f);const c=a.get(this).rh(this.index);if(0>f||f>=c.length)throw new RangeError("invalid effect parameter index");f=c[f];return f instanceof d.ub?[f.pb,f.Fa,f.nb]:f}}}
{"use strict";const d=self.D,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.o0=class extends d.za{constructor(f,c){super();var e=c.exportType;this.j=f;this.LE=new Map;this.bv=new Map;this.Aja=new Map;this.gE="cordova"===e;this.bM=!!c.isiOSCordova;this.Hy=!!c.isFileProtocol;this.Wja=c.supportedAudioFormats||{};this.JK=
new Map;this.MY=!1;this.LX=this.tX=this.uY="";this.zD="html5"===e||"scirra-arcade"===e||"instant-games"===e?"remote":"local";this.zK=[];this.IK=new Map;this.PN=[];this.JE=[];this.FX=!1;this.CE=this.HK=this.Nz=0;this.AL=!1;this.zja=d.F(d.A8,()=>this.iU(),50);this.YM=new d.eI(Math.max(d.hardwareConcurrency,8));if(f=c.previewImageBlobs){(e=c.previewProjectFileBlobs)&&Object.assign(f,e);(e=c.projectData)&&(f["data.json"]=e);for(const [h,g]of Object.entries(f))this.LE.set(h.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [h,
g]of Object.entries(c))this.Aja.set(h,g);new self.K4(this)}B(){this.LE.clear();for(const f of this.bv.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.bv.clear();for(const f of this.zK)f.B();d.I(this.zK);this.IK.clear();d.I(this.JE);this.j=null}N(){return this.j}Gha(f){this.uY=f}qha(f){this.tX=f}wha(f){this.LX=f}CC(f){return this.LE.has(f.toLowerCase())}zC(f){return this.LE.get(f.toLowerCase())||null}nH(f){if(!this.CC(f))return f;f=f.toLowerCase();var c=this.bv.get(f);c||(c=this.zC(f),
c=URL.createObjectURL(c),this.bv.set(f,c));return c}jm(f,c){c=c||this.zD;const e=this.zC(f);if(e)return Promise.resolve(e);if(d.UH(f)){const h=f.toLowerCase();return this.gE&&this.Hy?this.wP(h):"local"===c?this.YM.Ec(()=>d.jm(h)):d.jm(h)}return d.jm(f)}lw(f){const c=this.zC(f);if(c)return d.t0(c);if(d.UH(f)){const e=f.toLowerCase();return this.gE&&this.Hy?this.vP(e):"local"===this.zD?this.YM.Ec(()=>d.lw(e)):d.lw(e)}return d.lw(f)}mw(f){const c=this.zC(f);if(c)return d.fP(c);if(d.UH(f)){const e=f.toLowerCase();
return this.gE&&this.Hy?this.d1(e):"local"===this.zD?this.YM.Ec(()=>d.mw(e)):d.mw(e)}return d.mw(f)}async PP(f){f=await this.mw(f);return JSON.parse(f)}lJ(f,c){return this.j.Nq("runtime","cordova-fetch-local-file",{filename:f,as:c})}d1(f){return this.lJ(f,"text")}async wP(f){const c=await this.lJ(f,"buffer");f?(f=f.split("."),f=2>f.length?"":a.get(f[f.length-1].toLowerCase())||""):f="";return new Blob([c],{type:f})}async c1(f){f=f.toLowerCase();var c=this.bv.get(f);if(c)return c;c=await this.wP(f);
c=URL.createObjectURL(c);this.bv.set(f,c);return c}vP(f){return this.lJ(f,"buffer")}lQ(f){return this.CC(f)?this.nH(f):this.uY+f.toLowerCase()}kB(f,c=""){if(d.JH(f)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.CC(f)?Promise.resolve(this.nH(f)):this.gE&&this.Hy?this.c1(c+f):Promise.resolve(c+f.toLowerCase())}NB(f){if(f.gA&&!b.has(f.gA))throw Error("invalid load policy");let c=this.IK.get(f.url);if(c)return c;c=d.F(d.PQ,this,{url:f.url,size:f.size||
0,gA:f.gA||this.zD});this.zK.push(c);this.IK.set(c.hj,c);this.FX||(this.Nz+=c.no(),this.JE.push(c.mR().then(()=>this.BT(c.no()))));return c}async uT(){try{await Promise.all(this.JE),this.CE=1}catch(f){console.error("Error loading: ",f),this.AL=!0,this.iU()}}M9(){this.FX=!0}BT(f){this.HK+=f;this.zja.y0()}iU(){const f=d.F(d.Event,"loadingprogress");this.CE=d.ia(this.HK/this.Nz,0,1);f.progress=this.CE;this.j.Mb().dispatchEvent(f)}Vha(f){d.fe(this.PN,f);this.PN.length&&this.JE.push(this.Rea())}Rea(){if("undefined"===
typeof FontFace)return Promise.resolve();const f=[];for(const [c,e,h]of this.PN)this.Nz+=h,f.push(this.Qea(c,e).then(()=>this.BT(h)));return Promise.all(f)}async Qea(f,c){try{const e=await this.kB(c,this.tX),h=new FontFace(f,`url('${e}')`);this.j.pf?self.fonts.add(h):document.fonts.add(h);await h.load()}catch(e){console.warn(`[C3 runtime] Failed to load web font '${f}': `,e)}}SQ(f){return!!this.Wja[f]}eha(f,c){this.MY=!!c;for(const [e,h,g]of f)this.JK.set(e,{fileName:e,Lka:h.map(l=>({type:l[0],XAa:l[1],
ZZ:e+l[1],fileSize:l[2]})),fla:g})}rQ(f){f=this.JK.get(f.toLowerCase());if(!f)return null;let c=null;for(const e of f.Lka)if(c||"audio/webm; codecs=opus"!==e.type||(c=e),this.SQ(e.type))return e;return c}uh(f){return(f=this.rQ(f))?{url:this.lQ(f.ZZ),type:f.type}:null}b3(){if(this.MY){const f=[];for(const c of this.JK.values()){if(c.fla)continue;const e=this.rQ(c.fileName);e&&f.push({Fla:c.fileName,url:this.lQ(e.ZZ),type:e.type,fileSize:e.fileSize})}return f}return[]}async pR(f){f=await this.kB(f);
return await this.j.Nq("runtime","add-stylesheet",{url:f})}}}
{"use strict";const d=self.D;d.n0=class extends d.za{constructor(b,a){super();this.Kb=b;this.j=b.N();this.hj=a.url;this.ys=a.size;this.sM=a.gA;this.$x=null;this.VL=!1;this.zp=null}B(){this.$x=this.j=this.Kb=this.zp=null}no(){return this.ys}mR(){return"local"===this.sM||this.$x?(this.VL=!0,Promise.resolve()):this.zp?this.zp:this.zp=this.Kb.jm(this.hj,this.sM).then(b=>{this.VL=!0;this.zp=null;return this.$x=b}).catch(b=>console.error("Error loading resource: ",b))}CB(){return this.VL}WP(){return this.$x?
Promise.resolve(this.$x):this.zp?this.zp:this.Kb.jm(this.hj,this.sM)}}}
{"use strict";const d=self.D,b=new d.eI,a=new Set;d.PQ=class extends d.n0{constructor(f,c){super(f,c);this.Ul=this.Gs=null;this.ud=0;this.yy=this.zy=-1;a.add(this)}B(){this.Ch();if(0!==this.ud)throw Error("released image asset which still has texture references");this.Gs=null;a.delete(this);super.B()}static Gt(){for(const f of a)f.Gs=null,f.Ul=null,f.ud=0}yo(f,c){c=c||{};this.ud++;if(this.Ul)return Promise.resolve(this.Ul);if(this.Gs)return this.Gs;c.bq=this.j.ja.wN;return this.Gs=this.WP().then(e=>
b.Ec(()=>f.GA(e,c).then(h=>{this.Gs=null;if(0===this.ud)return f.Bf(h),null;this.Ul=h;this.zy=h.R();this.yy=h.S();return this.Ul}))).catch(e=>{console.error("Failed to load texture: ",e);throw e;})}Ch(){if(0>=this.ud)throw Error("texture released too many times");this.ud--;0===this.ud&&this.Ul&&(this.Ul.kc().Bf(this.Ul),this.Ul=null)}lc(){return this.Ul}R(){return this.zy}S(){return this.yy}async F6(){const f=await this.WP();return d.qc.ImageBitmapOptions?await createImageBitmap(f,{premultiplyAlpha:"none"}):
d.qc.ImageBitmap?await createImageBitmap(f):await d.eP(f)}}}
{"use strict";const d=self.D;function b(a,f){return a.C().Yl-f.C().Yl}d.L8=class extends d.za{constructor(a,f,c){super();this.fa=f;this.Z=c;this.M=[];this.My=!0;this.Bk=new Set;this.Dy=!1}B(){d.I(this.M);this.Bk.clear()}hd(){d.I(this.M);this.My=!0;this.Bk.clear();this.Dy=!1}r9(){this.My=!1}qo(){if(!this.M.length)return!0;if(this.M.length>this.Bk.size)return!1;this.EJ();return!0}IH(a){this.Bk.has(a)?(this.Bk.delete(a),0===this.Bk.size&&(this.Dy=!1)):(this.M.push(a),this.My=1===this.M.length)}xi(a){this.Bk.add(a);
this.Dy=!0;50<=this.Bk.size&&this.EJ()}EJ(){this.Dy&&(this.M.length===this.Bk.size?this.hd():(d.ji(this.M,this.Bk),this.Bk.clear(),this.Dy=!1))}Sca(){this.My||(this.M.sort(b),this.My=!0)}LG(a){this.EJ();this.Sca();this.M.length&&a.push(this.M)}}}
{"use strict";const d=self.D;d.M8=class extends d.za{constructor(b,a){super();this.VK=b;this.UK=a;this.ck=d.F(d.Qw)}B(){this.ck.B();this.ck=null}ho(b,a,f){let c=this.ck.ma(b,a);return c?c:f?(c=d.F(d.L8,this,b,a),this.ck.Set(b,a,c),c):null}Nj(b){return Math.floor(b/this.VK)}Oj(b){return Math.floor(b/this.UK)}Fm(b,a,f){if(a)for(let c=a.X,e=a.ca;c<=e;++c)for(let h=a.U,g=a.ba;h<=g;++h){if(f&&f.Cg(c,h))continue;const l=this.ho(c,h,!1);l&&(l.xi(b),l.qo()&&this.ck.sq(c,h))}if(f)for(let c=f.X,e=f.ca;c<=e;++c)for(let h=
f.U,g=f.ba;h<=g;++h)a&&a.Cg(c,h)||this.ho(c,h,!0).IH(b)}VB(b,a){let f=this.Nj(b.X);const c=this.Oj(b.U),e=this.Nj(b.ca);for(b=this.Oj(b.ba);f<=e;++f)for(let h=c;h<=b;++h){const g=this.ho(f,h,!1);g&&g.LG(a)}}L6(b){let a=b.X;const f=b.U,c=b.ca;for(b=b.ba;a<=c;++a)for(let e=f;e<=b;++e){const h=this.ho(a,e,!1);h&&h.r9()}}}}
{"use strict";const d=self.D,b=new d.Rect,a=new d.Ad,f=[],c=new d.Rect,e=new d.Rect,h=self.Vn,g=h.mG,l=h.$v,n=h.Us;n.create();const p=g.create(),q=l.create(),r=g.create(),w=g.create(),x=g.create(),u=d.F(d.qx);function t(y,C){return y.C().Yl-C.C().Yl}function A(y,C){return y.C().kb()-C.C().kb()}d.WH=class extends d.za{constructor(y,C,F){super();this.mn=y;this.j=y.N();this.ra=F[0];this.hb=C;this.jb=F[2];this.zE=!!F[3];this.Pm=d.F(d.ub);this.Pm.mq(F[4].map(H=>H/255));this.tp=!!F[5];this.Vf=F[6];this.Wf=
F[7];this.Nb=d.F(d.ub,1,1,1,F[8]);this.$E=d.F(d.ub);this.QL=F[9];this.WY=F[17];this.Os=F[10];this.Fk=F[11];this.bp=F[12];this.gp=null;this.vc=1;this.Hd=F[16];this.bj=this.aj=this.hf=0;this.Zm=!1;this.se=d.F(d.Rect);this.FZ=d.F(d.Rect);this.kz=n.create();this.ZL=!0;this.yY=n.create();this.WL=!0;this.EZ=d.F(d.oa.raa);this.yE=!0;this.oZ=[];this.Dl=[];this.xD=[];this.QX=new Map;this.M=[];this.qr=this.TN=!1;this.eb=d.F(d.hm,this,F[15]);this.rv=null;this.fM=[];this.rE=!1;this.wja=d.F(d.Rect,0,0,-1,-1);
this.Xia=d.F(d.Rect,0,0,-1,-1);this.hja=new self.P4(this);this.IW();this.Os&&(this.rv=d.F(d.M8,this.j.Zh,this.j.Yh));for(const H of F[14])y=this.j.jg(H[1]),this.mn.zT(y),y.wu||y.HS(H),this.Dl.push(H),this.QX.set(H[2],H);d.fe(this.oZ,this.Dl)}static fb(y,C,F){return d.F(d.WH,y,C,F)}B(){this.j=this.mn=null}I3(y){return this.QX.get(y)}h1(y){const C=this.mn.Sr;let F=0;const H=this.Dl;for(let M=0,P=H.length;M<P;++M){var J=H[M];const S=this.j.jg(J[1]);let T=!0;if(!S.DH()||C)J=this.j.tj(J,this,!0),y.push(J),
S.Ah()&&(T=!1,this.xD.push(J.zb));T&&(H[F]=H[M],++F)}d.Ke(H,F);this.j.Me();this.Hh()}Di(y,C){const F=y.C();if(F.xa()!==this)throw Error("instance added to wrong layer");this.M.push(y);0!==F.kb()&&(this.qr=!0);C&&this.Os&&y.C().W();this.Hh()}Vea(y){this.M.includes(y)||(this.M.push(y),0!==y.C().kb()&&(this.qr=!0),this.Hh())}Rfa(y){const C=y.C();if(C.xa()!==this)throw Error("instance added to wrong layer");this.M.unshift(y);0!==C.kb()&&(this.qr=!0);this.Hh()}Uo(y,C){const F=this.M.indexOf(y);0>F||(C&&
this.Os&&y.C().yV(),this.M.splice(F,1),this.Hh(),this.iV())}OV(){this.qr=!0}iV(){0===this.M.length&&(this.qr=!1)}mK(y){if(y){y=new Set;for(var C of this.M){var F=C.C().Yl;0<=F&&y.add(F)}C=-1;for(const H of this.M)if(F=H.C(),!(0<=F.Yl)){for(++C;y.has(C);)++C;F.QC(C)}}this.M.sort(t)}Rca(){for(const y of this.M)y.P().Ah()||this.j.uj(y);this.j.Me();d.I(this.M);this.qr=!1;this.Hh()}Vw(y,C,F,H,J){const M=this.j.Ba(),P=this.j.Cd,S=y.lb,T=[];for(const ea of this.Dl){var V=ea[0];if(C.Cg(V[0],V[1])){V=P[ea[1]];
if(V!==y)if(S){if(!y.OP(V))continue}else continue;V=this;var ba=this.j.$a();this.Kd()!==ba&&((V=ba.jQ(this.ra))||(V=ba.Bw(this.Ua())));ba=this.j.tj(ea,V,!1,void 0,void 0,!1,J);V.RI(ba);V=ba.C();V.Ld(F,H);V.W();M.zf(!0);ba.UC();M.zf(!1);T.push(ba)}}return T}Kd(){return this.mn}Ua(){return this.hb}N(){return this.j}km(){return this.j.km()}d$(){this.rE=!1}xe(){return this.zE}Gh(y){y=!!y;this.zE!==y&&(this.zE=y,this.j.ea())}bx(y){y=!!y;if(this.Zm!==y){if(this.Zm=y)y=this.Kd(),this.aj=y.Mg(),this.bj=y.Ng();
this.ql();this.j.ea()}}Jj(y){var C=this.Kd();const F=C.xQ();C=C.yQ();y>C&&(y=C);y<F&&(y=F);this.aj!==y&&(this.aj=y,this.Zm&&(this.ql(),this.j.ea()))}Kj(y){var C=this.Kd();const F=C.zQ();C=C.wQ();y>C&&(y=C);y<F&&(y=F);this.bj!==y&&(this.bj=y,this.Zm&&(this.ql(),this.j.ea()))}Mg(){return this.Zm?this.aj:this.Kd().Mg()}Ng(){return this.Zm?this.bj:this.Kd().Ng()}HJ(){if(this.WY){const y=this.Kd();return[y.Gv,y.Hv]}return[.5,.5]}JQ(y,C){var F=this.FZ;if(0===y)C.Na(F);else{let P=F.mj(),S=F.nj();var H=this.V2(y);
const T=F.width()/H;F=F.height()/H;const [V,ba]=this.HJ();if(.5!==V||.5!==ba){const ea=this.VA();var J=this.j,M=100/ea;H=(V-.5)*J.zg/M;J=(ba-.5)*J.yg/M;M=this.$();0!==M&&(u.set(H,J),u.rotate(M),H=u.fa,J=u.Z);y=d.lG(ea,0,y);P+=d.Qc(H,0,y);S+=d.Qc(J,0,y)}C.set(P-T/2,S-F/2,P+T/2,S+F/2)}}he(){return this.Nb.ib}Kf(y){y=d.ia(y,0,1);this.Nb.ib!==y&&(this.Nb.li(y),this.IW(),this.j.ea())}IW(){this.$E.Na(this.Nb);this.$E.bG()}qH(){return this.$E}oo(){return this.Nb.aA(1,1,1,1)}e$(y){this.Fk!==y&&(this.Fk=y,
this.ql(),this.j.ea())}a$(y,C){if(this.Vf!==y||this.Wf!==C)if(this.Vf=y,this.Wf=C,this.ql(),this.j.ea(),1!==this.Vf||1!==this.Wf)for(const F of this.M)F.P().eK(!0)}ef(y){this.Hd!==y&&(this.Hd=y,this.j.ea())}kb(){return this.Hd}yc(y){y=d.Pc(y);this.hf!==y&&(this.hf=y,this.ql(),this.j.ea())}$(){return d.Pc(this.mn.$()+this.hf)}C4(){return 0<this.M.length}t$(y){y=!!y;this.tp!==y&&(this.tp=y,this.j.ea())}H9(y){y=!!y;this.QL!==y&&(this.QL=y,this.j.ea())}Jf(y){this.bp!==y&&(this.bp=y,this.j.ea())}xj(){return this.bp}k6(y){return this===
y||this.Vf===y.Vf&&this.Wf===y.Wf&&this.vc===y.vc&&this.Fk===y.Fk&&this.hf===y.hf&&this.Mg()===y.Mg()&&this.Ng()===y.Ng()}ega(y){0!==y.size&&0<d.ji(this.M,y)&&(this.iV(),this.Hh())}Hh(){this.rE=this.TN=!1}XC(){if(!this.TN){this.M.sort(A);if(this.Os)for(let y=0,C=this.M.length;y<C;++y){const F=this.M[y].C();F.QC(y);this.rv.L6(F.oz)}else for(let y=0,C=this.M.length;y<C;++y)this.M[y].C().QC(y);this.TN=!0}}Q6(y,C,F){var H=y.C();C=C.C();if(H.xa()!==this||C.xa()!==this)throw Error("can't arrange Z order unless both objects on this layer");
H=H.$k();C=C.$k();if(H===C+(F?1:-1))return!1;d.nka(this.M,H);H<C&&C--;F&&C++;C===this.M.length?this.M.push(y):this.M.splice(C,0,y);this.Hh();return!0}dfa(y,C){const F=[];let H=0,J=0,M=y.length,P=C.length;for(;H<M&&J<P;){const S=y[H],T=C[J];S.C().Yl<T.C().Yl?(F.push(S),++H):(F.push(T),++J)}for(;H<M;++H)F.push(y[H]);for(;J<P;++J)F.push(C[J]);return F}cfa(y){const C=[],F=y.length;for(let H=0;H<F-1;H+=2)C.push(this.dfa(y[H],y[H+1]));1===F%2&&C.push(y[F-1]);return C}bfa(y){for(;1<y.length;)y=this.cfa(y);
return y[0]}Cda(){this.XC();d.I(f);this.rv.VB(this.se,f);return f.length?1===f.length?f[0]:this.bfa(f):[]}pea(){return!this.mC()&&!this.tp}dT(){return this.xe()&&0<this.he()&&(this.C4()||!this.tp)}mC(){return this.QL||!this.oo()||0!==this.xj()||this.eb.Gw()}mB(){return this.gp}qba(y){if(0===y.length)return!0;if(2<=y.length)return!1;y=y[0].Db;return!y.Ao()&&!y.Sz&&!y.$K&&this.oo()}V2(y){const C=this.VA();return C/(C-y)}VA(){return 100/this.Qk()}ql(){this.yE=this.WL=!0}AC(y){this.WL&&(this.oba(y,this.yY),
this.WL=!1);return this.yY}oba(y,C){const F=this.j,H=F.ko();var J=F.LM,M=F.MM;J=(this.Mg()-J)*this.Vf+J;var P=(this.Ng()-M)*this.Wf+M;this.j.Fl&&(J=Math.round(J),P=Math.round(P));M=(J+0)*H;J=(P+0)*H;P=this.VA();const S=this.$(),[T,V]=this.HJ();if(.5!==T||.5!==V){var ba=100/P;let ea=(T-.5)*F.zg*H/ba;ba=(V-.5)*F.yg*H/ba;0!==S&&(u.set(ea,ba),u.rotate(S),ea=u.fa,ba=u.Z);M+=ea;J+=ba}g.set(r,M,J,P);g.set(w,M,J,P-100);0===S?g.set(x,0,1,0):g.set(x,Math.sin(S),Math.cos(S),0);y.kP(C,r,w,x,F.ja.pi());1!==H&&
(g.set(p,H,H,1),n.scale(C,C,p))}Kha(){this.yE=this.ZL=!0}BC(y){this.ZL&&(this.pba(y),this.ZL=!1);return this.kz}pba(y){var C=this.j.ja;const F=C.yj();C=C.pi();const [H,J]=this.HJ();y.yG(this.kz,F/C,H,J)}nW(y){y.hC(this.BC(y));let C;C=this.AC(y);y.Ot(C)}Le(y,C,F){const H=this.j.ja,J=this.mC();var M=null;let P=null;if(this.j.aR()&&y.IB()){const S=H.U3(this);S&&(P=S.aP(),y.hT(P))}J?(M={te:this.j.cd},"low"===H.sk&&(M.width=H.yj(),M.height=H.pi()),M=this.j.rw(M),y.Lf(M),this.tp?y.DA():y.Rc(this.Pm)):(y.Lf(C),
this.tp||F||y.Rc(this.Pm));this.gp=M||C;this.nW(y);y.ZB(this.kb());y.aC(this.N().Nn&&this.WY);this.Qk()>Number.EPSILON&&(this.XC(),this.Os&&0===this.kb()&&!this.qr?this.Hca(y):this.bU(y,this.M));y.ZB(0);y.Jo(0);J&&(y.aC(!1),this.Ica(y,M,C,F));P&&y.KP(P);this.gp=null}bU(y,C){const F=this.se,H=this.gp,J=this.Kd().MQ();let M=null;for(let P=0,S=C.length;P<S;++P){const T=C[P];if(T===M)continue;M=T;const V=T.C();V.xe()&&V.cR(F,J)&&(V.Gw()?this.Fca(T,V,y,H):this.Dca(T,V,y))}}Hca(y){var C=this.rv;const F=
this.Xia,H=this.wja,J=this.se;F.set(C.Nj(J.X),C.Oj(J.U),C.Nj(J.ca),C.Oj(J.ba));this.rE&&F.xd(H)?C=this.fM:(C=this.Cda(),this.rE=!0,H.Na(F));this.bU(y,C);C!==this.fM&&d.fe(this.fM,C)}Dca(y,C,F){C=C.Cs;F.ik!==C&&C.i0();y.Le(F)}Fca(y,C,F,H){this.Eca(y,C,F,H)&&this.nW(F)}Eca(y,C,F,H){const J=C.kf.Vj;if(1===J.length){const M=J[0],P=M.Db;if(!P.Fja&&C.oo()&&!y.Ao())return this.Gca(y,C,M,P,F),!1}y=d.lI(F,this.j,y,H,J,null);F.ZB(this.kb());return y}Gca(y,C,F,H,J){J.Mo(H);J.Jf(C.xj());H.cD&&this.j.ea();let M=
0,P=0;if(H.aka){const [S,T]=y.ZA();M=1/S;P=1/T;(H=y.$A())?e.Na(H):e.set(0,0,0,0)}F=C.kf.rh(F.Ua());J.Jo(C.kb());J.Rt(null,c,e,e,C.Kc(),M,P,this.vc,this.$(),this.j.th(),F);y.Le(J)}Ica(y,C,F,H){const J=this.eb.Vj,M=this.j;if(this.qba(J)){y.Lf(F);if(1===J.length){var P=J[0];F=P.Db;y.Mo(F);e.set(0,0,1,1);P=this.eb.rh(P.Ua());y.Rt(null,c,e,e,this.se,1/M.yj(),1/M.pi(),this.Qk(),this.$(),M.th(),P);F.cD&&M.ea()}else y.Bi();H&&0===this.bp&&this.oo()&&0===J.length?y.EG(C):(y.Jf(this.bp),y.jl(this.$E),y.iw(C));
y.Iq(C);M.Do(C)}else d.lI(y,M,this,F,J)}VS(y){this.vc!==y&&(this.vc=y,this.mn.xA(),this.ql(),this.j.ea())}ko(){return this.Qk()*this.j.ko()}lm(){return this.Qk()*this.j.lm()}Qk(){return(this.vc*this.mn.vc-1)*this.Fk+1}YI(){var y=this.j.LM,C=this.j.MM,F=(this.Mg()-y)*this.Vf+y,H=(this.Ng()-C)*this.Wf+C;y=this.Qk();C=this.j.zg/y;y=this.j.yg/y;F-=C/2;let J=H-y/2;this.j.Fl&&(F=Math.round(F),J=Math.round(J));H=this.FZ;H.set(F,J,F+C,J+y);C=this.$();0!==C&&(b.Na(H),b.offset(-H.mj(),-H.nj()),a.qA(b,C),a.iO(b),
b.offset(H.mj(),H.nj()),H.Na(b));this.JQ(this.Hd,this.se)}fm(y,C,F=0){return this.tba(y,C,F,this.lm())}tba(y,C,F,H){const J=this.j;var M=J.kc();const P=this.Qk();l.set(q,0,0,J.zg/P,J.yg/P);y/=H;C=q[3]-C/H;H=this.BC(M);M=this.AC(M);return d.oa.iaa(y,C,F,M,H,q,p)?[p[0],p[1]]:[NaN,NaN]}oP(y,C){const F=this.vc,H=this.Fk,J=this.Vf,M=this.Wf,P=this.hf;this.Wf=this.Vf=this.Fk=this.vc=1;this.hf=0;this.ql();y=this.fm(y,C);this.vc=F;this.Fk=H;this.Vf=J;this.Wf=M;this.hf=P;this.ql();return y}Mq(y,C){return this.$U(y,
C,0,this.lm())}xo(y,C,F=0){return this.$U(y,C,F,this.ko()*this.km())}$U(y,C,F,H){var J=this.j,M=J.kc();const P=this.Qk();l.set(q,0,0,J.zg/P,J.yg/P);J=this.BC(M);M=this.AC(M);return d.oa.q8(y,C,F,M,J,q,p)?[p[0]*H,(q[3]-p[1])*H]:[NaN,NaN]}Hda(){this.yE&&(this.Aia(),this.yE=!1);return this.EZ}Aia(){var y=this.j.kc();const C=this.BC(y);y=this.AC(y);this.EZ.x0(y,C)}Da(){return{s:this.vc,a:this.hf,vl:this.se.X,vt:this.se.U,vr:this.se.ca,vb:this.se.ba,v:this.xe(),bc:this.Pm.toJSON(),t:this.tp,sx:this.aj,
sy:this.bj,hosp:this.Zm,px:this.Vf,py:this.Wf,c:this.Nb.toJSON(),sr:this.Fk,fx:this.eb.xc(),cg:this.xD}}Ka(y){this.vc=y.s;this.hf=y.a;this.se.set(y.vl,y.vt,y.vr,y.vb);this.zE=!!y.v;this.Pm.mq(y.bc);this.tp=!!y.t;y.hasOwnProperty("sx")&&(this.aj=y.sx);y.hasOwnProperty("sy")&&(this.bj=y.sy);y.hasOwnProperty("hosp")&&(this.Zm=!!y.hosp);this.Vf=y.px;this.Wf=y.py;this.Nb.mq(y.c);this.Fk=y.sr;d.fe(this.xD,y.cg);d.fe(this.Dl,this.oZ);const C=new Set(this.xD);let F=0;for(let H=0,J=this.Dl.length;H<J;++H)C.has(this.Dl[H][2])||
(this.Dl[F]=this.Dl[H],++F);d.Ke(this.Dl,F);this.eb.pc(y.fx);this.mK(!1);this.Hh()}RI(y){y.C();if(!this.M.includes(y))if(y.kg()){const C=[...y.aq()];C.push(y);C.sort((F,H)=>{F=F.C().eN;H=H.C().eN;return F-H});for(const F of C)this.Di(F,!0)}else this.Di(y,!0)}}}
{"use strict";const d=self.D,b=self.Hg,a=d.F(d.Rect),f=d.F(d.Rect),c=d.F(d.Rect),e=d.F(d.ub);d.jR=class extends d.za{constructor(h,g,l){super();this.ob=h;this.j=h.N();this.ra=l[0];this.Nja=l[1];this.Mja=l[2];this.aa=l[1];this.Y=l[2];this.xE=!!l[3];this.Gv=l[4];this.Hv=l[5];this.kX=l[6];this.Gd=null;this.jb=l[7];this.hb=g;this.bj=this.aj=0;this.vc=1;this.hf=0;this.Nu=new Set;this.ei=new Set;this.Iz=new Set;this.qu=[];this.FL=[];this.Cc=[];this.lY=new Map;this.mY=new Map;this.eb=d.F(d.hm,this,l[10]);
this.gp=null;this.qs={};this.Sr=!0;this.wy=new self.Q4(this);this.Xe=d.F(d.Event.Mb);for(const n of l[8])h=d.WH.fb(this,this.Cc.length,n),this.Cc.push(h),this.lY.set(h.ra.toLowerCase(),h),this.mY.set(h.jb,h);for(const n of l[9]){l=this.j.jg(n[1]);if(!l)throw Error("missing nonworld object class");l.wu||l.HS(n);this.FL.push(n);this.zT(l)}}B(){for(const h of this.Cc)h.B();d.I(this.Cc);this.Iz.clear();this.j=this.ob=this.Gd=null}N(){return this.j}Ua(){return this.hb}mQ(){let h=this.Cc[0].Qk();for(let g=
1,l=this.Cc.length;g<l;++g){const n=this.Cc[g];if(0!==n.Vf||0!==n.Wf)h=Math.min(h,n.Qk())}return h}HU(){return.5*this.j.zg/this.mQ()}IU(){return.5*this.j.yg/this.mQ()}xQ(){return this.xE?-Infinity:this.HU()}yQ(){return this.xE?Infinity:this.R()-this.HU()}zQ(){return this.xE?-Infinity:this.IU()}wQ(){return this.xE?Infinity:this.S()-this.IU()}Jj(h){const g=this.xQ(),l=this.yQ();h>l&&(h=l);h<g&&(h=g);this.aj!==h&&(this.aj=h,this.Vo(),this.j.ea())}Mg(){return this.aj}Kj(h){const g=this.zQ(),l=this.wQ();
h>l&&(h=l);h<g&&(h=g);this.bj!==h&&(this.bj=h,this.Vo(),this.j.ea())}Ng(){return this.bj}xA(){this.Jj(this.Mg());this.Kj(this.Ng());for(const h of this.Cc)h.Zm&&(h.Jj(h.Mg()),h.Kj(h.Ng()))}w$(h,g){if(this.Gv!==h||this.Hv!==g)this.Gv=h,this.Hv=g,this.MC(),this.Vo(),this.j.ea()}MQ(){const h=this.Gv,g=this.Hv;return 0>h||1<h||0>g||1<g}No(h){this.vc!==h&&(this.vc=h,this.Vo(),this.xA(),this.j.ea())}yc(h){h=d.Pc(h);this.hf!==h&&(this.hf=h,this.Vo(),this.j.ea())}$(){return this.hf}R(){return this.aa}Ae(h){!isFinite(h)||
1>h||(this.aa=h)}S(){return this.Y}df(h){!isFinite(h)||1>h||(this.Y=h)}xa(h){return"number"===typeof h?this.Bw(h):this.jQ(h.toString())}Bw(h){h=d.ia(Math.floor(h),0,this.Cc.length-1);return this.Cc[h]}jQ(h){return this.lY.get(h.toLowerCase())||null}gB(h){return this.mY.get(h)||null}MC(){for(const h of this.Cc)h.Kha()}Vo(){for(const h of this.Cc)h.ql()}V3(){for(const h of this.Cc)if(h.dT()&&h.pea())return e.Tn(h.Pm),e.li(1),e;e.oq(0,0,0,0);return e}zU(){return[...this.Nu]}zT(h){if(h.Tc())for(const g of h.fk.vn)this.Nu.add(g);
else this.Nu.add(h)}Fda(){return[...this.ei]}JJ(h,g){if(h===this||!g)return Promise.resolve();h&&(d.b1(this.ei,h.ei),h.ei.clear());h=[];for(const l of this.Nu)this.ei.has(l)||(h.push(l.zo(g)),this.ei.add(l));return Promise.all(h)}async sR(h){if(h.lb)throw Error("cannot load textures for family");var g=this.j.kc();!g||g.po()||this.ei.has(h)||(this.ei.add(h),g=h.zo(g),this.Raa(g),await g,h.PB(),this.j.ea())}Raa(h){this.Iz.add(h);h.then(()=>this.Iz.delete(h)).catch(()=>this.Iz.delete(h))}uaa(){return Promise.all([...this.Iz])}O6(h){if(h.lb||
0<h.M.length)throw Error("cannot unload textures");this.j.kc()&&this.ei.has(h)&&(this.ei.delete(h),h.fl())}pia(h,g){if(h!==this&&g)for(const l of this.ei)l.Ah()||h.Nu.has(l)||(l.fl(),this.ei.delete(l))}Ix(){this.ei.clear()}async uW(h){const g=this.j,l=this.ob,n=g.Ba();this.kX&&(this.Gd=n.dQ(this.kX),this.Gd.pK());l.gW(this);this.aa=this.Nja;this.Y=this.Mja;this.aj=g.Zh/2;this.bj=g.Yh/2;this.xA();this.ffa(h);this.Jba();this.Sr||this.Mba();this.LT(this.qu);this.Kba();l.J0();g.Me();const p=this.j.Hia;
await Promise.all(p);d.I(p);if(!g.El){for(const q of this.qu)q.C$();for(const q of this.qu)q.xW()}d.I(this.qu);await Promise.all([...this.Nu].map(q=>q.dI(this.j.kc())));h&&(g.Mb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await g.tq(new d.Event("beforeprojectstart")));await this.tq(new d.Event("beforelayoutstart"));g.El||await g.xb(d.A.Ia.G.RR,null,null);await this.tq(new d.Event("afterlayoutstart"));h&&(g.Mb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await g.tq(new d.Event("afterprojectstart")));
n.Ega(l);await this.uaa();this.MC();this.Vo();this.Sr=!1}ffa(h){for(const l of this.j.Cd)if(!l.lb&&l.rg)for(const n of l.Ca()){const p=n.C();var g=p.xa();g=d.ia(g.Ua(),0,this.Cc.length-1);g=this.Cc[g];p.Lx(g);g.Vea(n)}if(!h)for(const l of this.Cc)l.mK(!1)}Jba(){for(const h of this.Cc)h.h1(this.qu),h.YI()}Mba(){let h=!1;for(const [l,n]of Object.entries(this.qs)){const p=this.j.hB(parseInt(l,10));if(p&&!p.lb&&p.DH()){for(const q of n){var g=null;if(p.rg&&(g=this.gB(q.w.l),!g))continue;g=this.j.tj(p,
g,!1,0,0,!0);g.pc(q);h=!0;this.qu.push(g)}d.I(n)}}for(const l of this.Cc)l.mK(!0),l.Hh();h&&(this.j.Me(),this.j.sV())}LT(h){for(const l of h){if(!l.Tc())continue;const n=l.C(),p=l.yq();for(const q of l.P().fk.vn)if(q!==l.P()){var g=q.Ca();g.length>p?l.Yt(g[p]):(g=n?this.j.tj(q,n.xa(),!0,n.K(),n.L(),!0):this.j.tj(q,null,!0,0,0,!0),this.j.Me(),q.WC(),l.Yt(g),h.push(g))}}}Kba(){for(const h of this.FL)this.j.jg(h[1]).Tc()||this.j.tj(h,null,!0)}Hba(){const h=[],g=this.FL;let l=0;for(let n=0,p=g.length;n<
p;++n){const q=g[n],r=this.j.jg(q[1]);r.Ah()?r.Tc()&&r.fk.y4()||h.push(this.j.tj(q,null,!0)):(g[l]=q,++l)}d.Ke(g,l);this.j.Me();this.LT(h)}Vw(h,g,l,n,p,q){if(l)return l.Vw(h,g,n,p,q);l=[];for(const r of this.Cc)l.push(r.Vw(h,g,n,p,q));return l.flat()}async fia(){const h=this.ob;this.j.El||await this.j.xb(d.A.Ia.G.G7,null,null);h.QS(!0);this.j.Ba().AA();this.Sr||this.Oga();for(const g of this.Cc)g.Rca();for(const g of this.j.Cd)if(!(g.Ah()||g.rg||g.ac().rp||g.lb)){for(const l of g.Ca())this.j.uj(l);
this.j.Me()}h.QS(!1);h.jc()===this&&h.gW(null)}Mga(h){const g=h.P().jb.toString();this.qs.hasOwnProperty(g)||(this.qs[g]=[]);this.qs[g].push(h.xc())}Oga(){for(const h of this.Cc){h.XC();for(const g of h.M){const l=g.P();!l.Ah()&&l.DH()&&this.Mga(g)}}}V8(){this.qs={};this.Sr=!0}mB(){return this.gp}mC(){return"low"===this.j.ja.sk||this.j.LN||"low-latency"===this.j.pu||this.eb.Gw()||this.j.kc().IB()&&this.j.Nn}rba(h){return 0===h.length?!0:2<=h.length?!1:!h[0].Db.Ao()}Le(h){var g=this.j.ja;const l=this.mC();
var n=null;l?("low-latency"!==this.j.pu&&(h.Lf(null),h.DA()),n={te:this.j.cd,oO:this.j.LN||this.eb.Gw()},"low"===g.sk&&(n.width=g.yj(),n.height=g.pi()),n=this.j.rw(n),h.Lf(n)):h.Lf(null);h.Rc(this.V3());this.j.Nn&&h.G0();this.gp=n;g=!0;for(const p of this.Cc)p.YI(),p.dT()&&(p.Le(h,n,g),g=!1);l&&(h.aC(!1),this.Jca(h,n));this.gp=null}Jca(h,g){const l=this.eb.Vj,n=this.j;if(this.rba(l)){h.Lf(null);if(1===l.length){var p=l[0];const q=p.Db;h.Mo(q);f.set(0,0,1,1);c.set(0,0,n.zg,n.yg);p=this.eb.rh(p.Ua());
h.Rt(null,a,f,f,c,1/n.yj(),1/n.pi(),this.vc,this.$(),n.th(),p);q.cD&&n.ea()}else h.Bi();0===l.length?h.EG(g):(h.tI(),h.Jt(),h.iw(g));h.Iq(g);n.Do(g)}else d.lI(h,n,this,null,l)}Da(){const h={sx:this.Mg(),sy:this.Ng(),s:this.vc,a:this.$(),w:this.R(),h:this.S(),vpX:this.Gv,vpY:this.Hv,fv:this.Sr,persist:this.qs,fx:this.eb.xc(),layers:{}};for(const g of this.Cc)h.layers[g.jb.toString()]=g.Da();return h}Ka(h){this.aj=h.sx;this.bj=h.sy;this.vc=h.s;this.hf=h.a;this.aa=h.w;this.Y=h.h;h.hasOwnProperty("vpX")&&
(this.Gv=h.vpX);h.hasOwnProperty("vpY")&&(this.Hv=h.vpY);this.Sr=!!h.fv;this.qs=h.persist;this.eb.pc(h.fx);for(const [g,l]of Object.entries(h.layers))(h=this.gB(parseInt(g,10)))&&h.Ka(l);this.MC();this.Vo()}ni(h){h.oh=this.wy;var g=this.j;(g=g.Ob&&!g.Ba().BB())&&b.UI();this.Xe.dispatchEvent(h);g&&b.tG()}tq(h){h.oh=this.wy;return this.Xe.cO(h)}}}
{"use strict";const d=self.D;d.u6=class extends d.za{constructor(b){super();this.j=b;this.Xj=[];this.nM=new Map;this.oM=new Map;this.$y=null;this.bN=[];this.ND=null;this.jE=0;this.gz=null}B(){this.gz=this.ND=this.$y=this.j=null;d.I(this.Xj);this.nM.clear();this.oM.clear();d.I(this.bN)}fb(b){b=d.F(d.jR,this,this.Xj.length,b);this.Xj.push(b);this.nM.set(b.ra.toLowerCase(),b);this.oM.set(b.jb,b)}N(){return this.j}D9(b){this.ND=b}A3(){if(this.ND)return this.ND;if(this.Xj.length)return this.Xj[0];throw Error("no first layout");
}nt(b){return this.nM.get(b.toLowerCase())||null}mH(b){return this.oM.get(b)||null}W3(b){b=d.ia(Math.floor(b),0,this.Xj.length-1);return this.Xj[b]}Kd(b){return"number"===typeof b?this.W3(b):this.nt(b.toString())}gW(b){this.$y=b}jc(){return this.$y}*oA(){this.$y&&(yield this.$y);this.bN.length&&(yield*this.bN)}QS(b){if(b)this.jE++;else{if(0>=this.jE)throw Error("already unset");this.jE--}}ZQ(){return 0<this.jE}zA(b){this.gz=b}J0(){this.gz=null}At(){return!!this.gz}Sq(){const b=this.jc();b&&b.MC()}Rq(){const b=
this.jc();b&&b.Vo()}}}
{"use strict";const d=self.D;class b{constructor(){this.fd=this.dg=null;this.Uv=this.Vv=this.lj=this.Un=0;this.Sv=new d.Rect;this.Wn=new d.Rect;this.lq=new d.Rect;this.mA=new d.Rect;this.Tv=new d.Rect;this.clearRect=new d.Rect;this.jG=new d.Rect;this.$Z=[null,null];this.iq=0;this.Vs=1;this.Qv=this.Rv=this.Kv=this.Jv=0;this.Xn=this.Gg=this.Ie=this.Je=this.oh=null;this.QF=this.EO=this.aG=!1;this.ZF=null}Rc(){this.ZF=this.Xn=this.Gg=this.Ie=this.Je=this.oh=this.fd=this.dg=null}E$(g){g=g.Db;if(g.Ao())return!0;
if(this.Ie)return g.Sz&&(0!==this.Gg.$()||0>this.Gg.R()||0>this.Gg.S())||0!==this.Jv||0!==this.Kv||!this.Gg.oo()||this.Ie.Ao();if(this.Je)return!this.Je.oo()}D$(g){g=g.Db;return g.Sz||g.$K||this.oh&&"low"===this.fd.ja.sk}mt(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.$Z;if(!l[g]){var n=this.fd;const p=n.ja;n={te:n.cd};"low"===p.sk&&(n.width=p.yj(),n.height=p.pi());l[g]=p.rw(n)}return l[g]}D8(){const g=this.$Z,l=this.fd.ja;g[0]&&(l.Do(g[0]),g[0]=null);g[1]&&(l.Do(g[1]),g[1]=
null)}}const a=[];let f=0;const c=new d.Ad;let e=!1;async function h(g,l,n){l=await d.oa.aJ.q1(l,n);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",l)}d.lI=function(g,l,n,p,q,r){f===a.length&&a.push(new b);var w=a[f++];w.dg=g;w.fd=l;if(n instanceof d.Instance)w.Ie=n,w.Gg=w.Ie.C();else if(n instanceof d.WH)w.Je=n;else if(n instanceof d.jR)w.oh=n;else throw Error("invalid effects object");n=l.ja;w.Xn=p;w.Un=n.yj();w.lj=n.pi();w.Vv=w.Un;w.Uv=w.lj;w.iq=0;w.Vs=1;w.Jv=0;w.Kv=
0;w.Tv.set(0,0,w.Un,w.lj);w.clearRect.set(0,0,w.Un,w.lj);w.QF=!1;w.ZF=r;w.Ie?(p=w.Gg,w.Rv=p.xa().ko(),w.Qv=p.xa().$(),w.Sv.Na(p.Kc())):w.Je?(p=w.Je,w.Rv=p.ko(),w.Qv=p.$(),w.Sv.Na(p.se)):(p=w.oh,w.Rv=p.vc,w.Qv=p.$(),w.Sv.set(0,0,w.Un,w.lj));if(w.Ie){{for(let J=0,M=q.length;J<M;++J)p=q[J].Db,w.Jv+=p.lX,w.Kv+=p.mX;var x=w.Gg;p=x.xa();n=p.$();r=x.Kc();var u=x.Zk();x=x.jk;let [y,C]=p.xo(r.X,r.U,u),[F,H]=p.xo(r.ca,r.ba,u);if(0!==n||0<x){const [J,M]=p.xo(r.ca,r.U,u),[P,S]=p.xo(r.X,r.ba,u);if(0<x){n=u+x;
const [T,V]=p.xo(r.X,r.U,n),[ba,ea]=p.xo(r.ca,r.U,n),[X,na]=p.xo(r.ca,r.ba,n),[ja,xa]=p.xo(r.X,r.ba,n);p=Math.min(y,F,J,P,T,ba,X,ja);F=Math.max(y,F,J,P,T,ba,X,ja);y=p;p=Math.min(C,H,M,S,V,ea,na,xa);H=Math.max(C,H,M,S,V,ea,na,xa);C=p}else p=Math.min(y,F,J,P),F=Math.max(y,F,J,P),y=p,p=Math.min(C,H,M,S),H=Math.max(C,H,M,S),C=p}p=w.Tv;r=w.mA;n=w.lq;u=w.clearRect;x=w.Wn;p.set(y,C,F,H);p.OO(w.lj);r.Na(p);r.Zl(w.Vv,w.Uv);r.$s();p.VF(w.Jv,w.Kv);n.Na(p);n.Zl(w.Vv,w.Uv);n.$s();u.Na(p);u.Tla();u.VF(w.Jv+1,w.Kv+
1);p.ia(0,0,w.Un,w.lj);u.ia(0,0,w.Un,w.lj);x.Na(p);x.Zl(w.Vv,w.Uv);x.$s()}}else w.Wn.set(0,0,w.Un/w.Vv,w.lj/w.Uv),w.lq.Na(w.Wn),w.mA.Na(w.Wn),w.Wn.$s(),w.lq.$s(),w.mA.$s();g.tI();g.Jt();g.ZB(0);g.Jo(0);w.aG=w.E$(q[0]);w.aG&&(p=w.dg,p.Bi(),r=w.mt(w.iq),p.Lf(r),(n=w.ZF)&&n.FO&&n.FO(),p.CG(w.clearRect),w.Ie?(p.jl(w.Gg.qH()),p.Jo(w.Gg.Zk()),w.Ie.Le(p),p.Jo(0)):(n=(w.Je||w.oh).mB(),w.Je?p.jl(w.Je.qH()):p.Jt(),p.iw(n),p.Iq(n),w.fd.ja.Do(n)),w.lq.QZ(),w.iq=1,w.Vs=0,e&&h("Pre-draw",p,r));g.Jt();p=q.length-
1;w.EO=w.D$(q[p]);for(let y=0,C=q.length;y<C;++y){n=q[y];r=n.Db;g.Mo(r);r.cD&&l.ea();if(0!==y||w.aG){g.GS();var t=void 0,A=void 0;r=w;t=n;A=y===p&&!w.EO;n=y;u=r.dg;x=r.fd;0===n&&r.aG&&r.Ie&&r.Tv.OO(r.lj);A?(r.Ie?u.Jf(r.Gg.xj()):r.Je&&u.Jf(r.Je.xj()),A=r.Xn,u.Lf(A)):(A=r.mt(r.iq),u.Lf(A),u.CG(r.clearRect));t=r.Ie?r.Gg.kf.rh(t.Ua()):(r.Je||r.oh).eb.rh(t.Ua());u.Rt(r.Xn,r.lq,r.Wn,r.mA,r.Sv,1/r.Vv,1/r.Uv,r.Rv,r.Qv,x.th(),t);t=r.mt(r.Vs);u.Mf(t.lc());x.ja.JS(u);r.QF=!0;c.nq(r.Tv);u.el(c,r.Wn);r.Ie||u.Iq(t);
e&&h("Bounce "+n,u,A)}else{r=w;A=n;n=r.dg;u=r.fd;x=r.mt(r.iq);n.Lf(x);(t=r.ZF)&&t.FO&&t.FO();n.CG(r.clearRect);if(r.Ie){const [F,H]=r.Ie.ZA();(t=r.Ie.$A())?r.jG.Na(t):r.jG.set(0,0,0,0);A=r.Gg.kf.rh(A.Ua());n.Rt(r.Xn,r.lq,r.jG,r.jG,r.Sv,1/F,1/H,r.Rv,r.Qv,u.th(),A);n.Jo(r.Gg.Zk());r.Ie.Le(n);n.Jo(0);r.lq.QZ();r.Tv.OO(r.lj)}else A=(r.Je||r.oh).eb.rh(A.Ua()),n.Rt(r.Xn,r.lq,r.Wn,r.mA,r.Sv,1/r.Un,1/r.lj,r.Rv,r.Qv,u.th(),A),r=(r.Je||r.oh).mB(),e&&h("Layer target",n,r),n.iw(r),n.Iq(r),u.ja.Do(r);e&&h("First bounce",
n,x)}0===w.iq?(w.iq=1,w.Vs=0):(w.iq=0,w.Vs=1)}w.EO&&(g=w.dg,w.oh?(g.Bi(),g.Lf(w.Xn),l=w.mt(w.Vs),g.EG(l),g.Iq(l)):(l=w.fd.ja,"low"===l.sk?(g.Bi(),l.JS(g,l.yj(),l.pi()),w.QF=!0):g.x9(),w.Ie?g.Jf(w.Gg.xj()):w.Je&&g.Jf(w.Je.xj()),g.Lf(w.Xn),l=w.mt(w.Vs),g.Mf(l.lc()),c.nq(w.Tv),g.el(c,w.Wn),w.Ie||g.Iq(l),e&&h("Post-draw",g,w.Xn)));g=w.QF;w.D8();w.Rc();f--;e=!1;return g}}
{"use strict";const d=self.D;d.aaa=class extends d.za{constructor(b){super();this.j=b;this.Lz=d.F(d.Lh);this.Oja=null;this.Rp=[];this.Mz=new Map;this.un=new Map;this.Sp=new Map;this.ai=[];this.ih=[];this.Ny=this.mu=this.Kr=!1;this.Hn=()=>this.Ffa();this.Fn=()=>this.VJ();this.LK=()=>this.GC();this.mM=()=>this.hfa();this.JL=a=>this.nV(a.instance);this.yK=()=>this.Tj();this.ky=[]}B(){this.I8();this.yK=this.JL=this.mM=this.LK=this.Fn=this.Hn=null;for(const b of this.Rp)b.Jh(),b.B();d.I(this.Rp);this.Rp=
null;this.Lz.B();this.Lz=null;d.I(this.ai);this.ai=null;d.I(this.ih);this.ih=null;this.Mz.clear();this.Mz=null;this.un.clear();this.un=null;this.Sp.clear();this.Sp=null;d.I(this.ky);this.j=this.ky=null}a0(){const b=this.j.Mb();b.addEventListener("pretick",this.Hn);b.addEventListener("tick2",this.Fn);b.addEventListener("beforelayoutchange",this.LK);b.addEventListener("layoutchange",this.mM);b.addEventListener("instancedestroy",this.JL);b.addEventListener("afterload",this.yK)}I8(){const b=this.j.Mb();
b.removeEventListener("pretick",this.Hn);b.removeEventListener("tick2",this.Fn);b.removeEventListener("beforelayoutchange",this.LK);b.removeEventListener("layoutchange",this.mM);b.removeEventListener("instancedestroy",this.JL);b.removeEventListener("afterload",this.yK)}fb(b){this.Lz.Ec(b);b=d.Ne.f1(b,this);this.Ec(b);this.k$(b);this.Sp.set(b.ra,0)}FG(b){b=b.wf.ra;var a=this.Lz.ma(b);a=d.Ne.FG(`${b}:${this.Sp.get(b)}`,a,this);this.RU(b);this.Ec(a);return a}RU(b){this.Sp.set(b,this.Sp.get(b)+1)}kha(){for(const b of this.Rp)b.Pu||
this.RU(b.wf.ra)}xba(){for(const b of this.Sp.keys())this.Sp.set(b,0)}Ec(b){this.Rp.push(b);this.Mz.set(b.ra.toLowerCase(),b)}xi(b){b.Pu||(d.Ss(this.Rp,b),d.Ss(this.ai,b),d.Ss(this.ih,b),this.Mz.delete(b.ra.toLowerCase()),this.J8(b),b.Zi||b.B())}la(b){this.j.la(b,this.Oja,null)}N(){return this.j}$S(b,a){this.un.has(b)||this.un.set(b,new Set);this.un.get(b).add(a)}k$(b){for(const a of b.iB())this.$S(a,b)}J8(b){for(const [a,f]of this.un.entries())f.has(b)&&(f.delete(b),0===f.size&&this.un.delete(a))}k4(b){if(this.un.has(b))return this.un.get(b)}pB(b){return this.Mz.get(b.toLowerCase())||
null}H8(b){d.Ss(this.ih,b);this.Fx()}yS(b){this.ih.includes(b)?(b.gx(!0),b.ix(!1),b.CI(!1)):(b.gx(!1),b.ix(!0),b.CI(!1),this.ai.includes(b)||this.ai.push(b));this.gV()}IA(b){b.gx(!1);b.ix(!1);b.pI();d.Ss(this.ai,b);this.Fx()}FA(b){b.gx(!1);b.ix(!1);b.CI(!0)}Y0(b){this.FA(b);b.pI()}Ffa(){if(!this.N().El&&this.Kr&&!this.mu){var b=!1;for(this.Ny=!0;this.ai.length;){var a=this.ai.pop();a.Vd();this.ih.push(a)}a=this.j.ri();var f=this.j.ae;for(const c of this.ih){if(c.dv)continue;const e=c.Md(a,f);!b&&
e&&(b=!0)}this.Ny=!1;b&&this.N().ea()}}VJ(){if(!this.N().El&&this.Kr&&!this.mu){var b;for(const a of this.ih)a.dv&&(b||(b=new Set),this.hV(a),b.add(a));b&&d.ji(this.ih,b);this.Fx()}}hV(b){b.Zi||b.LQ()&&b.$g&&b.pp&&b.QP()}gV(){this.Kr||(this.Kr=!0)}Fx(){this.ih.length||this.ai.length||this.Ny||(this.Kr=!1)}GC(){for(this.mu=!0;this.ai.length;)this.IA(this.ai.pop());const b=new Set;for(const a of this.ih)a.GC()&&b.add(a);d.ji(this.ih,b);this.Fx();for(const a of this.Rp)a.Lk()}hfa(){this.mu=!1}nV(b){var a=
b.P();if(a=this.k4(a))if(this.j.El)this.ky.push(b);else for(const f of a)f.Pu||(f.Zi?this.xi(f):f.LQ()||(this.hV(f),this.xi(f)))}Tj(){for(const b of this.ky)this.nV(b);d.I(this.ky)}Da(){return{timelinesJson:this.Tga(),scheduledTimelinesJson:this.Rga(),playingTimelinesJson:this.Pga(),hasRuntimeListeners:this.Kr,changingLayout:this.mu,isTickingTimelines:this.Ny}}Ka(b){b&&(this.xba(),this.Nea(b.timelinesJson),this.Kea(b.scheduledTimelinesJson),this.Iea(b.playingTimelinesJson),this.Kr=!b.hasRuntimeListeners,
this.mu=!!b.changingLayout,this.Ny=!!b.isTickingTimelines,this.kha(),this.gV(),this.Fx())}Tga(){return this.Rp.map(b=>b.Da())}Nea(b){for(const a of b){b=this.pB(a.name);if(!b){b=this.Eda(a);if(!b)continue;b=this.pB(b);b=this.FG(b)}b.Ka(a);b.I4()||this.xi(b)}}Eda(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}Rga(){return this.LV(this.ai)}Kea(b){this.cV(b,this.ai)}Pga(){return this.LV(this.ih)}Iea(b){this.cV(b,this.ih)}rea(b,a){for(const f of a)if(f===b.ra)return!0;return!1}LV(b){return b.map(a=>
a.ra)}cV(b,a){var f=new Set;for(const c of a)this.rea(c,b)||f.add(c);d.ji(a,f);f=c=>e=>e.ra===c;for(const c of b)(b=this.pB(c))&&(a.find(f(c))||a.push(b))}}}
{"use strict";const d=self.D;d.Ne=class extends d.za{constructor(b,a,f){super();this.j=f.N();this.Yb=f;this.wf=a;this.ra=b;this.oc=[];for(const c of this.wf.rB().hma())this.oc.push(d.mT.fb(this,c));this.XE=this.iz=null;this.Gp=d.F(d.Dt);this.Gp.Set(0);this.wn=1;this.Dk=0;this.hk=1;this.pp=this.dn=this.pE=!1;this.$g=!0;this.dv=this.Zi=!1;this.ou=-1;this.np=this.Gr=this.Pu=this.$D=!1;this.fY=NaN;this.di=[""];this.qZ="";this.vN=!1}static f1(b,a){const f=a.Lz.ma(b[0]);b=d.F(d.Ne,b[0],f,a);b.Q9();return b}static FG(b,
a,f){return d.F(d.Ne,b,a,f)}static get saa(){return 1}static get xm(){return d.wO(1)}B(){if(!this.Zi){this.Yb.IA(this);this.Yb.Y0(this);for(const b of this.oc)b.B();d.I(this.oc);this.oc=null;this.Gp.B();this.wf=this.Yb=this.j=this.Gp=null;this.Zi=!0;this.XE=this.iz=null}}N(){return this.j}vH(b,a,f){const c=[];for(const e of this.oc){if(b!==e.Ra())continue;const h=e.qm(f);h&&a.constructor===h.Td().constructor&&c.push(h)}return c}I4(){return!!this.oc.length}gC(b){this.ra=b}we(){return this.wf.we()}Cw(){return this.wf.Cw()}zj(){return this.wf.zj()}Dj(){return this.wf.Dj()}kl(b){for(const a of this.oc)a.kl(b)}ot(){return this.wf.ot()}qt(){return this.wf.qt()}lo(){return this.wf.lo()}cx(b){return this.wn=
b}wi(){return this.IsPlaying()?0<this.wn:!0}pQ(){this.iz||(this.iz=new Promise(b=>{this.XE=b}))}pI(){this.iz&&(this.XE(),this.XE=this.iz=null)}St(b){this.di=d.Ne.Dda(b);this.vN=!0}XR(){d.A.md.G.Uq(this);this.Yb.la(d.A.md.G.aua);this.Yb.la(d.A.md.G.bua);this.Yb.la(d.A.md.G.cua);this.Yb.la(d.A.md.G.Sta);d.A.md.G.Uq(null)}HR(){this.ou=this.j.Pl}QP(){this.Gr||(this.Gr=!0,d.A.md.G.Uq(this),this.Yb.la(d.A.md.G.Yta),this.Yb.la(d.A.md.G.Zta),this.Yb.la(d.A.md.G.$ta),this.Yb.la(d.A.md.G.Rta),d.A.md.G.Uq(null))}gx(b){this.pE=
b}WQ(){return this.ou===this.j.Pl}IsPlaying(b=!1){return this.WQ()||this.dn&&!b?!0:this.pE}bu(){return this.IsPlaying(!0)}ix(b){this.dn=b}FS(b){this.$g=b;b=this.Sa();if(0>=b||b>=this.we())this.$g=!0}CI(b){this.dv=b}AI(b){this.$D=b}Q9(){this.Pu=!0}Sa(){return this.Gp.ma()}Ut(b){const a=this.Sa();this.gf(b);this.FS(!1);this.$g||this.AI(!0);if(this.bu()||this.dn||!this.pp)this.bu()||this.dn||this.pp?this.bu()?this.Jh():this.dn&&(this.Yb.IA(this),this.PS()):this.PS();this.DC(b,!1,!0,!0,a)&&this.N().ea();
this.qV()}gf(b){0>b?this.Gp.Set(0):b>=this.we()?this.Gp.Set(this.we()):this.Gp.Set(b)}qV(){d.A.md&&this.constructor===d.Ne&&(d.A.md.G.Uq(this),this.Yb.la(d.A.md.G.Vta),this.Yb.la(d.A.md.G.Wta),this.Yb.la(d.A.md.G.Xta),d.A.md.G.Uq(null))}Play(b=!1){return this.Zi||this.dn?!1:this.bu()&&this.WQ()?this.Xga():this.bu()||!this.$g&&!b&&!this.$D?!1:this.Yga()}Xga(){this.AI(!1);this.Yb.H8(this);this.Yb.yS(this);this.pQ();return!0}Yga(){this.AI(!1);this.Yb.yS(this);this.pQ();return!0}Jh(b=!1){this.Zi||(this.FS(b),
this.Yb.FA(this),this.$g&&this.pI())}hd(b=!0,a=!1){if(!this.Zi)if(!this.bu()&&this.dn)this.Yb.IA(this);else if(!this.$g){this.Jh(!0);this.wi()?this.gf(0):this.gf(this.we());var f=this.Sa();a=a?this.cea(f):this.DC(f,!1,!1,!0);b&&this.qV();a&&b&&this.N().ea()}}sS(){this.hd(!1,!0)}cea(b){this.DC(b,!1,!1,!0,NaN,!1,!0)}GC(){if(this.Zi)return!0;if(this.J4())return!1;this.Yb.FA(this);this.sS();return!0}PS(){this.Vd(!0)}Vd(b){if(!this.dv)if(b){this.np=this.pp=!0;for(const a of this.oc)a.Vd()}else if(this.gx(!0),
this.ix(!1),this.XR(),this.$g){this.ou=-1;this.Dk=0;this.hk=1;this.Gr=this.$g=!1;this.np=this.pp=!0;this.wi()?this.gf(0):this.gf(this.we());for(const a of this.oc)a.Vd()}else{this.np=!0;for(const a of this.oc)a.Wg()}}Md(b,a){if(0!==b||0!==this.fY){this.fY=b;var f=this.Sa();this.gf(f+b*a*this.wn);var c;this.ot()||this.qt()?this.ot()&&!this.qt()?c=this.Sea():!this.ot()&&this.qt()?c=this.Pfa():this.ot()&&this.qt()&&(c=this.Tea()):c=this.$ha();if(c){for(const e of this.oc)e.B9();this.Jh(!0);this.HR();
return!0}return this.DC(this.Sa(),!0,!1,!1,f,!0)}}DC(b,a=!1,f=!1,c=!1,e=NaN,h=!1,g=!1){let l=!1;for(var n of this.oc)n.bw();for(const p of this.oc){n=b;if("number"===typeof e){const q=this.Sa()-p.Og(),r=e-p.Og();0>q&&0<r&&(n=p.Og(),this.gf(n))}n=p.Jb(n,a,f,c,this.np,g);!l&&n&&(l=!0)}for(const p of this.oc)p.aw();this.np&&h&&(this.np=!1);return l}$ha(){if(this.wi()){if(this.Sa()>=this.we())if(this.hk<this.lo())this.hk++,this.gf(0);else return this.gf(this.we()),!0}else if(0>=this.Sa())if(this.hk<this.lo())this.hk++,
this.gf(this.we());else return this.gf(0),!0;return!1}Sea(){this.wi()?this.Sa()>=this.we()&&this.gf(0):0>=this.Sa()&&this.gf(this.we());return!1}Pfa(){if(this.wi()){if(this.Sa()>=this.we())if(this.gf(this.we()),this.cx(-1*this.wn),1===this.Dk)if(this.hk<this.lo())this.hk++,this.Dk=0;else return!0;else 0===this.Dk&&(this.Dk=1)}else if(0>=this.Sa())if(this.gf(0),this.cx(-1*this.wn),1===this.Dk)if(this.hk<this.lo())this.hk++,this.Dk=0;else return!0;else 0===this.Dk&&(this.Dk=1);return!1}Tea(){this.wi()?
this.Sa()>=this.we()&&(this.gf(this.we()),this.cx(-1*this.wn)):0>=this.Sa()&&(this.gf(0),this.cx(-1*this.wn));return!1}Lk(){for(const b of this.oc)b.Lk()}L0(){for(const b of this.oc)b.I0()}m$(b,a){if(a)for(const f of this.oc){if(b){if(f.Ok()!==b)continue}else if(f.B4())continue;f.N9(a);this.Yb.$S(a.P(),this);break}}GQ(b){for(const a of this.oc)if(b===a.Ra())return a;return null}LQ(){return this.oc.some(b=>b.zG())}J4(){return this.oc.some(b=>b.zG()?(b=b.P())?b.Ah():!1:!1)}qm(b){for(const a of this.oc)for(const f of a.bd)if(f.Va.me===
b)return f}iB(){const b=[];for(const a of this.oc)b.push(a.P());return b.filter(a=>a)}Da(){return{tracksJson:this.Vga(),name:this.ra,playheadTime:this.Sa(),playbackRate:this.wn,pingPongState:this.Dk,currentRepeatCount:this.hk,isPlaying:this.pE,isScheduled:this.dn,initialStateSet:this.pp,finishedTriggers:this.Gr,complete:this.$g,released:this.Zi,markedForRemoval:this.dv,completedTick:this.ou,implicitPause:this.$D,isTemplate:this.Pu,tags:this.di.join(" "),stringTags:this.qZ,tagsChanged:this.vN,firstTick:this.np}}Ka(b){b&&
(this.Oea(b.tracksJson),this.ra=b.name,this.Gp.Set(b.playheadTime),this.wn=b.playbackRate,this.Dk=b.pingPongState,this.hk=b.currentRepeatCount,this.pE=!!b.isPlaying,this.dn=!!b.isScheduled,this.pp=!!b.initialStateSet,this.Gr=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.$g=!!b.complete,this.Zi=!!b.released,this.dv=!!b.markedForRemoval,this.ou=b.completedTick,this.$D=!!b.implicitPause,this.Pu=!!b.isTemplate,this.di=b.tags.split(" "),this.qZ=b.stringTags,this.vN=!!b.tagsChanged,
this.np=!!b.firstTick)}Vga(){return this.oc.map(b=>b.Da())}Oea(b){b.forEach((a,f)=>{this.oc[f].Ka(a)});this.oc.filter(a=>a.zG())}static Dda(b){if(d.Jq(b))return b.slice(0);if(d.Fj(b))return b.split(" ")}}}
{"use strict";const d=self.D;d.mT=class extends d.za{constructor(b,a){super();this.Qp=b;this.Hc=a;this.Zf=a.rB();this.tn=this.an=NaN;this.Fb=this.Th=null;this.Tr=0<a.Og();this.Dr=this.Ou=!1;this.Zr=null;this.rd=this.Hc.Bj().rd;this.bd=[];for(const f of this.Hc.Gf().Nla())this.bd.push(d.rb.fb(this,f))}static fb(b,a){return d.F(d.mT,b,a)}B(){this.rd=null;for(const b of this.bd)b.B();d.I(this.bd);this.Zr=this.Hc=this.Fb=this.Th=this.Qp=this.bd=null}Lk(){for(const b of this.bd)b.Lk();this.Fb=this.Th=
null}Lc(){return this.Qp}N(){return this.Qp.N()}T3(){return this.rd?this.rd:this.rd=this.Hc.Bj().rd}qm(b){for(const a of this.bd)if(a.Va.me===b)return a}Et(){this.Th||this.Ra()}vm(){return this.Th?!this.Th.MH():!1}zG(){const b=this.N().ue(this.zw());return b?!b.MH():!1}P(){const b=this.pH();if(-1!==b)return this.N().jg(b)}I0(){this.Th=null;this.an=-1;this.Fb=null;this.tn=-1}B4(){return!!this.Th}Ra(){return this.Th&&this.vm()?this.Th:this.Th=this.N().ue(this.zw())}N9(b){if(this.Th!==b){this.Lk();this.Th=
b;this.tn=b.P().Ua();this.an=b.zb;this.Fb=b.C();for(const h of this.Ola()){const g=h.ama;switch(h.Mla.ve()){case "instance-variable":var a=b.P(),f=a.L3(h.name),c=a.hQ(f);a=a.Aw(f);c===h.name&&a===h.type&&g.naa(f);break;case "behavior":var e=h.WN;f=this.P();c=b.P();a=g.oi(c);e&&a&&(e=e.ra,f.vw(e),c.vw(e),g.kaa(a.jb))}}}}*Ola(){for(const f of this.bd){var b=f.Td(),a=this.P();const c={Mla:f,ama:b};switch(f.ve()){case "world-instance":c.uCa=f.Va.me;break;case "instance-variable":b=b.lt();c.name=a.hQ(b);
c.type=a.Aw(b);break;case "effect":a=b.$G(a.eb);c.SAa=a;break;case "behavior":a=b.oi(a);c.WN=a;break;case "plugin":c.pCa=a.ac()}yield c}}C(){if(this.Fb&&this.vm())return this.Fb;const b=this.Ra();b&&(this.Fb=b.C());return this.Fb}zw(){return this.an?this.an:this.Hc.zw()}zj(){return this.Hc.zj()}Dj(){return this.Hc.Dj()}Ok(){return this.Hc.Ok()}Og(){return this.Hc.Og()}pm(){return this.Hc.pm()}kl(b){for(const a of this.T3())a.kl(b);for(const a of this.bd)a.kl(b)}nm(){return this.Hc.nm()}Em(b){this.Hc.Em(b)}pH(){return isNaN(this.tn)?
this.Hc.pH():this.tn}Uk(){const b=this.Ra();return b&&b.ya.vo()?b.ya.Uk():this.Hc.Uk()}Tk(){const b=this.Ra();return b&&b.ya.vo()?b.ya.Tk():this.Hc.Tk()}Vd(){this.Et();if(this.vm()){for(var b of this.bd)b.Vd();b=this.Lc().wi()?0:this.pm();this.Zr=this.lH(b);this.Dr=this.Ou=!1;this.Jb(b)}}Wg(){this.Et();if(this.vm()){this.Qp.wi();var b=this.Qp.Sa()-this.Og();this.Zr=this.lH(b);for(const a of this.bd)a.Wg()}}B9(){if(!this.Lc().$g&&(this.Et(),this.vm()&&!this.Tr)){const b=this.Qp.Sa();b>=this.Og()+this.pm()?
this.Jb(this.pm(),!0,!1,!0):0>=b&&this.Jb(0,!0,!1,!0)}}bw(){for(const b of this.bd)b.bw()}Jb(b,a=!1,f=!1,c=!1,e=!1,h=!1){this.Et();if(!this.vm()||h&&this.P().Ah())return!1;b-=this.Og();if(0>b)return!1;this.N6(b,a);this.tR(b,a,e);e=h=!1;for(const g of this.bd){const l=g.Jb(b,f,!1,c);h||0===(l&d.Ne.saa)||(h=!0);e||0===(l&d.Ne.xm)||(e=!0)}this.M6(b,a);h&&(b=this.C())&&b.W();return e}aw(){for(const b of this.bd)b.aw()}N6(b,a){if(a&&this.Tr&&!this.Ou){if(this.Lc().wi()){if(0>b)return;for(const f of this.bd)f.Jb(0,
!1,!1,!0)}else{if(b>this.pm())return;for(const f of this.bd)f.Jb(this.pm(),!1,!1,!0)}for(const f of this.bd)f.Vd();this.Ou=!0}}M6(b,a){if(a&&this.Tr&&!this.Dr)if(this.Lc().wi()){if(b>=this.pm()){for(const f of this.bd)f.Jb(this.pm(),!1,!1,!0);this.Dr=!0}}else if(0>=b){for(const f of this.bd)f.Jb(0,!1,!1,!0);this.Dr=!0}}tR(b,a,f){!f&&a&&(b=this.lH(b),b!==this.Zr&&this.QR(b),this.Zr=b)}lH(b){const a=this.Lc();let f=this.Zf.Q3(b,this.Hc);return f?f:a.wi()?this.Zf.z3(b,this.Hc):this.Zf.y3(b,this.Hc)}QR(b){if(d.A.md&&
this.Lc().constructor===d.Ne){var a=this.Lc();d.A.md.G.Uq(a);d.A.md.G.u$(b);b=a.Yb;b.la(d.A.md.G.Qta);b.la(d.A.md.G.QR);d.A.md.G.Uq(null);d.A.md.G.u$(null)}}W_(){return this.Hc.Bj().P_()}z1(b){this.Hc.Bj().y1(b)}JG(b){for(const a of this.bd)a.JG(b)}Qq(){for(const b of this.bd)b.Qq()}rj(){this.Et();if(this.vm())for(const b of this.bd)b.rj()}sj(){this.Et();if(this.vm()){var b=!1;for(const a of this.bd){const f=a.sj();!b&&f&&(b=!0)}b&&(b=this.W_(),b.Ut(this.Lc().Sa()),b.kl("noease"),b.Em(!0),b.St(""))}}Da(){var b=
this.Ra();b=b?b.zb:this.zw();return{propertyTracksJson:this.Qga(),lastKeyframeDataItemJson:this.Nga(),initialStateOfNestedSet:this.Ou,endStateOfNestedSet:this.Dr,instanceUid:b}}Ka(b){b&&(this.Jea(b.propertyTracksJson),this.Hea(b.lastKeyframeDataItemJson),this.Eea(b.instanceUid),this.Ou=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Ou=b.initialStateOfNestedSet),this.Dr=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.Dr=b.endStateOfNestedSet))}Nga(){return this.Hc.Bj().S3(this.Zr)}Qga(){return this.bd.map(b=>
b.Da())}Jea(b){b.forEach((a,f)=>{this.bd[f].Ka(a)})}Eea(b){if(d.ro(b)&&(b=this.N().ue(b))){var a=this.Lc();a.L0();a.m$(this.Hc.Ok(),b)}}Hea(b){this.Zr=this.Hc.Bj().R3(b)}}}
{"use strict";const d=self.D;d.rb=class extends d.za{constructor(b,a){super();this.Qd=b;this.Va=a;this.Zd=a.Gf();this.Gk=this.Td();this.td=this.Va.Cj().td}static fb(b,a){return d.F(d.rb,b,a)}B(){this.Qd=null;this.Gk&&(this.Gk.B(),this.Gk=null);this.Zd=this.Va=this.td=null}Gf(){return this.Zd}Lc(){return this.Qd.Lc()}N(){return this.Qd.N()}Ra(){return this.Qd.Ra()}Td(){if(this.Gk)return this.Gk;let b;switch(this.Va.ve()){case "behavior":b=new d.rb.r0(this);break;case "effect":b=new d.rb.E2(this);break;
case "instance-variable":b=new d.rb.K5(this);break;case "plugin":b=new d.rb.k8(this);break;case "world-instance":b=new d.rb.Caa(this);break;case "value":b=new d.rb.qaa(this)}return this.Gk=b}ve(){return this.Va.ve()}sH(){return this.Gf().cB(this.Va).Oa}nm(){return this.Va.nm()}Em(b){this.Va.Em(b)}zj(){return this.Va.zj()}Dj(){return this.Va.Dj()}kl(b){for(const a of this.sQ())a.kl(b)}sQ(){return this.td?this.td:this.td=this.Va.Cj().td}Lk(){this.Td().Lk()}Df(){return this.Td().Df()}Vd(){this.Td().Vd()}Wg(){this.Td().Wg()}bw(){this.Td().bw()}Jb(b,
a=!1,f=!1,c=!1){var e=this.Va;let h=this.Zd.rH(b,e);h?e=this.Zd.eQ(b,e):(h=this.Zd.fH(b,e),e=this.Zd.eH(b,e));return this.Td().Jb(b,h,e,a,f,c)}aw(){this.Td().aw()}static DQ(b,a){const f=a.Va;a=a.Zd;let c=a.rH(b,f);c||(c=a.fH(b,f));return c}static n3(b,a){const f=a.Va;a=a.Zd;return a.rH(b,f)?a.eQ(b,f):a.eH(b,f)}Y_(){return this.Va.Cj().Q_()}JG(b){this.Va.Cj().A1(b)}Qq(){this.Td().Qq()}rj(){if(this.Td().rj()){const b=this.Zd.cB(this.Va),a=this.Td().Df();b.BS(a)}}sj(){const b=this.Td().sj();b&&this.Z_();
this.Td().EA();return b}Z_(){const b=this.Lc().Sa(),a=this.Td(),f=d.rb.DQ(b,this),c=this.Y_();c.aT(f.Oa);c.Ut(b);c.kl(f.io());c.Em(!0);c.Fh(a.uB());c.BS(a.Df())}Da(){return{sourceAdapterJson:this.Td().Da()}}Ka(b){b&&this.Td().Ka(b.sourceAdapterJson)}}}
{"use strict";const d=self.D.rb;d.Gj=class{constructor(b){this.Ea=b;this.yn=null}B(){this.yn&&(this.yn.B(),this.yn=null);this.Ea=null}qm(){return this.Ea}Lk(){this.yn&&this.yn.Lk()}vh(){return this.yn?this.yn:this.yn=this.Pba()}lt(){}Ua(){return this.lt()}Ew(){}Vd(){this.vh().Vd()}Wg(){this.vh().Wg()}bw(){this.vh().et()}Jb(b,a,f,c,e,h){const g=d.Gj.iQ(this.Ea)(b,a,f,this.Ea);return e?g:this.vh().qq(b,g,a,f,c,h)}aw(){this.vh().dt()}Qq(){var b=this.vh();b.$i=b.Df()}EA(){this.vh().EA()}Df(){return this.vh().Df()}rj(){return this.vh().rj()}sj(){return this.vh().sj()}uB(){return d.Gj.uB(this.Ea)}Pba(){const b=
this.Ea.Va.Oa;switch(this.Ea.sH()){case "combo":case "boolean":case "text":case "string":return new d.Rg.vR(this);case "numeric":case "number":case "angle":return"combo"===b?new d.Rg.vR(this):new d.Rg.V6(this);case "color":case "offsetColor":return new d.Rg.P0(this)}}Da(){return{propertyAdapterJson:this.vh().Da()}}Ka(b){b&&this.vh().Ka(b.propertyAdapterJson)}static uB(b){const a=b.Qd.Lc().Sa(),f=d.DQ(a,b),c=d.n3(a,b);return d.Gj.iQ(b)(a,f,c,b)}static Ab(){let b=(void 0).Dj();"combo"===(void 0).Va.Oa&&
(b="absolute");switch(b){case "relative":return NaN}}static iQ(b){switch(b.sH()){case "numeric":return d.YH.Jb;case "angle":return d.bP.Jb;case "boolean":return d.hP.Jb;case "color":return d.sP.Jb;case "text":return d.kT.Jb}}static o4(b){switch(b.sH()){case "numeric":return d.YH.Gm;case "angle":return d.bP.Gm;case "boolean":return d.hP.Gm;case "color":return d.sP.Gm;case "text":return d.kT.Gm}}}}{"use strict";const d=self.D;class b extends d.rb.Gj{constructor(a){super(a)}}d.rb.Caa=b}
{"use strict";const d=self.D;class b extends d.rb.Gj{constructor(a){super(a);this.Rz=NaN}lt(){return this.Ea.Va.bi[0]}Ua(){return this.Rz?this.Rz:super.Ua()}Ew(){return this.Ea.Qd.Ra()}naa(a){this.Ea.Va.bi[0]!==a&&(this.Rz=a)}Jb(a,f,c,e,h,g){if(this.vh().nP(f.Ab()))return super.Jb(a,f,c,e,h,g)}Da(){return Object.assign(super.Da(),{index:this.Rz})}Ka(a){a&&(super.Ka(a),this.Rz=a.index)}}d.rb.K5=b}
{"use strict";const d=self.D;class b extends d.rb.Gj{constructor(a){super(a);this.jb=NaN}lt(){return this.Ea.Va.bi[1]}Ew(){var a=this.Ea.Va,f=this.jb?this.jb:a.bi[0];a=this.Ea.Qd.Ra();f=a.VP(f);return a.Dd[f].ya}oi(a){return a.TA(this.Ea.Va.bi[2])}kaa(a){this.Ea.Va.bi[0]!==a&&(this.jb=a)}Jb(a,f,c,e,h,g){const l=this.Ea.Qd.Ra();if(this.oi(l.P()))return super.Jb(a,f,c,e,h,g)}Da(){return Object.assign(super.Da(),{sid:this.jb})}Ka(a){a&&(super.Ka(a),this.jb=a.sid)}}d.rb.r0=b}
{"use strict";const d=self.D;class b extends d.rb.Gj{constructor(a){super(a)}lt(){return this.Ea.Va.bi[1]}Ew(){const a=this.Ea.Qd.C().kf,f=this.$G(a.eb).Ua();return a.Nw(f)?a.rh(f):null}$G(a){return a.mm(this.Ea.Va.bi[0])}Jb(a,f,c,e,h,g){if(this.hea())return super.Jb(a,f,c,e,h,g)}hea(){const a=this.Ea.Qd.C().kf,f=this.$G(a.eb);if(f)return a.Nw(f.Ua())}}d.rb.E2=b}
{"use strict";const d=self.D;class b extends d.rb.Gj{constructor(a){super(a)}lt(){return this.Ea.Va.bi[0]}Ew(){return this.Ea.Qd.Ra().ya}Jb(a,f,c,e,h,g){var l=this.Ea.Qd;const n=l.P().ac();l=l.Ra().P().ac();if(n===l)return super.Jb(a,f,c,e,h,g)}}d.rb.k8=b}
{"use strict";const d=self.D;class b extends d.rb.Gj{constructor(a){super(a);this.de=0;this.aE=!1}Vd(){const a=this.Ea.Gf();let f=this.Ea.Va;f=a.cB(f);this.de=f.Mc()}Wg(){}Ab(){this.aE||this.Ea.Jb(0);return this.de}Jb(a,f,c){const e=d.rb.YH.Jb;this.de=e(a,f,c,this.Ea);this.aE=!0}Qq(){}EA(){}Df(){return this.de}rj(){return!1}sj(){return!1}Da(){return{value:this.de,init:this.aE}}Ka(a){a&&(this.de=a.value,this.aE=a.hasOwnProperty("init")?a.init:!0)}}d.rb.qaa=b}"use strict";
function Rb(d,b,a){return d.Ea.Lc().wi()?b():a()}function Sb(d,b,a){return"relative"===d.Ea.Dj()?b():a()}function Tb(d,b,a){d.Du?(d.Du=!1,b()):a()}function Ub(d){if(d.zv)return d.zv;d.zv=d.Gk.Ew();return d.zv}function Vb(d,b,a,f,c,e){switch(d.Ea.ve()){case "behavior":return b();case "effect":return a();case "instance-variable":return f();case "plugin":return c();case "world-instance":return e()}}
function Wb(d,b=!1){const a=[];for(const f of d){d=f.Qd.Og();for(const c of f.sQ())b&&0===c.Sa()?a.push({time:d+c.Sa(),value:c.Gi}):b||a.push({time:d+c.Sa(),value:c.Gi})}return a.sort((f,c)=>f.time-c.time)}function Xb(d,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=d)return b[a];return null}
self.D.rb.Rg=class{constructor(d){this.Gk=d;this.Ea=d.qm();this.Fb=this.Ea.Qd.C();this.me=this.Ea.Va.me;this.Du=!1;this.zv=this.$i=null}B(){this.zv=this.$i=this.Fb=this.Ea=this.Gk=null}Lk(){this.zv=this.$i=this.Fb=null}qm(){return this.Ea}C(){return this.Fb?this.Fb:this.Fb=this.Ea.Qd.C()}Vd(){}Wg(){}EA(){this.$i=null}Df(){}rj(){}sj(){}nP(d){return typeof this.Jm()===typeof d}et(){}qq(){}dt(){}Zq(){return Rb(this,()=>{const d=this.Ea.Va;return this.Ea.Gf().cB(d)},()=>{const d=this.Ea.Va;return this.Ea.Gf().zq(d)}).Gi}rC(){const d=
this.Ea.Lc().Sa()-this.Ea.Qd.Og();return Rb(this,()=>{const b=this.Ea.Va;return this.Ea.Gf().fH(d,b)},()=>{const b=this.Ea.Va,a=this.Ea.Gf(),f=a.eH(d,b);return f?f:a.zq(b)}).Gi}vC(){}Ei(){return this.Gk.Ua()}Da(){return{firstAbsoluteUpdate:this.Du,saveState:this.$i}}Ka(d){d&&(this.Du=d.firstAbsoluteUpdate,this.$i=d.saveState)}};
{"use strict";const d=self.D,b=new Map,a=[0,0,0];class f extends d.rb.Rg{constructor(c){super(c)}Vd(){}Wg(){}Df(){const c=this.Ea.ve(),e=Ub(this),h=this.Ei();switch(c){case "behavior":return this.TC(e.ec(h));case "effect":return this.TC(e[h]);case "plugin":return this.TC(e.ec(h));case "world-instance":return this.TC(this.Jm())}}rj(){const c=this.Zq();return!this.KT(c,this.Jm())}sj(){return d.bf(this.$i)?!1:!this.KT(this.$i,this.Jm())}KT(c,e){return c.hq(e)}Zq(){const c=super.Zq();return this.wC(c)}rC(){const c=
super.rC();return this.wC(c)}vC(){}TC(c){return d.so(c,d.ub)?c.toArray().slice(0,3):c.slice(0,3)}wC(c){return d.so(c,d.ub)?c:new d.ub(c[0],c[1],c[2],1)}nP(){return!0}et(){var c=this.Ea.Ra();b.has(c)||b.set(c,new Map);c=b.get(c);const e=this.Ea.ve();c.has(e)||c.set(e,new Map);c=c.get(e);c.has(this.me)||c.set(this.me,{sA:!1,color:new d.ub(0,0,0,1)})}LU(c,e,h){c=b.get(c).get(e).get(h);c.sA=!0;return c.color}qq(c,e){var h=this.Ea.Lc(),g=this.Ea.Qd;c=this.Ea.Ra();var l=this.Ea.Td();const n=this.Ea.ve();
l=h.vH(c,l,this.me);if(1<l.length){if(l=Wb(l,!0),h=h.Sa(),h=Xb(h,l))if(l=h.time-g.Og(),0===l)this.LU(c,n,this.me).HZ(e[0],e[1],e[2]);else{if(0>l)return;h=e[0];g=e[1];e=e[2];l=this.Ea.Jb(l,!1,!0);h=d.ub.KG(h,l[0]);g=d.ub.KG(g,l[1]);e=d.ub.KG(e,l[2]);this.LU(c,n,this.me).HZ(h,g,e)}}else this.sl(e[0],e[1],e[2]);return d.Ne.xm}dt(){const c=this.Ea.Ra();if(b.has(c)){var e=b.get(c),h=this.Ea.ve();if(e.has(h)){var g=e.get(h);if(g.has(this.me)){var l=g.get(this.me),n=l.color;l.sA&&this.sl(n.pb,n.Fa,n.nb);
0===g.size&&e.delete(h);0===e.size&&b.delete(c)}}}}Jm(){const c=this.Ea.ve(),e=Ub(this),h=this.Ei();switch(c){case "behavior":return this.wC(e.ec(h));case "effect":return e[h].clone();case "plugin":return this.wC(e.ec(h));case "world-instance":return this.C().Nb.clone()}}sl(c,e,h){const g=this.Ea.ve(),l=Ub(this),n=this.Ei();switch(g){case "behavior":a[0]=c;a[1]=e;a[2]=h;l.ye(n,a);break;case "effect":l[n].gG(c,e,h);break;case "plugin":a[0]=c;a[1]=e;a[2]=h;l.ye(n,a);break;case "world-instance":this.C().v$(c,
e,h)}}Da(){}Ka(){}}d.rb.Rg.P0=f}
{"use strict";const d=self.D;class b extends d.rb.Rg{constructor(a){super(a)}Vd(){}Wg(){}Df(){return this.Jm()}rj(){return this.Zq()!==this.Df()}sj(){return d.bf(this.$i)?!1:this.$i!==this.Df()}qq(a,f){const c=d.rb.Gj.o4(this.Ea);var e=this.Ea;const h=e.Qd,g=e.ve();var l=e.Lc();const n=h.Ra();e=e.Td();l=l.vH(n,e,this.me);1<l.length&&(l=Wb(l),a=Xb(a+h.Og(),l))&&(f=a.value);if(c(this.Ei(),Ub(this),f,g))switch(this.sl(f),g){case "plugin":return d.Ne.xm}}Jm(){const a=this.Ea.ve(),f=Ub(this),c=this.Ei();
switch(a){case "behavior":return f.ec(c);case "effect":return f[c];case "instance-variable":return f.Ff(c);case "plugin":return f.ec(c)}}sl(a){const f=this.Ea.ve(),c=Ub(this),e=this.Ei();switch(f){case "behavior":c.ye(e,a);break;case "effect":c[e]=a;break;case "instance-variable":c.Ko(e,a);break;case "plugin":c.ye(e,a)}}}d.rb.Rg.vR=b}
{"use strict";const d=self.D,b=new Map,a=(c,e,h,g,l)=>b.set(c,{$la:e,cka:h,Tka:g,round:l});a("offsetX",(c,e)=>c.c7(e),(c,e)=>c.og(e),c=>c.K(),!0);a("offsetY",(c,e)=>c.d7(e),(c,e)=>c.pg(e),c=>c.L(),!0);a("offsetWidth",(c,e)=>c.yR(e),(c,e)=>c.Ae(e),c=>c.R(),!0);a("offsetHeight",(c,e)=>c.xR(e),(c,e)=>c.df(e),c=>c.S(),!0);a("offsetAngle",(c,e)=>c.Y6(e),(c,e)=>c.yc(e),c=>c.$(),!1);a("offsetOpacity",(c,e,h,g)=>{h=c.he()+e;0===g.qd?(1<h?g.qd+=h-1:0>h&&(g.qd+=h),c.Z6(e)):(c=c.he()+e,0<e&&0<g.qd?1<c&&(g.qd+=
c-1):0<e&&0>g.qd?(g.qd+=e,0<g.qd&&(g.qd=0)):0>e&&0<g.qd?(g.qd+=e,0>g.qd&&(g.qd=0)):0>e&&0>g.qd&&0>c&&(g.qd+=c))},(c,e)=>{c.Kf(e)},c=>c.he(),!1);a("offsetOriginX",(c,e)=>c.a7(e),(c,e)=>c.Pt(e),c=>c.Rk(),!1);a("offsetOriginY",(c,e)=>c.b7(e),(c,e)=>c.Qt(e),c=>c.Sk(),!1);a("offsetZElevation",(c,e)=>c.e7(e),(c,e)=>c.ef(e),c=>c.kb(),!0);a("offsetScaleX",(c,e,h)=>{const g=0>c.R()?-1:1;c.yR(h.Uk()*g*e)},(c,e,h)=>{c.Ae(h.Uk()*e)},(c,e)=>{const h=0>c.R()?-1:1;if(c.Cq()){var g=c.Qa(),l=e.Lc().GQ(g.Ra());l?g=
g.R()/l.Uk():(l=g.Ra().ya,g=l.vo()?g.R()/l.Uk():1);return c.R()*h/(e.Uk()*g)}return c.R()*h/e.Uk()},!1);a("offsetScaleY",(c,e,h)=>{const g=0>c.S()?-1:1;c.xR(h.Tk()*g*e)},(c,e,h)=>{c.df(h.Tk()*e)},(c,e)=>{const h=0>c.S()?-1:1;if(c.Bq()){var g=c.Qa(),l=e.Lc().GQ(g.Ra());l?g=g.S()/l.Tk():(l=g.Ra().ya,g=l.vo()?g.S()/l.Tk():1);return c.S()*h/(e.Tk()*g)}return c.S()*h/e.Tk()},!1);class f extends d.rb.Rg{constructor(c){super(c);this.qd=this.yb=0;this.KL=this.ML=this.LL=null;this.$Y=!1;this.Ls=d.so(this.Ea.Lc(),
d.gaa)?new d.rb.Rg.X6(this):new d.rb.Rg.W6(this);c=this.Ea.Va.me;"world-instance"===this.Ea.ve()&&(c=b.get(c),this.LL=c.Tka,this.ML=c.$la,this.KL=c.cka,this.$Y=c.round)}B(){this.KL=this.ML=this.LL=this.Ls=null;super.B()}SS(c){this.yb=c}Vd(){const c=this.Ls.Vd();"number"===typeof c&&(this.yb=c);this.qd=0}Wg(){const c=this.Ls.Wg();"number"===typeof c&&(this.yb=c)}Df(){return this.Jm()}rj(){return this.Zq()!==this.Df()}sj(){return d.bf(this.$i)?!1:this.$i!==this.Df()}et(){this.Ls.et()}qq(c,e,h,g,l,n,
p){return this.Ls.qq(c,e,h,g,l,n,p)}dt(){this.Ls.dt()}Jm(){const c=Ub(this),e=this.Ei(),h=this.Ea.Qd,g=this.C();return Vb(this,()=>c.ec(e),()=>c[e],()=>c.Ff(e),()=>c.ec(e),()=>this.LL(g,h))}sl(c){const e=Ub(this),h=this.Ei(),g=this.Ea.Qd,l=this.C();Vb(this,()=>e.$H(h,c),()=>e[h]+=c,()=>e.O9(h,c),()=>e.$H(h,c),()=>this.ML(l,c,g,this))}rW(c){const e=Ub(this),h=this.Ei(),g=this.Ea.Qd,l=this.C();Vb(this,()=>e.ye(h,c),()=>e[h]=c,()=>e.Ko(h,c),()=>e.ye(h,c),()=>this.KL(l,c,g))}cu(c,e,h,g,l,n){this.Ls.cu(c,
e,h,g,l,n)}Hm(c,e,h){c=(c.toString().split(".")[1]||"").length;const g=this.Jm();this.sl((0===c?this.$Y?Math.round(g):g:d.toFixed(g,c))-g,e,h)}Da(){return Object.assign(super.Da(),{v:this.yb,a:this.qd})}Ka(c){c&&(super.Ka(c),this.yb=c.v,this.qd=c.a)}}d.rb.Rg.V6=f}
{"use strict";const d=self.D,b=new Map;class a{constructor(f){this.rf=f}B(){this.rf=null}Vd(){const f=this.rf,c=this.rf.qm();return Sb(f,()=>Rb(f,()=>0,()=>d.rb.Gj.uB(c)),()=>{})}Wg(){}et(){const f=this.rf,c=this.rf.qm(),e=c.Va.me;Sb(f,()=>{},()=>{var h=c.Ra();b.has(h)||b.set(h,new Map);h=b.get(h);const g=c.ve();h.has(g)||h.set(g,new Map);h=h.get(g);h.has(e)||h.set(e,{sA:!1,value:0})})}KU(f,c,e){f=b.get(f).get(c).get(e);f.sA=!0;return f}qq(f,c,e,h,g,l){const n=this.rf,p=this.rf.qm(),q=p.Va.me;Sb(n,
()=>{const r=n.yb;n.sl(c-r,e,h);l&&this.cu(f,e,h,g,r,c);n.SS(c)},()=>{var r=p.Lc(),w=p.Qd;const x=p.Ra();var u=p.Td();const t=p.ve();u=r.vH(x,u,q);if(1<u.length){if(u=Wb(u,!0),r=r.Sa(),r=Xb(r,u))w=r.time-w.Og(),0===w?this.KU(x,t,q).value+=c:0>w||(w=p.Jb(w,!1,!0),this.KU(x,t,q).value+=c-w)}else n.rW(c)});return Vb(n,()=>{},()=>d.Ne.xm,()=>{},()=>d.Ne.xm,()=>d.Ne.xm)}dt(){const f=this.rf,c=this.rf.qm(),e=c.Va.me;Sb(f,()=>{},()=>{const h=c.Ra();if(b.has(h)){var g=b.get(h),l=c.ve();if(g.has(l)){var n=
g.get(l);if(n.has(e)){var p=n.get(e),q=p.value;p.sA&&f.rW(q);n.delete(e);0===n.size&&g.delete(l);0===g.size&&b.delete(h)}}}})}cu(f,c,e,h,g,l){const n=this.rf;h||(c&&f===c.Sa()?n.Hm(c.Mc(),c,e):e&&f===e.Sa()?n.Hm(e.Mc(),c,e):0===l-g&&n.Hm(c.Mc(),c,e))}}d.rb.Rg.W6=a}
{"use strict";const d=self.D;class b{constructor(a){this.rf=a}B(){this.rf=null}Vd(){const a=this.rf;a.Du=!0;return this.vC(a.Zq())}Wg(){const a=this.rf;if(a.Zq()!==a.rC())return a.Du=!0,this.vC(a.rC())}et(){}qq(a,f,c,e,h,g){const l=this.rf,n=l.yb;Sb(l,()=>{l.sl(f-n,c,e);g&&this.cu(a,c,e,h,n,f)},()=>{Tb(l,()=>{l.sl(n,c,e)},()=>{l.sl(f-n,c,e);g&&this.cu(a,c,e,h,n,f)})});l.SS(f);return Vb(l,()=>{},()=>d.Ne.xm,()=>{},()=>d.Ne.xm,()=>d.Ne.xm)}dt(){}vC(a){return a-this.rf.Df()}cu(a,f,c,e,h,g){const l=this.rf;
e?f&&a===f.Sa()?l.Hm(f.Mc(),f,c):c&&a===c.Sa()?l.Hm(c.Mc(),f,c):c||l.Hm(f.Mc(),f,c):f&&a===f.Sa()?l.Hm(f.Mc(),f,c):c&&a===c.Sa()?l.Hm(c.Mc(),f,c):0===g-h&&l.Hm(f.Mc(),f,c)}}d.rb.Rg.X6=b}
{"use strict";const d=self.D,b=self.jw;d.rb.YH=class{constructor(){}static Gm(a,f,c,e){let h;switch(e){case "behavior":h=f.ec(a);break;case "effect":h=f[a];break;case "instance-variable":h=f.Ff(a);break;case "plugin":h=f.ec(a)}return h===c?!1:!0}static Jb(a,f,c,e){if(!c)return c=e.Va,c=e.Gf().zq(c),c.Mc();var h=e.zj();"default"===h&&(h="continuous");"combo"===e.Va.Oa&&(h="discrete");if("discrete"===h)return f.Mc();if("continuous"===h||"step"===h){"step"===h&&(h=e.Lc().Cw(),0!==h&&(h=1/h,a=Math.floor(a*
h)/h));var g=f.Sa();const l=c.Sa();h=f.Mc();const n=c.Mc();if(h===n)return h;a=d.normalize(a,g,l);const p=f.io();f=f.SG("cubic-bezier");c=c.SG("cubic-bezier");f&&f.Ez&&c&&c.GD?(g=l-g,g=b.Aq(p)(g*a,0,1,g),g=b.Aq("cubicbezier")(g,h,h+f.pN,n+c.jL,n)):g=b.Aq(p)((l-g)*a,h,n-h,l-g);return"integer"===e.Va.Oa?Math.floor(g):g}}}}
{"use strict";const d=self.D;d.rb.bP=class{constructor(){}static Gm(b,a,f,c){let e;switch(c){case "behavior":e=a.ec(b);break;case "effect":e=a[b];break;case "instance-variable":e=a.Ff(b);break;case "plugin":e=a.ec(b)}return e===f?!1:!0}static Jb(b,a,f,c){if(!f)return a=c.Va,a=c.Gf().zq(a),a.Mc();var e=c.zj();"default"===e&&(e="continuous");"combo"===c.Va.Oa&&(e="discrete");if("discrete"===e)return a.Mc();if("continuous"===e||"step"===e){"step"===e&&(c=c.Lc().Cw(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const h=a.Sa(),g=f.Sa();c=a.Mc();f=f.Mc();if(e=a.SG("angle")){const l=e.aN;if(c===f&&0===l)return c;b=d.normalize(b,h,g);a=self.jw.Aq(a.io())(b,0,1,1);switch(e.bL){case "closest":return d.UN(c,f,a,l);case "clockwise":return d.jka(c,f,a,l);case "anti-clockwise":return d.ika(c,f,a,l)}}else{if(c===f)return c;b=d.normalize(b,h,g);a=self.jw.Aq(a.io());return d.UN(c,f,a(b,0,1,1))}}}}}"use strict";
self.D.rb.hP=class{constructor(){}static Gm(d,b,a,f){let c;switch(f){case "behavior":c=b.ec(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Ff(d);break;case "plugin":c=b.ec(d)}return!!c===!!a?!1:!0}static Jb(d,b,a,f){return a?b.Mc()?1:0:(d=f.Va,d=f.Gf().zq(d),d.Mc()?1:0)}};
{"use strict";const d=self.D,b=[0,0,0],a=[0,0,0],f=[0,0,0];d.rb.sP=class{constructor(){}static Gm(c,e,h,g){let l;switch(g){case "behavior":l=e.ec(c);break;case "effect":l=e[c];break;case "instance-variable":l=e.Ff(c);break;case "plugin":l=e.ec(c)}Array.isArray(h)?(b[0]=h[0],b[1]=h[1],b[2]=h[2]):(f.$F(h),b[0]=Math.floor(255*f.pb),b[1]=Math.floor(255*f.Fa),b[2]=Math.floor(255*f.nb));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(f.$F(l),a[0]=Math.floor(255*f.pb),a[1]=Math.floor(255*f.Fa),a[2]=Math.floor(255*
f.nb));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static Jb(c,e,h,g){if(!h)return e=g.Va,e=g.Gf().zq(e),e=e.Mc(),b[0]=e[0],b[1]=e[1],b[2]=e[2],b;var l=g.zj();"default"===l&&(l="continuous");if("discrete"===l)return e=e.Mc(),b[0]=e[0],b[1]=e[1],b[2]=e[2],b;if("continuous"===l||"step"===l){"step"===l&&(g=g.Lc().Cw(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=e.Sa();l=h.Sa();var n=e.Mc(),p=h.Mc();const q=d.normalize(c,g,l);c=n[0];h=n[1];n=n[2];const r=p[0],w=p[1];p=p[2];e=self.jw.Aq(e.io());g=l-g;
l=g*q;b[0]=c===r?c:e(l,c,r-c,g);b[1]=h===w?h:e(l,h,w-h,g);b[2]=n===p?n:e(l,n,p-n,g);return b}}}}"use strict";self.D.rb.kT=class{constructor(){}static Gm(d,b,a,f){let c;switch(f){case "behavior":c=b.ec(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Ff(d);break;case "plugin":c=b.ec(d)}return c===a?!1:!0}static Jb(d,b,a,f){return a?b.Mc():(d=f.Va,d=f.Gf().zq(d),d.Mc())}};
{"use strict";const d=self.D;d.Lh=class{constructor(){this.Kz=new Map}B(){for(const b of this.Kz.values())b.B();this.Kz.clear();this.Kz=null}Ec(b){b=new d.$$(b);this.Kz.set(b.ra,b)}ma(b){return this.Kz.get(b)}static ux(b,a,f,c){if(a)for(const e of a)d.Lh.NT("create",e,b,f,c)}static Ex(b,a,f,c){b.length?a.forEach((e,h)=>{b[h].Ka(e)}):a.forEach(e=>{d.Lh.NT("load",e,b,f,c)})}static NT(b,a,f,c,e){let h;if("function"===typeof c)switch(b){case "load":h=new c(null,e);break;case "create":h=new c(a,e)}else if("object"===
typeof c)switch(c=c.map.get(a[c.q_]),b){case "load":h=new c(null,e);break;case "create":h=new c(a,e)}switch(b){case "load":h.Ka(a);f.push(h);break;case "create":"function"!==typeof h.nm||h.nm()?f.push(h):h.B()}}}}
{"use strict";const d=self.D;d.$$=class{constructor(b){this.ra="";this.zF=NaN;this.sF=0;this.jh=this.fh="default";this.WE=this.ME=!1;this.sv=1;this.Zf=null;b&&(this.ra=b[0],this.zF=b[1],this.sF=b[2],this.fh=b[3],this.jh=b[4],this.ME=!!b[6],this.WE=!!b[7],this.sv=b[8],this.Zf=new d.lT(b[5],this))}B(){this.Zf.B();this.Zf=null}rB(){this.Zf||(this.Zf=new d.lT(null,this));return this.Zf}gC(b){this.ra=b}we(){return this.zF}Cw(){return this.sF}zj(){return this.fh}Dj(){return this.jh}ot(){return this.ME}qt(){return this.WE}lo(){return this.sv}Da(){return{trackDataJson:this.Zf.Da(),
name:this.ra,totalTime:this.zF,step:this.sF,interpolationMode:this.fh,resultMode:this.jh,loop:this.ME,pingPong:this.WE,repeatCount:this.sv}}Ka(b){b&&(this.rB().Ka(b.trackDataJson),this.ra=b.name,this.zF=b.totalTime,this.sF=b.step,this.fh=b.interpolationMode,this.jh=b.resultMode,this.ME=b.loop,this.WE=b.pingPong,this.sv=b.repeatCount)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.Zf=f;this.jr=this.dE=null;this.tn=this.an=NaN;this.jh=this.fh="default";this.Rh=!1;this.Zd=this.zk=null;this.Rf="";this.hv=null;this.qN=0;this.KE=this.Zf.wf.we();a&&(this.dE=a[0],this.an=a[0][2],this.tn=a[0][1],this.fh=a[1],this.jh=a[2],this.Rh=!!a[3],a[6]&&(this.Rf=a[6]),a[7]&&(this.hv=a[7],this.qN=a[7][0],this.KE=a[7][1]),a[8]&&(this.jr=a[8]),this.zk=new d.iR(a[4],this),this.Zd=new d.eS(a[5],this))}B(){this.Zf=this.dE=null;this.zk&&(this.zk.B(),
this.zk=null);this.Zd&&(this.Zd.B(),this.Zd=null);this.hv=null}rB(){return this.Zf}Bj(){this.zk||(this.zk=new d.iR(null,this));return this.zk}Gf(){this.Zd||(this.Zd=new d.eS(null,this));return this.Zd}pH(){return this.tn}zw(){return this.an}zj(){return this.fh}Dj(){return this.jh}nm(){return this.Rh}Em(a){this.Rh=!!a}Ok(){return this.Rf}Og(){return this.qN}pm(){return this.KE}Uk(){return this.jr[0]}Tk(){this.jr||(this.jr=[]);return this.jr[1]}Da(){return{keyframeDataJson:this.zk.Da(),propertyTrackDataJson:this.Zd.Da(),
instanceData:this.dE,additionalInstanceData:this.jr,instanceUid:this.an,objectClassIndex:this.tn,interpolationMode:this.fh,resultMode:this.jh,enabled:this.Rh,id:this.Rf,nestedData:this.hv}}Ka(a){a&&(this.dE=a.instanceData,this.an=a.instanceUid,this.tn=a.objectClassIndex,this.fh=a.interpolationMode,this.jh=a.resultMode,this.Rh=a.enabled,this.Rf=a.id,this.KE=this.Zf.wf.we(),a.nestedData&&(this.hv=a.nestedData,this.qN=this.hv[0],this.KE=this.hv[1]),a.additionalInstanceData&&(this.jr=a.additionalInstanceData),
this.Bj().Ka(a.keyframeDataJson),this.Gf().Ka(a.propertyTrackDataJson))}}d.lT=class{constructor(a,f){this.wf=f;this.Hs=[];this.Sy=new Map;d.Lh.ux(this.Hs,a,b,this)}B(){this.wf=null;for(const a of this.Hs)a.B();d.I(this.Hs);this.Hs=null;this.Sy.clear();this.Sy=null}Q3(a,f){const c=this.Sy.get(f);if(c&&c.has(a))return c.get(a);for(const e of f.Bj().f_())if(e.Sa()===a)return c||this.Sy.set(f,new Map),this.Sy.get(f).set(a,e),e}y3(a,f){for(const c of f.Bj().f_())if(c.Sa()>=a)return c}z3(a,f){for(const c of f.Bj().mla())if(c.Sa()<=
a)return c}*hma(){for(const a of this.Hs)yield a}Da(){return{trackDataItemsJson:this.Hs.map(a=>a.Da())}}Ka(a){a&&d.Lh.Ex(this.Hs,a.trackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.Zd=f;this.kF="";this.Oa=this.me=this.bi=null;this.xM=this.BM=NaN;this.jh=this.fh="default";this.Rh=!1;this.Ll=null;a&&(this.kF=a[0][0],this.bi=a[0].slice(1),this.me=a[1],this.Oa=a[2],this.BM=a[3],this.xM=a[4],this.fh=a[5],this.jh=a[6],this.Rh=!!a[7],this.Ll=new d.dS(a[8],this))}B(){this.Ll.B();this.bi=this.Zd=this.Ll=null}Gf(){return this.Zd}Cj(){this.Ll||(this.Ll=new d.dS(null,this));return this.Ll}ve(){return this.kF}aT(a){this.Oa=a}zj(){return this.fh}Dj(){return this.jh}nm(){return this.Rh}Em(a){this.Rh=
!!a}Da(){return{propertyKeyframeDataJson:this.Ll.Da(),sourceAdapterId:this.kF,sourceAdapterArguments:this.bi,property:this.me,type:this.Oa,min:this.BM,max:this.xM,interpolationMode:this.fh,resultMode:this.jh,enabled:this.Rh}}Ka(a){a&&(this.kF=a.sourceAdapterId,this.bi=a.sourceAdapterArguments,this.me=a.property,this.Oa=a.type,this.BM=a.min,this.xM=a.max,this.fh=a.interpolationMode,this.jh=a.resultMode,this.Rh=a.enabled,this.Cj().Ka(a.propertyKeyframeDataJson))}}d.eS=class{constructor(a,f){this.Hc=
f;this.ts=[];this.lz=new Map;d.Lh.ux(this.ts,a,b,this)}B(){this.Hc=null;for(const a of this.ts)a.B();d.I(this.ts);this.ts=null;this.lz.clear();this.lz=null}cB(a){return a.Cj().td[0]}zq(a){a=a.Cj().td;return a[a.length-1]}rH(a,f){const c=this.lz.get(f);if(c&&c.has(a))return c.get(a);const e=f.Cj();for(const h of e.HO())if(h.Sa()===a)return c||this.lz.set(f,new Map),this.lz.get(f).set(a,h),h}eQ(a,f){f=f.Cj();for(const c of f.HO())if(c.Sa()>a)return c}eH(a,f){f=f.Cj();for(const c of f.HO())if(c.Sa()>=
a)return c}fH(a,f){f=f.Cj();for(const c of f.Lla())if(c.Sa()<=a)return c}*Nla(){for(const a of this.ts)yield a}Da(){return{propertyTrackDataItemsJson:this.ts.map(a=>a.Da())}}Ka(a){a&&d.Lh.Ex(this.ts,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.zk=f;this.vd=-1;this.lk="noease";this.mk=!1;this.Zy=this.di=null;a&&(this.vd=a[0],this.lk=a[1],this.mk=!!a[2],this.di=(a=a[3])?a.split(" "):[],this.Zy=new Set(this.di.map(c=>c.toLowerCase())))}B(){this.zk=null;d.I(this.di);this.di=null;this.Zy.clear();this.Zy=null}Bj(){return this.zk}Sa(){return this.vd}Ut(a){this.vd=a}io(){return this.lk}kl(a){this.lk=a}nm(){return this.mk}Em(a){this.mk=!!a}St(a){this.di=a?a.split(" "):[];this.Zy=new Set(this.di.map(f=>
f.toLowerCase()))}Da(){return{time:this.vd,ease:this.lk,enable:this.mk,tags:this.di}}Ka(a){a&&(this.vd=a.time,this.lk=a.ease,this.mk=a.enable,this.di=a.tags,this.Zy=new Set(this.di.map(f=>f.toLowerCase())))}}d.iR=class{constructor(a,f){this.Hc=f;this.rd=[];d.Lh.ux(this.rd,a,b,this)}B(){this.Hc=null;for(const a of this.rd)a.B();d.I(this.rd);this.rd=null}P_(){const a=new b(null,this);this.rd.push(a);return a}y1(a){for(const f of this.rd){if(!a(f))continue;const c=this.rd.indexOf(f);-1!==c&&(f.B(),this.rd.splice(c,
1))}this.K$()}K$(){this.rd.sort((a,f)=>a.Sa()-f.Sa())}S3(a){return this.rd.indexOf(a)}R3(a){return this.rd[a]}*f_(){for(const a of this.rd)yield a}*mla(){for(let a=this.rd.length-1;0<=a;a--)yield this.rd[a]}Da(){return{keyframeDataItemsJson:this.rd.map(a=>a.Da())}}Ka(a){a&&d.Lh.Ex(this.rd,a.keyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(a,f){this.Ll=f;this.Gi=this.de=null;this.Oa="";this.vd=NaN;this.lk="noease";this.mk=!1;this.Wj=null;a&&(this.de=a[0][0],this.Gi=a[0][1],this.Oa=a[0][2],this.vd=a[1],this.lk=a[2],this.mk=!!a[3],this.Wj=null,a[4]&&(this.Wj=new d.c0(a[4],this)))}B(){this.Ll=null;this.Wj&&(this.Wj.B(),this.Wj=null)}Ab(){return this.de}Fh(a){"color"===this.Oa&&d.ro(a)?(this.de[0]=d.tH(a),this.de[1]=d.hH(a),this.de[2]=d.UG(a)):this.de=a}BS(a){"color"===this.Oa&&d.ro(a)?(this.Gi[0]=
d.tH(a),this.Gi[1]=d.hH(a),this.Gi[2]=d.UG(a)):this.Gi=a}Mc(){const a=this.Ll.Va.Dj();if("relative"===a)return this.Ab();if("absolute"===a)return this.Gi}aT(a){this.Oa=a}Sa(){return this.vd}Ut(a){this.vd=a}io(){return this.lk}kl(a){this.lk=a}nm(){return this.mk}Em(a){this.mk=!!a}SG(a){if(this.Wj)for(const f of this.Wj.dka())if(f.Ok()===a)return f}Da(){const a=this.Wj;return{addonDataJson:a?a.Da():a,value:this.de,aValue:this.Gi,type:this.Oa,time:this.vd,ease:this.lk,enable:this.mk}}Ka(a){a&&(a.addonDataJson&&
this.Wj.sAa(a.addonDataJson),this.de=a.value,this.Gi=a.aValue,this.Oa=a.type,this.vd=a.time,this.lk=a.ease,this.mk=a.enable)}}d.dS=class{constructor(a,f){this.Va=f;this.td=[];d.Lh.ux(this.td,a,b,this)}B(){this.Va=null;for(const a of this.td)a.B();d.I(this.td);this.td=null}Q_(){const a=new b(null,this);this.td.push(a);return a}A1(a){for(const f of this.td){if(!a(f))continue;const c=this.td.indexOf(f);-1!==c&&(f.B(),this.td.splice(c,1))}this.L$()}L$(){this.td.sort((a,f)=>a.Sa()-f.Sa())}*HO(){for(const a of this.td)yield a}*Lla(){for(let a=
this.td.length-1;0<=a;a--)yield this.td[a]}Da(){return{propertyKeyframeDataItemsJson:this.td.map(a=>a.Da())}}Ka(a){a&&d.Lh.Ex(this.td,a.propertyKeyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.D;class b{constructor(c,e){this.Wj=e;this.Rf=c[0];this.sc=c[1]}B(){this.sc=this.Wj=null}Ok(){return this.Rf}Da(){return{id:this.Rf,data:this.sc}}Ka(c){c&&(this.Rf=c.id,this.sc=c.data)}}class a extends b{constructor(c,e){super(c,e);this.pN=this.sc[0];this.Ez=!!this.sc[1];this.jL=this.sc[2];this.GD=!!this.sc[3]}B(){super.B()}Da(){return Object.assign(super.Da(),{startAnchor:this.pN,startEnable:!!this.Ez,endAnchor:this.jL,endEnable:!!this.GD})}Ka(c){c&&(super.Ka(c),this.pN=
c.startAnchor,this.Ez=!!c.startEnable,this.jL=c.endAnchor,this.GD=!!c.endEnable)}}class f extends b{constructor(c,e){super(c,e);this.bL=this.sc[0];this.aN=this.sc[1]}B(){super.B()}Da(){return Object.assign(super.Da(),{direction:this.bL,revolutions:this.aN})}Ka(c){c&&(super.Ka(c),this.bL=c.direction,this.aN=c.revolutions)}}d.c0=class{constructor(c){this.kr=[];d.Lh.ux(this.kr,c,{q_:0,map:new Map([["cubic-bezier",a],["angle",f]])},this)}B(){for(const c of this.kr)c.B();d.I(this.kr);this.kr=null}*dka(){for(const c of this.kr)yield c}Da(){return{addonDataItemsJson:this.kr.map(c=>
c.Da())}}Ka(c){c&&d.Lh.Ex(this.kr,c.addonDataItemsJson,{q_:"id",map:new Map([["cubic-bezier",a],["angle",f]])},this)}}}
{"use strict";const d=self.D;let b=0;d.gaa=class extends d.Ne{constructor(a,f){super(`tween-${b++}`,a,f);this.Rf="";this.$W=!1;this.GL="start-value";this.DY=this.CY=null}Ra(){var a=this.oc;if(a&&a.length&&(a=a[0])){var f=a.Ra();return a.vm()?f:null}}Ok(){return this.Rf}XR(){if(this.DY)for(const a of this.DY)a(this);if(!this.$g)for(const a of this.oc)a.sj()}HR(){this.ou=this.j.Pl}QP(){if(!this.Gr&&(this.Gr=!0,this.CY))for(const a of this.CY)a(this)}Ut(a){this.RT();super.Ut(a)}Vd(a){if(!this.pp&&"current-state"===
this.GL)for(const f of this.oc)f.rj();super.Vd(a)}Jh(a=!1){super.Jh(a);if(!this.$g)for(const f of this.oc)f.Qq()}hd(a=!0,f=!1){this.RT();super.hd(a,f)}RT(){for(const a of this.oc){const f=c=>{c=c.Sa();const e=this.we();return 0!==c&&c!==e};a.z1(f);a.JG(f)}}GC(){if(this.Zi)return!0;const a=this.Ra();if(a&&a.P().Ah())return!1;this.Yb.FA(this);this.sS();return!0}tR(){}Md(){const a=this.Ra();super.Md(this.N().ri(a),1)}Da(){const a=super.Da();return Object.assign(a,{tweenDataItemJson:this.wf.Da(),id:this.Rf,
destroyInstanceOnComplete:this.$W,initialValueMode:this.GL})}Ka(a){a&&(this.wf.Ka(a.tweenDataItemJson),super.Ka(a),this.Rf=a.id,this.$W=a.destroyInstanceOnComplete,this.GL=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const d=self.D,b=self.jw;d.oT=class extends d.za{constructor(a){super();this.ra=a[0];this.fj=[];for(const f of a[1])a=d.pT.fb(this,f),this.fj.push(a);this.jz=new Map;this.AF=new Map;this.Qfa();b.O_(this.ra,(f,c,e,h)=>this.Jb(f,c,e,h))}static fb(a){return d.F(d.oT,a)}B(){for(const a of this.fj)a.B();d.I(this.fj);this.fj=null;this.jz.clear();this.jz=null;this.AF.clear();this.AF=null}m4(a){const f=this.AF.get(a);if(f)return f;for(const c of this.fj)if(c.$f===a)return this.AF.set(a,c),c}C3(a){for(const f of this.fj)if(f.$f>
a)return f}B3(a){for(const f of this.fj)if(f.$f>=a)return f}D3(a){for(let f=this.fj.length-1;0<=f;f--){const c=this.fj[f];if(c.$f<=a)return c}}Jb(a,f,c,e){var h=a/e;(a=this.m4(h))?e=this.C3(h):(a=this.D3(h),e=this.B3(h));h=d.xla(h,a.$f,e.$f,e.$f-a.$f);const g=a.$f,l=a.Tz,n=a.$f+a.nZ,p=a.Tz+a.Vja,q=e.$f+e.iX,r=e.Tz+e.cja,w=e.$f;e=e.Tz;e=b.Aq("spline")(h,g,l,n,p,q,r,w,e,this.jz.get(a));e+=a.Tz;return(1-e)*f+e*(f+c)}Qfa(){this.jz.clear();for(let f=0;f<this.fj.length-1;f++){var a=this.fj[f];if(!a.Ez)continue;
const c=this.fj[f+1];this.jz.set(a,b.e3(a.$f,a.$f+a.nZ,c.$f+c.iX,c.$f))}}}}{"use strict";const d=self.D;d.pT=class extends d.za{constructor(b,a){super();this.$f=a[0];this.Tz=a[1];this.nZ=a[2];this.Vja=a[3];this.iX=a[4];this.cja=a[5];this.Ez=a[6];this.GD=a[7]}B(){}static fb(b,a){return d.F(d.pT,b,a)}}}{"use strict";const d=self.D;d.eaa=class extends d.za{constructor(b){super();this.j=b;this.BF=[]}B(){for(const b of this.BF)b.B();d.I(this.BF);this.BF=null}fb(b){this.BF.push(d.oT.fb(b))}}}
{"use strict";const d=self.D;d.J$=class extends d.za{constructor(b){super();this.T=b;this.Eb=[];this.Eb.push(d.F(d.QI,this));this.hb=0;this.gk=this.Eb[0]}B(){for(const b of this.Eb)b.B();d.I(this.Eb);this.T=this.gk=null}P(){return this.T}ka(){return this.gk}Rc(){this.ka().Rc()}s8(){var b=this.Eb,a=++this.hb;a===b.length?(a=d.F(d.QI,this),b.push(a),this.gk=a):(b=b[a],b.hd(),this.gk=b)}t8(){const b=this.Eb,a=++this.hb;a===b.length&&b.push(d.F(d.QI,this));const f=b[a];f.a1(b[a-1]);this.gk=f}Wa(){this.gk=
this.Eb[--this.hb]}Pq(b){const a=this.Eb;for(let f=0,c=a.length;f<c;++f)a[f].Pq(b)}}}
{"use strict";const d=self.D;d.QI=class extends d.za{constructor(b){super();this.Eb=b;this.T=this.Eb.P();this.Ee=this.T.N().zd();this.wc=!0;this.M=[];this.Gc=[]}B(){this.BA();this.Ee=this.T=this.Eb=null}BA(){d.I(this.M);d.I(this.Gc)}P(){return this.T}BH(){return this.wc?!!this.T.M.length:!!this.M.length}Ca(){return this.wc?this.T.Ca():this.M}w4(){return!!this.Gc.length}cH(){const b=this.Ca();return b.length?b:this.Gc}hd(){this.wc=!0;d.I(this.Gc)}Rc(){this.wc=!0}a1(b){b.wc?this.hd():(this.wc=!1,d.fe(this.M,
b.M),d.I(this.Gc))}er(b){this.M.push(b)}To(b){this.Gc.push(b)}ff(b){this.wc=!!b}ll(b){this.wc=!1;d.I(this.M);this.M.push(b)}Yw(b){this.wc=!1;d.fe(this.M,b)}jx(b){this.wc=!1;d.I(this.M);for(const a of b)this.M.push(a)}ZO(b,a){for(const f of a)b.has(f)||this.Gc.push(f)}caa(b){for(const a of b)this.M.push(a);d.ji(this.Gc,b)}Bo(b){b&&(this.Ee.Cf().Ub().Ge?(this.wc&&(d.I(this.M),d.fe(this.Gc,b.P().Ca()),this.wc=!1),b=this.Gc.indexOf(b),-1!==b&&(this.M.push(this.Gc[b]),this.Gc.splice(b,1))):this.ll(b))}Pq(b){d.ji(this.M,
b);d.ji(this.Gc,b)}}}
{"use strict";const d=self.D;d.K2=class extends d.za{constructor(b){super();this.Ma=b;this.j=this.Ma.N();this.Eb=[];this.Eb.push(d.F(d.MP,this,null));this.hb=0;this.ID=[]}B(){for(const b of this.Eb)b.B();d.I(this.Eb);d.I(this.ID);this.j=this.Ma=null}Ba(){return this.Ma}N(){return this.j}Cf(){return this.Eb[this.hb]}ab(b){var a=this.Eb;const f=++this.hb;if(f===a.length)return b=d.F(d.MP,this,b),a.push(b),b;a=a[f];a.hd(b);return a}Wa(){--this.hb}u8(b){this.ID.push(b)}l8(){this.ID.pop()}j3(){const b=this.ID;
return 0===b.length?null:b[b.length-1]}}}
{"use strict";const d=self.D;d.MP=class extends d.za{constructor(b,a){super();this.Eb=b;this.j=this.Eb.N();this.hy=a;this.Yg=this.Rm=0;this.iL=this.Yr=!1;this.nL=null;this.uL=this.xX=0}B(){this.hd(null);this.j=this.Eb=null}hd(b){this.hy=b;this.Yg=this.Rm=0;this.iL=this.Yr=!1}aK(b,a){this.hy=b;this.Rm=0;this.Yg=a}tS(){this.Yg=this.Rm=0}Ub(){return this.hy}Eh(b){this.hy=b}Io(b){this.Rm=b}XB(b){this.Yg=b}Lo(b){this.Yr=!!b}Nt(b){this.iL=!!b}C9(b){this.nL=b}l5(b,a){this.xX=b;this.uL=a}dC(b){this.uL=b}bl(){const b=
this.hy;return b.uE?!0:this.Rm<b.Ac.length-1?!!b.Sd().length:!1}}}{"use strict";const d=self.D;d.H6=class extends d.za{constructor(b){super();this.Ma=b;this.j=this.Ma.N();this.Eb=[];this.hb=-1;this.gk=null;this.bE=[]}B(){d.I(this.Eb);this.j=this.Ma=null}Aha(b){this.bE=b;b=this.bE.slice(0);this.Eb.push(b);this.hb=0;this.gk=b}Ba(){return this.Ma}N(){return this.j}kt(){return this.gk}ab(){const b=++this.hb,a=this.Eb;b===a.length?a.push(this.bE.slice(0)):d.fe(a[b],this.bE);this.gk=a[b]}Wa(){this.gk=this.Eb[--this.hb]}}}
{"use strict";const d=self.D;d.J6=class extends d.za{constructor(b){super();this.Ma=b;this.j=this.Ma.N();this.Eb=[];this.hb=-1}B(){d.I(this.Eb);this.j=this.Ma=null}Ba(){return this.Ma}N(){return this.j}bR(){return 0<=this.hb}kt(){return this.Eb[this.hb]}ab(){++this.hb;if(this.hb===this.Eb.length){var b=d.F(d.I6,this);this.Eb.push(b);return b}b=this.Eb[this.hb];b.hd();return b}Wa(){--this.hb}Q2(b){const a=this.Eb;for(let f=this.hb;0<=f;--f){const c=a[f];if(c.ra===b)return c}return null}}}
{"use strict";const d=self.D;d.I6=class extends d.za{constructor(b){super();this.ug=b;this.ra="";this.hb=0;this.Nc=!1}hd(){this.ra="";this.hb=0;this.Nc=!1}gC(b){this.ra=b}jd(b){this.hb=b}Ua(){return this.hb}Jh(){this.Nc=!0}}}{"use strict";const d=self.D;d.m0=class extends d.za{constructor(){super();this.Eb=[];this.hb=-1}B(){d.I(this.Eb)}kt(){return this.Eb[this.hb]}ab(){++this.hb;if(this.hb===this.Eb.length){const b=[];this.Eb.push(b);return b}return this.Eb[this.hb]}Wa(){--this.hb}}}
{"use strict";const d=self.D;function b(a,f){return a.Ua()-f.Ua()}d.J2=class extends d.za{constructor(a){super();this.j=a;this.Tx=[];this.gN=new Map;this.CK=[];this.BX=new Map;this.RK=new Map;this.XK=new Map;this.$C=new Map;this.MW=new Map;this.lL=new Map;this.Kja=0;this.BK=[];this.Kia=[];this.pY=[];this.sL=new Map;this.Ee=d.F(d.K2,this);this.Yd=d.F(d.H6,this);this.ug=d.F(d.J6,this);this.BN=[];this.cF=[];this.bF=[];this.QK=this.Wm=this.Dn=0;this.kh=[];this.hD=[];self.c3_callFunction=(f,c)=>this.EC(f,
c)}B(){this.AA();this.Ee.B();this.Ee=null;this.Yd.B();this.Yd=null;d.I(this.cF);d.I(this.bF);this.j=null;d.I(this.Tx);this.gN.clear()}fb(a){a=d.F(d.I2,this,a);this.Tx.push(a);this.gN.set(a.ra.toLowerCase(),a)}Waa(a){this.BN.push(a)}mc(){for(const a of this.sL.values())a.mc(!1);for(const a of this.Tx)a.mc();for(const a of this.Tx)a.pK();for(const a of this.BN)a.mc(!1);d.I(this.BN);this.Yd.Aha(this.pY)}N(){return this.j}dQ(a){return this.gN.get(a.toLowerCase())||null}cga(a){this.CK.push(a);this.BX.set(a.AX,
a)}$fa(a){this.RK.set(a.jb,a)}Zfa(a){this.XK.set(a.jb,a)}Yfa(a){this.$C.set(a.jb,a)}bga(a){this.sL.set(a.SD.toLowerCase(),a)}aga(a){this.lL.set(a.jb,a);a.Ah()?this.BK.push(a):this.Kia.push(a)}sC(a){2<=a.length&&a.sort(b);let f=this.MW.get(a.length);f||(f=[],this.MW.set(a.length,f));for(let e=0,h=f.length;e<h;++e){const g=f[e];a:{for(let l=0,n=a.length;l<n;++l)if(a[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}f.push(a);return a}zda(a){this.pY.push(a.Cb);return this.Kja++}zd(){return this.Ee}ig(){return this.zd().Cf()}Ub(){return this.ig().Ub()}hg(){const a=
this.ig();return a.Ub().$P(a.Rm)}ww(){const a=this.ig();return a.Ub().SP(a.Yg)}Z2(a){const f=[];for(a=a.ut();a;)d.cq(f,a.kU()),a=a.ut();return f}CU(a){const f={};for(const c of this.Z2(a))f[c.Aj()]=c.GU();return Object.create(Object.prototype,f)}bH(a){return this.lL.get(a)||null}p3(a){return this.RK.get(a)||null}X2(a){return this.$C.get(a)||null}eB(a){return this.sL.get(a.toLowerCase())||null}Q8(){for(const a of this.BK)a.W8()}cQ(a){return this.BX.get(a.toLowerCase())||null}q3(a){return(a=this.RK.get(a))&&
a.xk?a:null}S8(){for(const a of this.CK)a.T8()}AV(){for(const a of this.Tx)a.tga()}b9(a){this.AV();this.Dn++;for(const f of a.oA())if(a=f.Gd)this.j.Tw(f),a.Ha(),this.j.Sw();this.Dn--}async t1(a){this.AV();this.Dn++;for(const f of this.kca(a))await this.j.it(f);this.Dn--}*kca(a){for(const f of a.oA())if(a=f.Gd)this.j.Tw(f),yield*a.Gb(),this.j.Sw()}Sx(a,f,c,e){let h=!1;if(!a.jc())return this.iI(f,c,e);this.Wm++;for(const g of a.oA())if(a=g.Gd){this.j.Tw(g);for(const l of a.yD){const n=l.Sx(f,c,e);h=
h||n}a=a.Sx(f,c,e);h=h||a;this.j.Sw()}this.Wm--;return h}*yx(a,f,c,e){let h=!1;if(!a.jc())return this.iI(f,c,e);this.Wm++;for(const g of a.oA())if(a=g.Gd){this.j.Tw(g);for(const l of a.yD){const n=yield*l.yx(f,c,e);h=h||n}a=yield*a.yx(f,c,e);h=h||a;this.j.Sw()}this.Wm--;return h}iI(a,f,c){this.cF.push([a,f,c]);return!1}y8(a,f,c){let e=null;const h=new Promise(g=>e=g);this.bF.push([a,f,c,e]);return h}*Dga(){if(this.j.Iw())throw Error("should not be in breakpoint");const a=this.j.ob;for(;this.bF.length;){const [f,
c,e,h]=this.bF.shift(),g=yield*this.yx(a,f,c,e);h(g)}}async vS(){for(const a of this.Dga())await this.j.it(a)}RH(){return 0<this.Wm}Cx(){return++this.Wm}zx(){--this.Wm}e6(){return 0<this.Dn}BB(){return this.e6()||this.RH()}Ega(a){for(const [f,c,e]of this.cF)this.Sx(a,f,c,e);d.I(this.cF)}zf(a){a?this.QK++:this.QK--}$Q(){return 0<this.QK}ht(a){for(let f=0,c=a.length;f<c;++f)a[f].Mp.Rc()}Bh(a){for(let f=0,c=a.length;f<c;++f)a[f].Mp.s8()}cf(a){for(let f=0,c=a.length;f<c;++f)a[f].Mp.t8()}fc(a){for(let f=
0,c=a.length;f<c;++f)a[f].Mp.Wa()}sG(){const a=d.F(d.sI,this);this.kh.push(a);return a}d9(){if(this.kh.length){var a=this.ig(),f=!1;this.Dn++;for(let c=0,e=this.kh.length;c<e;++c){const h=this.kh[c];h.sW()&&h.vga(a);h.xz&&(f=!0)}f&&this.gU();this.Dn--}}async v1(){if(this.kh.length){var a=this.ig(),f=!1;this.Dn++;for(let c=0,e=this.kh.length;c<e;++c){const h=this.kh[c];h.sW()&&await h.eca(a);h.xz&&(f=!0)}f&&this.gU();this.Dn--}}gU(){const a=d.mka(this.kh,f=>f.xz);for(const f of a)f.B()}AA(){for(const a of this.kh)a.B();
d.I(this.kh)}G8(a){for(const f of this.kh)f.Pq(a)}oG(a){this.hD.push(a)}CA(){d.I(this.hD)}e4(){const a=Promise.all(this.hD);this.hD=[];return a}Da(){return{groups:this.Lga(),cnds:this.Kga(),acts:this.Jga(),vars:this.Wga(),waits:this.Sga()}}Ka(a){this.Dea(a.groups);this.xea(a.cnds);this.vea(a.acts);this.Pea(a.vars);this.Lea(a.waits)}Lga(){const a={};for(const f of this.CK)a[f.jb.toString()]=f.zt();return a}Dea(a){for(const [f,c]of Object.entries(a))(a=this.q3(parseInt(f,10)))&&a.Tq(c)}Kga(){const a=
{};for(const [f,c]of this.XK){const e=c.Da();e&&(a[f.toString()]=e)}return a}xea(a){const f=new Map;for(const [c,e]of Object.entries(a))f.set(parseInt(c,10),e);for(const [c,e]of this.XK)e.Ka(f.get(c)||null)}Jga(){const a={};for(const [f,c]of this.$C){const e=c.Da();e&&(a[f.toString()]=e)}return a}vea(a){const f=new Map;for(const [c,e]of Object.entries(a))f.set(parseInt(c,10),e);for(const [c,e]of this.$C)e.Ka(f.get(c)||null)}Wga(){const a={};for(const [f,c]of this.lL)c.Rb||!c.Ah()&&!c.Si||(a[f.toString()]=
c.Ab());return a}Pea(a){for(const [f,c]of Object.entries(a))(a=this.bH(parseInt(f,10)))&&a.Fh(c)}Sga(){return this.kh.filter(a=>!a.c6()).map(a=>a.Da())}Lea(a){this.AA();for(const f of a)(a=d.sI.Fba(this,f))&&this.kh.push(a)}PG(a){for(;a;)if(a=a.ut(),a instanceof d.qw)return a;return null}EC(a,f){Array.isArray(f)||(f=[]);a=this.eB(a.toLowerCase());if(!a)return null;if(!a.Hf())return a.yw();var c=a.Sh;if(f.length<c.length){f=f.slice(0);do f.push(c[f.length].Cb);while(f.length<c.length)}c=a.Ef();return c.qI(c.ie(),
a.Bn,a.yw(),...f)}}}
{"use strict";const d=self.D;d.I2=class extends d.za{constructor(b,a){super();this.Ma=b;this.j=b.N();this.ra=a[0];this.HD=[];this.FF=new Map;this.qX=new Map;this.dja=new Map;this.ty=!1;this.gZ=[];this.yD=[];this.NW=new Set;for(const f of a[1])this.OT(f,null,this.HD);this.Ck=this.j.Ob?{type:"sheet",name:this.ra,rA:0,children:[]}:null}B(){this.j=this.Ma=null}OT(b,a,f){switch(b[0]){case 0:case 3:this.Dba(b,a,f);break;case 1:this.Eba(b,a,f);break;case 2:this.Iba(b,a,f);break;case 4:this.Gba(b,a);break;
case 5:this.Rba(b,a,f);break;default:throw Error("invalid event type");}}Dba(b,a,f){b=d.im.fb(this,a,b);if(b.Ge){f.push(b);f=b.Ac;for(let c=0,e=f.length;c<e;++c)f[c].Lq()&&this.TU(b,c)}else b.Lq()?this.TU(b,0):f.push(b)}Gba(b,a){b=d.qw.fb(this,a,b);this.Ma.bga(b)}Eba(b,a,f){b=d.OA.fb(this,a,b);f.push(b)}Iba(b,a,f){b=d.LP.fb(this,a,b);f.push(b)}Rba(b,a,f){b=d.NA.fb(this,a,b);f.push(b)}TU(b,a){b.Ge||this.Ma.Waa(b);var f=b.$P(a),c=f.Xa,e=f.P();if(f.VX){var h=this.qX.get(e);h||(h=new Map,this.qX.set(e,
h));f=f.u3().toLowerCase();e=h.get(c);e||(e=new Map,h.set(c,e));c=e.get(f);c||(c=[],e.set(f,c));c.push([b,a])}else h=this.FF.get(e),h||(h={sO:new Map,Xz:new Map},this.FF.set(e,h)),(e=f.oi())?(f=h.Xz.get(e),f||(f=new Map,h.Xz.set(e,f))):f=h.sO,h=f.get(c),h||(h=[],f.set(c,h)),h.push([b,a])}mc(){const b=this.HD;for(let a=0,f=b.length;a<f;++a)b[a].mc(a<f-1&&b[a+1]instanceof d.im&&b[a+1].AB())}Uaa(b){this.gZ.push(b)}pK(){d.I(this.yD);this.yT(this);this.NW.clear()}yT(b){const a=b.yD,f=b.NW;for(const c of this.gZ){const e=
c.By;c.hc&&b!==e&&!f.has(e)&&(f.add(e),e.yT(b),a.push(e))}}Ba(){return this.Ma}N(){return this.j}tV(b,a){this.dja.set(a,b)}tga(){this.ty=!1}Ha(){if(!this.ty){var b=this.j,a=b.KH(),f=a?performance.now():0;this.ty=!0;var c=this.Ba(),e=c.ig();for(const h of this.HD)h.Ha(e),c.ht(h.Sd()),c.CA(),b.Me();e.hd(null);a&&(this.Ck.rA+=performance.now()-f)}}*Gb(){if(!this.ty){this.ty=!0;var b=this.j,a=this.Ba(),f=a.ig();for(const c of this.HD)yield*c.Gb(f),a.ht(c.Sd()),a.CA(),b.Me();f.hd(null)}}Sx(b,a,f){if(a){const c=
a.P();this.nK(b,a,c,f);for(const e of c.Oi)this.nK(b,a,e,f)}else return this.nK(b,a,null,null)}nK(b,a,f,c){f=this.FF.get(f);if(!f)return!1;c=c?f.Xz.get(c):f.sO;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [e,h]of c)c=this.fU(a,e,h),b=b||c;return b}*yx(b,a,f){if(a){const c=a.P();yield*this.tJ(b,a,c,f);for(const e of c.Oi)yield*this.tJ(b,a,e,f)}else return yield*this.tJ(b,a,null,null)}*tJ(b,a,f,c){f=this.FF.get(f);if(!f)return!1;c=c?f.Xz.get(c):f.sO;if(!c)return!1;c=c.get(b);if(!c)return!1;
b=!1;for(const [e,h]of c)c=e.Af()?this.fU(a,e,h):yield*this.Zba(a,e,h),b=b||c;return b}fU(b,a,f){const c=this.j,e=this.Ma,h=e.Ub(),g=e.zd(),l=e.Wm;let n=!1;h&&e.Bh(h.ie());e.Bh(a.ie());const p=1<l;p&&e.Yd.ab();const q=g.ab(a);b&&(a.Ac[f].P().ka().ll(b),b.Tc()&&b.Lj());b=!0;if(a.Qa()){const r=a.Ks;for(let w=0,x=r.length;w<x;++w)if(!r[w].uS(q)){b=!1;break}}b&&(c.um(),a.Ge?a.c9(q,f):a.Ha(q),n=q.Yr);g.Wa();p&&e.Yd.Wa();e.fc(a.ie());h&&e.fc(h.ie());h||1!==l||(e.CA(),e.$Q()||c.Me());return n}*Zba(b,a,f){const c=
this.j,e=this.Ma,h=e.Ub(),g=e.zd(),l=e.Wm;let n=!1;h&&e.Bh(h.ie());e.Bh(a.ie());const p=1<l;p&&e.Yd.ab();const q=g.ab(a);b&&(a.Ac[f].P().ka().ll(b),b.Tc()&&b.Lj());b=!0;if(a.Qa()){const r=a.Ks;for(let w=0,x=r.length;w<x;++w)if(!(yield*r[w].CP(q))){b=!1;break}}b&&(c.um(),a.Ge?yield*a.u1(q,f):yield*a.Gb(q),n=q.Yr);g.Wa();p&&e.Yd.Wa();e.fc(a.ie());h&&e.fc(h.ie());h||1!==l||(e.CA(),e.$Q()||c.Me());return n}}}
{"use strict";const d=self.D,b=[];function a(){return!0}function*f(){return!0}d.im=class extends d.za{constructor(c,e,h){super();this.Gd=c;this.j=c.N();this.$c=e;this.Ue=null;this.Ee=this.j.Ba().zd();this.Xf=[];this.vv=[];this.qy=this.wE=this.uE=this.GX=!1;this.Ge=!!h[2];this.iE=!1;this.Ks=null;this.Ac=[];this.Nh=[];this.ej=[];this.Uj=a;this.Yq=f;this.TL=this.xk=!1;this.AX="";this.lE=!1;this.Ck=this.wD=null;this.jb=h[4];this.xu=h[5];this.Gd.tV(this,this.xu);this.cb=this.j.Ob?{Id:h[3][0],mO:h[3][1],
LZ:!1,XN:!1,YN:!1,MZ:!1}:null;this.Ba().$fa(this);3===h[0]&&this.Xda(h[1]);c=0;for(var g of h[6])e=d.uP.fb(this,g,c++),this.Ac.push(e),this.DT(e.P());c=0;for(const l of h[7])g=d.vA.fb(this,l,c++),this.Nh.push(g);if(9===h.length){h=h[8];for(const l of h)this.Gd.OT(l,this,this.ej)}this.Ac.length&&(this.iE=null===this.Ac[0].P()&&this.Ac[0].Xa===d.A.Ia.G.JP);0===this.Ac.length&&(this.Ac=b);0===this.Nh.length&&(this.Nh=b);0===this.ej.length&&(this.ej=b)}static fb(c,e,h){return d.F(d.im,c,e,h)}Xda(c){this.xk=
!0;this.lE=this.TL=!!c[0];this.AX=c[1].toLowerCase();this.wD=[];this.Ba().cga(this);this.j.Ob&&(this.Ck={type:"group",name:c[1],rA:0,children:[]})}Maa(c){this.wD.push(c)}xT(c,e){for(const h of c.fk.vn)e.includes(h)||e.push(h)}ET(c,e){if(c)if(e.includes(c)||e.push(c),c.lb)for(const h of c.mp)h.Tc()&&this.xT(h,e);else c.Tc()&&this.xT(c,e)}DT(c){this.ET(c,this.Xf)}Qaa(c){this.ET(c,this.vv)}k9(){this.Xf=this.j.Cd}mc(c){this.qy=!!c;this.Qda();this.Rda();for(const h of this.Ac)h.mc();if(0<this.Nh.length){c=
!1;for(var e of this.Nh)e.mc(),e.E4()&&(c=!0);c?(this.Uj=this.xga,this.Yq=this.gca):(this.Uj=this.wga,this.Yq=this.fca)}e=this.ej;for(let h=0,g=e.length;h<g;++h)e[h].mc(h<g-1&&e[h+1]instanceof d.im&&e[h+1].AB());this.cb&&this.ria();this.Ck&&this.Ada().Ck.children.push(this.Ck)}Ada(){let c=this.Qa();for(;c;){if(c.xk)return c;c=c.Qa()}return this.Gd}ria(){const c=this.cb;c.LZ=this.Ac.every(e=>e.Af());c.XN=this.Nh.every(e=>e.Af());c.YN=this.ej.every(e=>e.Af());c.MZ=c.LZ&&c.XN&&c.YN}Qda(){if(this.xk){var c=
this.Qa();for(this.wE=!0;c;){if(!c.xk){this.wE=!1;break}c=c.Qa()}}}Pda(){var c=this.j.Cd;if(this.Xf===c)this.vv=c;else{this.vv=d.MF(this.Xf);for(c=this.Qa();c;){for(var e of c.Xf)this.Qaa(e);c=c.Qa()}e=this.Ba();this.Xf=e.sC(this.Xf);this.vv=e.sC(this.vv)}}Rda(){if(this.x4()){this.Ks=[];for(var c=this.Qa();c;)this.Ks.push(c),c=c.Qa();this.Ks.reverse()}}kx(){this.uE=!0;this.$c&&this.$c.kx()}Sd(){return this.Xf}ie(){this.GX||(this.GX=!0,this.Pda());return this.vv}G4(c){return this.Xf.includes(c)}Ba(){return this.Gd.Ba()}N(){return this.j}Qa(){return this.$c}Mha(c){this.Ue=
c}ut(){return this.Ue||this.$c}LH(){return this.cb&&this.cb.mO}Kq(){return this.LH()&&this.cb.Id}AB(){return this.iE}zt(){return this.lE}T8(){this.Tq(this.TL)}Tq(c){c=!!c;if(!this.xk)throw Error("not a group");if(this.lE!==c){this.lE=c;for(const e of this.wD)e.qT();this.wD.length&&(c=this.j.$a().Gd)&&c.pK()}}Lq(){return this.Ac.length&&this.Ac[0].Lq()}V5(){return this.Ue&&this.Ue instanceof d.qw}x4(){return this.V5()||this.Ac.some(c=>c.Lq())}$P(c){c=Math.floor(c);if(0>c||c>=this.Ac.length)throw new RangeError("invalid condition index");
return this.Ac[c]}U5(c){let e=c.Ua();if(0===e)return!0;for(--e;0<=e;--e)if(this.Ac[e].P()===c.P())return!1;return!0}SP(c){c=Math.floor(c);if(0>c||c>=this.Nh.length)throw new RangeError("invalid action index");return this.Nh[c]}Oda(c){c=Math.floor(c);return 0<=c&&c<this.Nh.length}kU(){return this.ej.filter(c=>c instanceof d.OA)}uS(c){c.Eh(this);let e=!1;const h=this.Ac;for(let g=0,l=h.length;g<l;++g){const n=h[g];c.Io(g);if(n.nE)throw Error("trigger cannot be used as sub-event to a loop");if(n.Ha())e=
!0;else if(!this.Ge)return!1}return this.Ge?e:!0}c9(c,e){c.Eh(this);this.Ac[e].Ha()&&(this.Uj(c,0)&&this.Lm(),c.Lo(!0))}*CP(c){c.Eh(this);let e=!1;const h=this.Ac;for(let g=0,l=h.length;g<l;++g){const n=h[g];c.Io(g);if(n.nE)throw Error("trigger cannot be used as sub-event to a loop");if(n.Af()?n.Ha():yield*n.Gb())e=!0;else if(!this.Ge)return!1}return this.Ge?e:!0}*u1(c,e){c.Eh(this);e=this.Ac[e];if(e.Af()?e.Ha():yield*e.Gb())(this.JA()?this.Uj(c,0):yield*this.Yq(c,0))&&(this.KA()?this.Lm():yield*this.xx()),
c.Lo(!0)}Ha(c){c.Eh(this);this.iE||c.Nt(!1);this.Ge?this.Cga(c):this.LC(c)}*Gb(c){if(this.Kq()||this.j.Jc())yield this;c.Eh(this);this.iE||c.Nt(!1);this.Ge?yield*this.rca(c):yield*this.qJ(c)}Cga(c){const e=this.Ac;let h=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Lq()||(c.Io(l),g=g.Ha(),h=h||g)}c.Lo(h);h&&(this.Uj(c,0)&&this.Lm(),this.qy&&c.Nt(!0))}*rca(c){const e=this.Ac;let h=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Lq()||(c.Io(l),g=g.Af()?g.Ha():yield*g.Gb(),h=h||
g)}c.Lo(h);h&&((this.JA()?this.Uj(c,0):yield*this.Yq(c,0))&&(this.KA()?this.Lm():yield*this.xx()),this.qy&&c.Nt(!0))}LC(c){const e=this.Ac;for(let h=0,g=e.length;h<g;++h){const l=e[h];c.Io(h);if(!l.Ha()){c.Lo(!1);return}}c.Lo(!0);this.Uj(c,0)&&this.Lm();c.Yr&&this.qy&&c.Nt(!0)}*qJ(c){const e=this.Ac;for(let h=0,g=e.length;h<g;++h){const l=e[h];c.Io(h);if(l.Af()?!l.Ha():!(yield*l.Gb())){c.Lo(!1);return}}c.Lo(!0);(this.JA()?this.Uj(c,0):yield*this.Yq(c,0))&&(this.KA()?this.Lm():yield*this.xx());c.Yr&&
this.qy&&c.Nt(!0)}wga(c,e){const h=this.Nh;for(let g=e,l=h.length;g<l;++g)e=h[g],c.XB(g),e.Ha();return!0}*fca(c,e){const h=this.Nh;for(let g=e,l=h.length;g<l;++g)e=h[g],c.XB(g),e.Af()?e.Ha():yield*e.Gb();return!0}xga(c,e){const h=this.Ba(),g=this.Nh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.XB(l);const p=e.Ha();if(e.mP()&&!0===p)return!1;e.yh()&&p instanceof Promise&&h.oG(p)}return!0}*gca(c,e){const h=this.Ba(),g=this.Nh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.XB(l);let p;p=e.Af()?e.Ha():yield*e.Gb();
if(e.mP()&&!0===p)return!1;e.yh()&&p instanceof Promise&&h.oG(p)}return!0}uga(c){this.Uj(c,c.Yg)&&this.Lm()}*dca(c){if(yield*this.Yq(c,c.Yg))yield*this.xx()}Lm(){if(this.ej.length){var c=this.xk&&this.j.KH(),e=c?performance.now():0,h=this.Ee,g=h.ab(this);this.uE?this.Hga(g):this.Gga(g);h.Wa();c&&(this.Ck.rA+=performance.now()-e)}}Hga(c){const e=this.xk,h=this.wE,g=this.Ba(),l=this.ej;for(let n=0,p=l.length,q=p-1;n<p;++n){const r=l[n],w=r.Sd(),x=!h||!e&&n<q;x&&g.cf(w);r.Ha(c);x?g.fc(w):g.ht(w)}}Gga(c){const e=
this.ej;for(let h=0,g=e.length;h<g;++h)e[h].Ha(c)}*xx(){if(this.ej.length){var c=this.Ee,e=c.ab(this);this.uE?yield*this.uca(e):yield*this.tca(e);c.Wa()}}*uca(c){const e=this.xk,h=this.wE,g=this.Ba(),l=this.ej;for(let n=0,p=l.length,q=p-1;n<p;++n){const r=l[n],w=r.Sd(),x=!h||!e&&n<q;x&&g.cf(w);yield*r.Gb(c);x?g.fc(w):g.ht(w)}}*tca(c){const e=this.ej;for(let h=0,g=e.length;h<g;++h)yield*e[h].Gb(c)}Vg(c,e){this.j.um();e.tS();const h=this.Ac;if(!this.Ge)for(let g=c.Rm+1,l=h.length;g<l;++g)if(c=h[g],
e.Io(g),!c.Ha())return!1;this.Uj(e,0)&&this.Lm();return!0}*ph(c,e){this.j.um();e.tS();const h=this.Ac;if(!this.Ge)for(let g=c.Rm+1,l=h.length;g<l;++g)if(c=h[g],e.Io(g),c.Af()?!c.Ha():!(yield*c.Gb()))return!1;(this.JA()?this.Uj(e,0):yield*this.Yq(e,0))&&(this.KA()?this.Lm():yield*this.xx());return!0}Af(){return!this.Kq()&&!this.j.Jc()&&this.cb.MZ}JA(){return!this.j.Jc()&&this.cb.XN}KA(){return!this.j.Jc()&&this.cb.YN}jJ(c){if(this.Qa()){const e=this.Ks;for(let h=0,g=e.length;h<g;++h)if(!e[h].uS(c))return!1}return!0}*PT(c){if(this.Qa()){const e=
this.Ks;for(let h=0,g=e.length;h<g;++h)if(!(yield*e[h].CP(c)))return!1}return!0}eU(c,e,h){0<e.length?h?(e=e.map(g=>g.ma(0)),c.Yd.ab(),this.Ue.ax(e)):this.Ue.H2(e):h&&c.Yd.ab()}Z8(c,e){let h,g;const l=0<c.length;var n=this.j;const p=this.Ee,q=n.Ba(),r=1<q.Cx();this.eU(q,e,r);l&&q.Bh(c);e=p.ab(this);this.jJ(e)&&(n.um(),e.Eh(this),(n=this.Ue.yh())&&([g,h]=this.Ue.TI()),this.LC(e),n&&this.Ue.Pw(g));p.Wa();r&&q.Yd.Wa();l&&q.fc(c);q.zx();return h}*r1(c,e){let h,g;if(this.Kq()||this.j.Jc())yield this;const l=
0<c.length;var n=this.j;const p=this.Ee,q=n.Ba(),r=1<q.Cx();this.eU(q,e,r);l&&q.Bh(c);e=p.ab(this);if(yield*this.PT(e))n.um(),e.Eh(this),(n=this.Ue.yh())&&([g,h]=this.Ue.TI()),yield*this.qJ(e),n&&this.Ue.Pw(g);p.Wa();r&&q.Yd.Wa();l&&q.fc(c);q.zx();return h}a9(c){const e=this.ie(),h=0<e.length,g=this.j,l=this.Ee,n=g.Ba(),p=1<n.Cx();p&&n.Yd.ab();this.Ue.ax(c);h&&n.Bh(e);c=l.ab(this);this.jJ(c)&&(g.um(),c.Eh(this),this.LC(c));l.Wa();p&&n.Yd.Wa();h&&n.fc(e);n.zx()}*s1(c){if(this.Kq()||this.j.Jc())yield this;
const e=this.ie(),h=0<e.length,g=this.j,l=this.Ee,n=g.Ba(),p=1<n.Cx();p&&n.Yd.ab();this.Ue.ax(c);h&&n.Bh(e);c=l.ab(this);if(yield*this.PT(c))g.um(),c.Eh(this),yield*this.qJ(c);l.Wa();p&&n.Yd.Wa();h&&n.fc(e);n.zx()}qI(c,e,h,...g){let l,n;const p=0<c.length,q=this.j,r=this.Ee,w=q.Ba(),x=1<w.Cx();x&&w.Yd.ab();0<g.length&&this.Ue.ax(g);p&&w.Bh(c);g=r.ab(this);g.l5(e,h);r.u8(g);q.Lt(!1);this.jJ(g)&&(q.um(),g.Eh(this),(e=this.Ue.yh())&&([n,l]=this.Ue.TI()),this.LC(g),e&&this.Ue.Pw(n));q.Lt(!0);r.Wa();r.l8();
x&&w.Yd.Wa();p&&w.fc(c);w.zx();return l||g.uL}}}
{"use strict";const d=self.D,b=[];let a=!1;d.NA=class extends d.za{constructor(f,c,e){super();const h=f.N(),g=f.Ba();this.Gd=f;this.Ma=g;this.j=f.N();this.$c=c;this.Xa=h.ti(e[1]);this.xu=e[2];this.Gd.tV(this,this.xu);this.cb=h.Ob?{Id:e[3][0],mO:e[3][1]}:null}static fb(f,c,e){return d.F(d.NA,f,c,e)}mc(){const f=this.Xa,c=this.j.Ba().CU(this);this.Xa=f.bind(null,this.j.vk,c)}Qa(){return this.$c}ut(){return this.$c}LH(){return this.cb&&this.cb.mO}Kq(){return this.LH()&&this.cb.Id}AB(){return!1}Sd(){return b}ie(){return this.$c?
this.$c.ie():b}Ha(f){f.Eh(this);this.Ma.oG(this.Iga())}async Iga(){try{await this.Xa()}catch(f){console.error(`Unhandled exception running script %c${this.Gd.ra}, event ${this.xu}:`,"font-size: 1.2em; font-weight: bold;",f),self.Hg&&self.Hg.Bha(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*Gb(f){f.Eh(this);if(this.Kq()||this.j.Jc())yield this;
this.Ha(f)}Af(){return!this.Kq()&&!this.j.Jc()}static s4(){return a}static J9(){a=!0}}}
{"use strict";const d=self.D;d.qw=class extends d.za{constructor(b,a,f){super();this.Gd=b;this.j=b.N();this.$c=a;const c=f[1];this.SD=c[0];this.Bn=c[1];this.Sh=c[2].map(e=>d.OA.fb(b,this,e));this.V=c[3];this.HL=[];this.Ey=c[4];this.Gja=0;this.gy=-1;this.Wx=new Map;this.Qe=d.im.fb(b,a,f);this.Qe.Mha(this)}static fb(b,a,f){return d.F(d.qw,b,a,f)}mc(){for(const b of this.Sh)b.mc();this.Qe.mc(!1)}kU(){return this.Sh}dga(b){this.HL.push(b)}H2(b){const a=this.Sh;for(let f=0,c=a.length;f<c;++f)a[f].Fh(b[f].ma(0))}ax(b){const a=
this.Sh;for(let f=0,c=a.length;f<c;++f)a[f].Fh(b[f])}C0(){return this.Sh.map(b=>b.Ab())}Qa(){return this.$c}ut(){return this.$c}Hf(){return this.V}yw(){switch(this.Bn){case 0:return null;case 2:return"";default:return 0}}Ef(){return this.Qe}yh(){return this.Ey}TI(){const b=this.Gja++;this.gy=b;let a;const f=new Promise(c=>a=c);this.Wx.set(b,{resolve:a,AO:0});return[b,f]}Pw(b){const a=this.Wx.get(b);0===a.AO&&(a.resolve(),this.Wx.delete(b));this.gy=-1}h8(){this.Wx.get(this.gy).AO++;return this.gy}Y8(b){this.gy=
b;this.Wx.get(b).AO--}}}
{"use strict";const d=self.D,b=[];d.OA=class extends d.za{constructor(a,f,c){super();const e=a.Ba();this.Gd=a;this.Ma=e;this.j=a.N();this.$c=f;this.Yd=e.Yd;this.ra=c[1];this.Oa=c[2];this.Cb=c[3];this.Si=!!c[4];this.Rb=!!c[5];this.pja=f instanceof d.qw;this.jb=c[6];this.Qy=this.j.Aj(c[8]);this.Uja=h=>this.Fh(h);this.Sja=()=>this.Ab();this.JX=!this.$c||this.Si||this.Rb;this.de=this.Cb;this.uM=-1;this.VQ()&&(this.de=this.de?1:0);!this.TH()||this.Si||this.Rb||(this.uM=e.zda(this));e.aga(this)}static fb(a,
f,c){return d.F(d.OA,a,f,c)}mc(){if(this.TH()&&!this.Si&&!this.Rb&&!this.pja){const a=this.Ma.PG(this);a&&a.dga(this)}}Aj(){return this.Qy}Qa(){return this.$c}ut(){return this.Qa()}Ah(){return!this.Qa()}TH(){return!this.Ah()}uo(){return 0===this.Oa}Fj(){return 1===this.Oa}VQ(){return 2===this.Oa}AB(){return!1}Sd(){return b}Ha(){!this.TH()||this.Si||this.Rb||this.Fh(this.Cb)}Af(){return!0}*Gb(a){this.Ha(a)}Fh(a){this.uo()?"number"!==typeof a&&(a=parseFloat(a)):this.Fj()?"string"!==typeof a&&(a=a.toString()):
this.VQ()&&(a=a?1:0);this.JX?this.de=a:this.Yd.kt()[this.uM]=a}Ab(){return this.JX?this.de:this.Yd.kt()[this.uM]}W8(){this.de=this.Cb}GU(){return{configurable:!1,enumerable:!0,get:this.Sja,set:this.Uja}}}}
{"use strict";const d=self.D,b=[];d.LP=class extends d.za{constructor(a,f,c){super();const e=a.Ba();this.Gd=a;this.Ma=e;this.j=a.N();this.$c=f;this.By=null;this.jja=c[1];this.hc=!0}static fb(a,f,c){return d.F(d.LP,a,f,c)}mc(){this.By=this.Ma.dQ(this.jja);this.Gd.Uaa(this);let a=this.Qa();for(;a;)a instanceof d.im&&a.xk&&a.Maa(this),a=a.Qa();this.qT();this.j.Ob&&this.Gd.Ck.children.push(this.By.Ck)}Qa(){return this.$c}Sd(){return b}Ha(){const a=!!this.Qa(),f=this.j.Cd;a&&this.Ma.Bh(f);this.By.Ha();
a&&this.Ma.fc(f)}*Gb(){const a=!!this.Qa(),f=this.j.Cd;a&&this.Ma.Bh(f);yield*this.By.Gb();a&&this.Ma.fc(f)}Af(){return!1}qT(){let a=this.Qa();for(;a;){if(a instanceof d.im&&a.xk&&!a.zt()){this.hc=!1;return}a=a.Qa()}this.hc=!0}}}
{"use strict";const d=self.D;d.uq=class extends d.za{constructor(l){super();this.uc=l;this.j=l.N()}mc(){}static i1(l,n){return d.F([h,c,e,g,b,a][n[0]],l,n)}};class b extends d.uq{constructor(l,n){super(l);this.oe=this.j.Dw();this.Xa=this.j.ti(n[1]);this.Xa!==d.A.Ia.Ta.random&&this.Xa!==d.A.Ia.Ta.PZ||this.uc.OI()}Pa(){return this.oe.ol(this.Xa,this.oe)}}class a extends d.uq{constructor(l,n){super(l);this.Gu=null;this.SD=n[1];this.uc.OI()}mc(){const l=this.j.Ba();this.Gu=l.eB(this.SD);this.SD=null;
const n=this.Gu.Ef();this.Sm=[...new Set([...this.uc.Ef().ie(),...n.ie()])];this.Sm=l.sC(this.Sm)}Pa(){const l=this.Gu;if(l.Hf())return d.im.prototype.qI.bind(l.Ef(),this.Sm,l.Bn,l.yw());{const n=l.yw();return()=>n}}}function f(l,n){if(l>=n)return l%n;0>l&&(l<=-n&&(l%=n),0>l&&(l+=n));return l}class c extends d.uq{constructor(l,n){super(l);this.T=this.j.jg(n[1]);this.Xa=this.j.ti(n[2]);this.pz=!!n[3];this.Ee=this.j.Ba().zd();this.uc.OJ(this.T)}Pa(){return this.T.ac().ol(this.Xa,this.T.Xk().ya)}Hb(){const l=
this.T,n=l.ka().cH();var p=n.length;if(0===p)return this.pz?"":0;p=f(this.uc.uv,p);this.Ee.Cf().C9(l);return this.Xa.apply(n[p].ya,[])}}class e extends d.uq{constructor(l,n){super(l);this.T=this.j.jg(n[1]);this.BZ=n[3];this.pz=!!n[2];this.uc.OJ(this.T)}Jg(){const l=this.T.ka().cH();var n=l.length;if(0===n)return this.pz?"":0;n=f(this.uc.uv,n);return l[n].AU(this.BZ)}fo(){var l=this.T,n=l.ka().cH(),p=n.length;if(0===p)return this.pz?"":0;p=f(this.uc.uv,p);n=n[p];l=n.P().dH(l.Pi);return n.AU(this.BZ+
l)}}class h extends d.uq{constructor(l,n){super(l);this.T=this.j.jg(n[1]);this.Ed=this.T.TA(n[2]);this.ak=this.T.vw(n[2]);this.Xa=this.j.ti(n[3]);this.pz=!!n[4];this.Ee=this.j.Ba().zd();this.uc.OJ(this.T)}}class g extends d.uq{constructor(l,n){super(l);this.Bc=null;this.kL=n[1]}mc(){this.Bc=this.j.Ba().bH(this.kL)}}}
{"use strict";const d=self.D;d.mg=class extends d.za{constructor(t,A,y){super();this.uc=t;this.hb=y;this.Oa=A;this.ma=null;this.Rb=this.ag=!1}static fb(t,A,y){const C=A[0];return d.F([a,f,p,e,g,c,l,a,e,e,q,r,p,x,f,n,h,w,u][C],t,C,y,A)}mc(){}OI(){this.ag=!0}OJ(t){this.ag||!t||t.ac().rp||(this.ag=!0)}Ua(){return this.hb}N(){return this.uc.N()}Ef(){return this.uc.Ef()}};function b(t){t=self.u0[t];if(!t)throw Error("invalid expression number");return t}class a extends d.mg{constructor(t,A,y,C){super(t,
A,y);this.uv=0;t=C[1];this.mL=t[0];this.jv=[];this.JD=null;for(let F=1,H=t.length;F<H;++F)this.jv.push(d.uq.i1(this,t[F]));this.jv.length?this.ma=this.s3:(this.ma=b(this.mL),this.Rb=!0)}J(t){if(0>t||t>=this.jv.length)throw new RangeError("invalid numbered node");return this.jv[t]}mc(){for(var t of this.jv)t.mc();t=b(this.mL);this.JD=this.jv.length?t(this):t}s3(t){this.uv=t;return this.JD()}}class f extends a{constructor(t,A,y,C){super(t,A,y,C);this.ma=this.i4;14===A&&(this.Ef().k9(),this.uc instanceof
d.vA&&this.Ef().kx())}i4(t){this.uv=t;t=this.JD();return"string"===typeof t?t:""}sda(){return b(this.mL)()}}class c extends a{constructor(t,A,y,C){super(t,A,y,C);this.ma=this.xa;this.Rb=!1}xa(t){this.uv=t;t=this.JD();return this.N().$a().xa(t)}}class e extends d.mg{constructor(t,A,y,C){super(t,A,y);this.Wia=C[1];this.ma=this.i3;this.Rb=!0}i3(){return this.Wia}}class h extends d.mg{constructor(t,A,y,C){super(t,A,y);this.Pia=C[1];this.ma=this.f3;this.Rb=!0}f3(){return this.Pia}}class g extends d.mg{constructor(t,
A,y,C){super(t,A,y);this.T=this.N().jg(C[1]);this.ma=this.P;t=this.Ef();t.DT(this.T);this.uc instanceof d.vA?t.kx():t.Qa()&&t.Qa().kx();this.Rb=!0}P(){return this.T}}class l extends d.mg{constructor(t,A,y,C){super(t,A,y);this.mn=this.N().ob.nt(C[1]);this.ma=this.Kd;this.Rb=!0}Kd(){return this.mn}}class n extends d.mg{constructor(t,A,y,C){super(t,A,y);this.Qp=this.N().Yb.pB(C[1]);this.ma=this.Lc;this.Rb=!0}Lc(){return this.Qp}}class p extends d.mg{constructor(t,A,y,C){super(t,A,y);this.eja=C[1];this.ma=
this.v3;this.Rb=!0}v3(){return this.eja}}class q extends d.mg{constructor(t,A,y,C){super(t,A,y);this.RX=C[1];(t=this.uc.P())&&t.lb?(this.ma=this.t3,this.OI()):(this.ma=this.K3,this.Rb=!0)}K3(){return this.RX}t3(t){t=t||0;const A=this.uc.P();var y=A.ka();const C=y.Ca();if(C.length)t=C[t%C.length].P();else if(y.w4())y=y.Gc,t=y[t%y.length].P();else if(0<A.M.length)y=A.Ca(),t=y[t%y.length].P();else return 0;return this.RX+t.dH(A.Pi)}}class r extends d.mg{constructor(t,A,y,C){super(t,A,y);this.kL=C[1];
this.Bc=null;this.ma=this.r3;this.Rb=!0}mc(){this.Bc=this.N().Ba().bH(this.kL)}r3(){return this.Bc}}class w extends d.mg{constructor(t,A,y,C){super(t,A,y);this.vX=C[1];this.Gu=null;this.ma=this.E3;this.Rb=!0}mc(){this.Gu=this.N().Ba().eB(this.vX);this.vX=null}E3(){return this.Gu}}class x extends d.mg{constructor(t,A,y,C){super(t,A,y);this.uN=[];this.CZ=[];this.Rb=!0;for(let F=1,H=C.length;F<H;++F)t=d.mg.fb(this.uc,C[F],0),this.uN.push(t),this.CZ.push(0),t.Rb||(this.Rb=!1);this.ma=this.n4}mc(){for(const t of this.uN)t.mc()}n4(){const t=
this.uN,A=this.CZ;for(let y=0,C=t.length;y<C;++y)A[y]=t[y].ma(0);return A}}class u extends d.mg{constructor(t,A,y,C){super(t,A,y);this.aja=C[1];this.ma=this.io;this.Rb=!0}io(){return this.aja}}}
{"use strict";const d=self.D;function b(c,e){for(let h=0,g=c.length;h<g;++h)e[h]=c[h].ma(0)}const a=[],f=function(){};d.uP=class extends d.za{constructor(c,e,h){super();this.Qe=c;this.j=c.N();this.hb=h;this.Xa=this.j.ti(e[1]);this.$L=0<e[3];this.VX=2===e[3];this.nE=!!e[4];this.Ri=!!e[5];this.Si=!!e[6];this.jb=e[7];this.WX=this.Qe.Ge;this.Ed=this.T=null;this.ak=-1;this.oe=null;this.Gb=this.Ha=f;this.Ya=[];this.Qb=[];this.Om=!1;this.gj=this.Xb=null;this.cb=this.j.Ob?{Id:e[8][0],Bg:e[8][1]}:null;-1===
e[0]?this.oe=this.j.Dw():(this.T=this.j.jg(e[0]),e[2]&&(this.Ed=this.T.TA(e[2]),this.ak=this.T.vw(e[2])),this.Qe.Qa()&&this.Qe.Qa().kx());if(10===e.length){c=e[9];for(let g of c)this.Ya.push(d.mg.fb(this,g,this.Ya.length)),this.Qb.push(0)}0===this.Ya.length&&(this.Qb=this.Ya=a);this.Qe.Ba().Zfa(this)}static fb(c,e,h){return d.F(d.uP,c,e,h)}mc(){for(const c of this.Ya)c.mc(),c.ag&&(this.Om=!0);this.VX?(this.Ha=this.yga,this.Gb=this.lca):this.oe?(this.lK(),this.Gb=this.sJ):this.T.ac().rp?(this.jK(),
this.Gb=this.rJ):this.Si?(this.Ha=this.Fga,this.Gb=this.sca):(this.Ha=this.GV,this.Gb=this.mca)}lK(){this.Ox(this.oe,this.oe,this.dK)}jK(){const c=this.T.ac(),e=this.T.Xk().ya;this.Ox(c,e,this.cK)}Ox(c,e,h){const g=this.Xa,l=this.Ri,n=this.Ya;if(0===n.length){const p=c.ol(g,e);this.Ha=l?function(){return d.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.Rb)this.Ha=c.oU(g,e,p.ma(0));else{const q=c.ol(g,e);this.Ha=function(){return d.xor(q(p.ma(0)),l)}}}else if(2===n.length){const p=n[0],
q=n[1];if(!l&&p.Rb&&q.Rb)this.Ha=c.pU(g,e,p.ma(0),q.ma(0));else{const r=c.ol(g,e);this.Ha=function(){return d.xor(r(p.ma(0),q.ma(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],r=n[2];if(!l&&p.Rb&&q.Rb&&r.Rb)this.Ha=c.qU(g,e,p.ma(0),q.ma(0),r.ma(0));else{const w=c.ol(g,e);this.Ha=function(){return d.xor(w(p.ma(0),q.ma(0),r.ma(0)),l)}}}else this.Ha=h}P(){return this.T}oi(){return this.Ed}Ef(){return this.Qe}N(){return this.j}Ua(){return this.hb}aQ(){return this.Ua()}Lq(){return this.$L}Af(){return!this.cb.Id&&
!this.j.Jc()&&!this.cb.Bg}Ze(){this.Xb||(this.Xb=new Map);return this.Xb}xt(){this.gj||(this.gj=new Map);return this.gj}dK(){const c=this.Qb;b(this.Ya,c);return d.xor(this.Xa.apply(this.oe,c),this.Ri)}*sJ(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){var c=this.Qb;b(this.Ya,c);c=this.Xa.apply(this.oe,c);d.to(c)&&(c=yield*c);return d.xor(c,this.Ri)}return this.Ha()}cK(){const c=this.Qb;b(this.Ya,c);const e=this.T.Xk().ya;return d.xor(this.Xa.apply(e,c),this.Ri)}*rJ(){if(this.cb.Id||this.j.Jc())yield this;
if(this.cb.Bg){var c=this.Qb;b(this.Ya,c);const e=this.T.Xk().ya;c=this.Xa.apply(e,c);d.to(c)&&(c=yield*c);return d.xor(c,this.Ri)}return this.Ha()}yga(){return!0}*lca(){if(this.cb.Id||this.j.Jc())yield this;return!0}Fga(){var c=this.Qb;b(this.Ya,c);c=this.Xa.apply(this.Ed||this.T,c);this.T.Fc();return c}*sca(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){var c=this.Qb;b(this.Ya,c);c=this.Xa.apply(this.Ed||this.T,c);d.to(c)&&(c=yield*c);this.T.Fc();return c}return this.Ha()}GV(){const c=this.Ya,
e=this.Qb,h=this.T.ka();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.ag||(e[g]=n.ma(0))}return h.wc?this.zga(h):this.Aga(h)}*mca(){if(this.cb.Id||this.j.Jc())yield this;return this.GV()}CJ(c){const e=this.Ya,h=this.Qb;for(let g=0,l=e.length;g<l;++g){const n=e[g];n.ag&&(h[g]=n.ma(c))}}zga(c){const e=this.T,h=e.lb,g=e.Pi,l=this.ak,n=0<=l,p=e.Ca(),q=this.Om,r=this.Qb,w=this.Xa,x=this.Ri,u=this.WX&&!this.$L;c.BA();for(let A=0,y=p.length;A<y;++A){const C=p[A];q&&this.CJ(A);var t=void 0;n?(t=h?C.P().xq(g):
0,t=w.apply(C.Dd[l+t].ya,r)):t=w.apply(C.ya,r);d.xor(t,x)?c.er(C):u&&c.To(C)}e.pw(!0);c.ff(!1);e.Fc();return c.BH()}Aga(c){const e=this.T;var h=e.lb;const g=e.Pi,l=e.Tc(),n=this.ak,p=0<=n,q=this.Om,r=this.Qb,w=this.Xa,x=this.Ri,u=this.WX&&!this.$L,t=c.M,A=c.Gc,y=u&&!this.Qe.U5(this),C=y?A:t;let F=0,H=!1;for(let M=0,P=C.length;M<P;++M){const S=C[M];q&&this.CJ(M);var J=void 0;p?(J=h?S.P().xq(g):0,J=w.apply(S.Dd[n+J].ya,r)):J=w.apply(S.ya,r);d.xor(J,x)?(H=!0,y?(t.push(S),l&&S.Vfa()):(C[F]=S,l&&S.Oha(F),
++F)):y?(C[F]=S,l&&S.Nha(F),++F):u&&(A.push(S),l&&S.Ufa())}d.Ke(C,F);l&&e.oia(y,F);h=H;y&&!H&&(H=this.Mfa(t));e.pw(h||u);return u?H:c.BH()}Mfa(c){var e=this.T;const h=e.lb;e=e.Pi;const g=this.Om,l=this.ak,n=0<=l,p=this.Qb,q=this.Xa,r=this.Ri;for(let x=0,u=c.length;x<u;++x){var w=c[x];g&&this.CJ(x);if(n){const t=h?w.P().xq(e):0;w=q.apply(w.Dd[l+t].ya,p)}else w=q.apply(w.ya,p);if(d.xor(w,r))return!0}return!1}Ww(c,e){return this.Ya[c].ma(e)}u3(){const c=this.Ya;if(!c.length)throw Error("no parameters");
return c[0].sda()}Da(){if(!this.Xb||!this.Xb.size)return null;const c={};for(const [e,h]of this.Xb.entries()){let g=h;"collmemory"===e&&(g=[...h.entries()].map(l=>[l[0].zb,l[1].zb,l[2]]));c[e]=g}return{ex:c}}Ka(c){this.Xb&&(this.Xb.clear(),this.Xb=null);if(c){var e=this.j,h=c.ex;if(h){c=this.Ze();c.clear();for(const [g,l]of Object.entries(h))h=l,"collmemory"===g&&(h=d.F(d.Qw,l.map(n=>[e.ue(n[0]),e.ue(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,h)}}}}}
{"use strict";const d=self.D;function b(e,h){for(let g=0,l=e.length;g<l;++g)h[g]=e[g].ma(0)}const a=[],f=function(){},c=function*(){};d.vA=class extends d.za{constructor(e,h,g){super();this.Qe=e;this.j=e=e.N();this.hb=g;this.jb=4<=h.length?h[3]:-1;this.YC=5<=h.length?h[4]:0;this.Ed=this.T=this.Xa=null;this.ak=-1;this.oe=null;this.rD="";this.Sm=this.qD=null;this.Gb=this.Ha=f;this.Ya=[];this.Qb=[];this.Om=!1;this.gj=this.Xb=null;const l=(g=-3===h[0])?h[2]:h[5];this.cb=e.Ob||g?{Id:l[0],Bg:l[1],index:l[2]}:
null;-1===h[0]?(this.oe=e.Dw(),this.Xa=e.ti(h[1])):-2===h[0]?this.rD=h[1]:g?(this.Xa=e.ti(h[1]),this.Ha=this.rI,this.Gb=this.w1,this.YC=1):(this.Xa=e.ti(h[1]),this.T=e.jg(h[0]),h[2]&&(this.Ed=this.T.TA(h[2]),this.ak=this.T.vw(h[2])));if(7===h.length){h=h[6];for(const n of h)this.Ya.push(d.mg.fb(this,n,this.Ya.length)),this.Qb.push(0)}0===this.Ya.length&&(this.Qb=this.Ya=a);this.Qe.Ba().Yfa(this)}static fb(e,h,g){return d.F(d.vA,e,h,g)}mc(){for(var e of this.Ya)e.mc(),e.ag&&(this.Om=!0);if(this.oe)this.lK(),
this.Gb=this.sJ;else if(this.rD)this.gha(),this.rD="";else if(this.Ha===this.rI){e=this.Xa;const h=this.j.Ba().CU(this.Qe);this.Xa=e.bind(null,this.j.vk,h)}else this.Ed?this.yh()?(this.Ha=this.EV,this.Gb=this.ica):(this.Ha=this.DV,this.Gb=this.hca):this.T.ac().rp?(this.jK(),this.Gb=this.rJ):this.yh()?(this.Ha=this.IV,this.Gb=this.oca):this.Ya.length?this.Ya.every(h=>h.ag)?(this.Ha=this.HV,this.Gb=this.nca):this.Om?(this.Ha=this.KV,this.Gb=this.qca):this.Ya.every(h=>h.Rb)?(b(this.Ya,this.Qb),this.Ha=
this.bK,this.Gb=this.QT):(this.Ha=this.JV,this.Gb=this.pca):(this.Ha=this.bK,this.Gb=this.QT)}lK(){this.Ox(this.oe,this.oe,this.dK)}jK(){const e=this.T.ac(),h=this.T.Xk().ya;this.Ox(e,h,this.cK)}gha(){const e=this.Qe.Ba(),h=e.eB(this.rD);h.Hf()?(this.qD=h.Ef(),this.Sm=[...new Set([...this.Qe.ie(),...this.qD.ie()])],this.Sm=e.sC(this.Sm),this.Ha=d.im.prototype.Z8.bind(this.qD,this.Sm,this.Ya),this.Gb=this.jca):(this.Ha=f,this.Gb=c)}Ox(e,h,g){const l=this.Xa,n=this.Ya;if(0===n.length)this.Ha=e.ol(l,
h);else if(1===n.length){const p=n[0];if(p.Rb)this.Ha=e.oU(l,h,p.ma(0));else{const q=e.ol(l,h);this.Ha=function(){return q(p.ma(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.Rb&&q.Rb)this.Ha=e.pU(l,h,p.ma(0),q.ma(0));else{const r=e.ol(l,h);this.Ha=function(){return r(p.ma(0),q.ma(0))}}}else if(3===n.length){const p=n[0],q=n[1],r=n[2];if(p.Rb&&q.Rb&&r.Rb)this.Ha=e.qU(l,h,p.ma(0),q.ma(0),r.ma(0));else{const w=e.ol(l,h);this.Ha=function(){return w(p.ma(0),q.ma(0),r.ma(0))}}}else this.Ha=g}yh(){return 1===
this.YC}mP(){return 2===this.YC}E4(){return 0!==this.YC}P(){return this.T}Ef(){return this.Qe}N(){return this.j}Ua(){return this.hb}aQ(){return this.cb.index}Af(){return!this.cb.Id&&!this.j.Jc()&&!this.cb.Bg}Ze(){this.Xb||(this.Xb=new Map);return this.Xb}xt(){this.gj||(this.gj=new Map);return this.gj}dK(){const e=this.Qb;b(this.Ya,e);return this.Xa.apply(this.oe,e)}*sJ(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){const e=this.Qb;b(this.Ya,e);return yield*this.Xa.apply(this.oe,e)}return this.Ha()}*jca(){if(this.cb.Id||
this.j.Jc())yield this;return yield*this.qD.r1(this.Sm,this.Ya)}cK(){const e=this.Qb;b(this.Ya,e);return this.Xa.apply(this.T.Xk().ya,e)}*rJ(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){const e=this.Qb;b(this.Ya,e);return yield*this.Xa.apply(this.T.Xk().ya,e)}return this.Ha()}bK(){const e=this.Qb,h=this.T.ka().Ca();for(let g=0,l=h.length;g<l;++g)this.Xa.apply(h[g].ya,e)}*QT(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){const e=this.Qb,h=this.T.ka().Ca();for(let g=0,l=h.length;g<
l;++g)yield*this.Xa.apply(h[g].ya,e)}else this.bK()}JV(){const e=this.Qb;b(this.Ya,e);const h=this.T.ka().Ca();for(let g=0,l=h.length;g<l;++g)this.Xa.apply(h[g].ya,e)}*pca(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){const e=this.Qb;b(this.Ya,e);const h=this.T.ka().Ca();for(let g=0,l=h.length;g<l;++g)yield*this.Xa.apply(h[g].ya,e)}else this.JV()}HV(){const e=this.Ya,h=this.Qb,g=this.Xa,l=this.T.ka().Ca();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let r=0,w=e.length;r<w;++r)h[r]=e[r].ma(n);
g.apply(q.ya,h)}}*nca(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){const e=this.Ya,h=this.Qb,g=this.Xa,l=this.T.ka().Ca();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let r=0,w=e.length;r<w;++r)h[r]=e[r].ma(n);yield*g.apply(q.ya,h)}}else this.HV()}KV(){const e=this.Ya,h=this.Qb,g=this.Xa,l=this.T.ka().Ca();for(let p=0,q=e.length;p<q;++p){var n=e[p];n.ag||(h[p]=n.ma(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let r=0,w=e.length;r<w;++r){const x=e[r];x.ag&&(h[r]=x.ma(p))}g.apply(n.ya,
h)}}*qca(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){const h=this.Ya,g=this.Qb,l=this.Xa,n=this.T.ka().Ca();for(let p=0,q=h.length;p<q;++p){var e=h[p];e.ag||(g[p]=e.ma(0))}for(let p=0,q=n.length;p<q;++p){e=n[p];for(let r=0,w=h.length;r<w;++r){const x=h[r];x.ag&&(g[r]=x.ma(p))}yield*l.apply(e.ya,g)}}else this.KV()}DV(){var e=this.T;const h=e.lb,g=e.Pi,l=this.Ya,n=this.Om,p=this.Qb,q=this.Xa,r=this.ak;e=e.ka().Ca();for(let u=0,t=l.length;u<t;++u){var w=l[u];w.ag||(p[u]=w.ma(0))}for(let u=
0,t=e.length;u<t;++u){w=e[u];if(n)for(let A=0,y=l.length;A<y;++A){var x=l[A];x.ag&&(p[A]=x.ma(u))}x=h?w.P().xq(g):0;q.apply(w.Dd[r+x].ya,p)}}*hca(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){var e=this.T;const l=e.lb,n=e.Pi,p=this.Ya,q=this.Om,r=this.Qb,w=this.Xa,x=this.ak;e=e.ka().Ca();for(let u=0,t=p.length;u<t;++u){var h=p[u];h.ag||(r[u]=h.ma(0))}for(let u=0,t=e.length;u<t;++u){h=e[u];if(q)for(let A=0,y=p.length;A<y;++A){var g=p[A];g.ag&&(r[A]=g.ma(u))}g=l?h.P().xq(n):0;yield*w.apply(h.Dd[x+
g].ya,r)}}else this.DV()}IV(){const e=this.Ya,h=this.Qb,g=this.Xa,l=this.T.ka().Ca(),n=[];for(let p=0,q=l.length;p<q;++p){const r=l[p];for(let w=0,x=e.length;w<x;++w)h[w]=e[w].ma(p);n.push(g.apply(r.ya,h))}return Promise.all(n)}*oca(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){const e=this.Ya,h=this.Qb,g=this.Xa,l=this.T.ka().Ca(),n=[];for(let p=0,q=l.length;p<q;++p){const r=l[p];for(let w=0,x=e.length;w<x;++w)h[w]=e[w].ma(p);n.push(yield*g.apply(r.ya,h))}return Promise.all(n)}return this.IV()}EV(){var e=
this.T;const h=e.lb,g=e.Pi,l=this.Ya,n=this.Qb,p=this.Xa,q=this.ak;e=e.ka().Ca();const r=[];for(let w=0,x=e.length;w<x;++w){const u=e[w];for(let A=0,y=l.length;A<y;++A)n[A]=l[A].ma(w);const t=h?u.P().xq(g):0;r.push(p.apply(u.Dd[q+t].ya,n))}return Promise.all(r)}*ica(){if(this.cb.Id||this.j.Jc())yield this;if(this.cb.Bg){var e=this.T;const h=e.lb,g=e.Pi,l=this.Ya,n=this.Qb,p=this.Xa,q=this.ak;e=e.ka().Ca();const r=[];for(let w=0,x=e.length;w<x;++w){const u=e[w];for(let A=0,y=l.length;A<y;++A)n[A]=
l[A].ma(w);const t=h?u.P().xq(g):0;r.push(yield*p.apply(u.Dd[q+t].ya,n))}return Promise.all(r)}return this.EV()}async rI(){try{await this.Xa()}catch(e){console.error(`Unhandled exception running script %c${this.Qe.Gd.ra}, event ${this.Qe.xu}, action ${this.aQ()+1}:`,"font-size: 1.2em; font-weight: bold;",e),self.Hg&&self.Hg.Bha(this),d.NA.s4()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),d.NA.J9())}}*w1(){if(this.cb.Id||this.j.Jc())yield this;return this.rI()}Da(){return this.Xb&&this.Xb.size?{ex:d.XI(this.Xb)}:null}Ka(e){this.Xb&&(this.Xb.clear(),this.Xb=null);e&&(e=e.ex)&&(this.Xb=d.QG(e))}}}
{"use strict";const d=self.D,b=new d.ub;function a(L,O){return d.compare(this.C().K(),L,O)}function f(L,O){return d.compare(this.C().L(),L,O)}function c(){const L=this.C();return L.cR(L.xa().se,L.Kd().MQ())}function e(){var L=this.C();const O=L.Kd();L=L.Kc();return 0>L.ca||0>L.ba||L.X>O.R()||L.U>O.S()}function h(L,O,W){const aa=this.ka(),fa=aa.Ca();if(!fa.length)return!1;let ha=fa[0];var ia=ha.C();let ka=ha,ta=d.UZ(ia.K(),ia.L(),O,W);for(let va=1,za=fa.length;va<za;++va)if(ha=fa[va],ia=ha.C(),ia=
d.UZ(ia.K(),ia.L(),O,W),0===L&&ia<ta||1===L&&ia>ta)ta=ia,ka=ha;aa.Bo(ka);return!0}function g(L){const O=this.C();O.K()!==L&&(O.og(L),O.W())}function l(L){const O=this.C();O.L()!==L&&(O.pg(L),O.W())}function n(L,O){const W=this.C();W.OG(L,O)||(W.mb(L,O),W.W())}function p(L,O){if(L&&(L=L.b4(this.H))){var [W,aa]=L.Pk(O);O=this.C();if(O.K()!==W||O.L()!==aa)O.mb(W,aa),O.W()}}function q(L){if(0!==L){var O=this.C();O.Ld(O.XG()*L,O.wH()*L);O.W()}}function r(L,O){if(0!==O){var W=this.C();L=d.Ga(L);W.Ld(Math.cos(L)*
O,Math.sin(L)*O);W.W()}}function w(){return this.C().K()}function x(){return this.C().L()}function u(){return this.j.ri(this.H)}function t(L,O){return d.compare(this.C().R(),L,O)}function A(L,O){return d.compare(this.C().S(),L,O)}function y(L){const O=this.C();O.R()!==L&&(O.Ae(L),O.W())}function C(L){const O=this.C();O.S()!==L&&(O.df(L),O.W())}function F(L,O){const W=this.C();if(W.R()!==L||W.S()!==O)W.zc(L,O),W.W()}function H(){return this.C().R()}function J(){return this.C().S()}function M(){return this.C().Kc().X}
function P(){return this.C().Kc().U}function S(){return this.C().Kc().ca}function T(){return this.C().Kc().ba}function V(L,O){return d.Rs(this.C().$(),d.Ga(O))<=d.Ga(L)}function ba(L){return d.Ye(this.C().$(),d.Ga(L))}function ea(L,O){L=d.Ga(L);O=d.Ga(O);const W=this.C().$();return d.Ye(O,L)?d.Ye(W,L)&&!d.Ye(W,O):!(!d.Ye(W,L)&&d.Ye(W,O))}function X(L){const O=this.C();L=d.Pc(d.Ga(L));isNaN(L)||O.$()===L||(O.yc(L),O.W())}function na(L){if(!isNaN(L)&&0!==L){var O=this.C();O.yc(O.$()+d.Ga(L));O.W()}}
function ja(L){if(!isNaN(L)&&0!==L){var O=this.C();O.yc(O.$()-d.Ga(L));O.W()}}function xa(L,O){const W=this.C(),aa=W.$();L=d.VN(aa,d.Ga(O),d.Ga(L));isNaN(L)||aa===L||(W.yc(L),W.W())}function Ja(L,O,W){const aa=this.C(),fa=aa.$();O-=aa.K();W-=aa.L();L=d.VN(fa,Math.atan2(W,O),d.Ga(L));isNaN(L)||fa===L||(aa.yc(L),aa.W())}function Va(L,O){const W=this.C(),aa=W.$();L-=W.K();O-=W.L();O=Math.atan2(O,L);isNaN(O)||aa===O||(W.yc(O),W.W())}function Na(){return d.yd(this.C().$())}function Wa(L,O){return d.compare(d.Ws(100*
this.C().he()),L,O)}function Oa(){return this.C().xe()}function Ca(L){const O=this.C();L=2===L?!O.xe():0!==L;O.xe()!==L&&(O.Gh(L),this.j.ea())}function Aa(L){L=d.ia(L/100,0,1);const O=this.C();O.he()!==L&&(O.Kf(L),this.j.ea())}function Ka(L){b.pA(L);L=this.C();L.Nb.hq(b)||(L.bT(b),this.j.ea())}function Ha(){const L=this.C().Nb;return d.RB(L.pb,L.Fa,L.nb,L.ib)}function Xa(){return d.Ws(100*this.C().he())}function Ya(L){return L?this.C().xa()===L:!1}function Za(L){const O=this.ka(),W=O.Ca();if(!W.length)return!1;
let aa=W[0];for(let fa=1,ha=W.length;fa<ha;++fa){const ia=W[fa],ka=ia.C(),ta=aa.C(),va=ka.xa().Ua(),za=ta.xa().Ua();if(0===L){if(va>za||va===za&&ka.$k()>ta.$k())aa=ia}else if(va<za||va===za&&ka.$k()<ta.$k())aa=ia}O.Bo(aa);return!0}function La(L,O,W){const aa=this.C();L=0===L?aa.kb():aa.Zk();return d.compare(L,O,W)}function $a(){this.C().Haa()}function ab(){this.C().Faa()}function bb(L){L&&this.C().Gaa(L)}function cb(L,O){L=0===L;O&&(O=O.Lg(this.Ra()))&&this.C().Eaa(O,L)}function db(L){const O=this.C();
O.kb()!==L&&(O.ef(L),this.j.ea())}function eb(){return this.C().xa().Ua()}function fb(){return this.C().xa().ra}function Ma(){return this.C().$k()}function gb(){return this.C().kb()}function hb(){return this.C().Zk()}function ib(L,O){if(O=this.P().eb.mm(O)){O=O.Ua();L=1===L;var W=this.C().kf;W.Nw(O)!==L&&(W.LS(O,L),W.Po(),this.j.ea())}}function jb(L,O,W){var aa=this.P().eb.mm(L);if(aa){L=aa.Ua();var fa=this.C().kf,ha=fa.rh(L);O=Math.floor(O);if(!(0>O||O>=ha.length)){aa=aa.Db.jB(O);if("color"===aa){b.pA(W);
O=ha[O];if(b.hq(O))return;O.Tn(b)}else{"percent"===aa&&(W/=100);if(ha[O]===W)return;ha[O]=W}fa.Nw(L)&&this.j.ea()}}}function kb(){return this.C().al()}function lb(){return this.C().kg()}function mb(L,O){const W=this.ka().Ca();if(0===W.length)return!1;const aa=L.ka();var fa=aa.Ca();if(0===fa.length)return!1;fa=new Set(fa);const ha=new Set;for(let ka=0,ta=W.length;ka<ta;++ka){var ia=W[ka];if(1===O)for(const va of ia.jA())va.gt(L)&&fa.has(va)&&ha.add(va);else{if(0===O){if(ia=ia.Qa(),null===ia)continue}else ia=
ia.qB();ia.gt(L)&&fa.has(ia)&&ha.add(ia)}}if(0===ha.size)return!1;aa.jx(ha);L.Fc();return!0}function nb(L,O){const W=this.ka().Ca();if(0===W.length)return!1;const aa=L.ka();var fa=aa.Ca();if(aa.wc){var ha=[...this.j.kO(L)];0<ha.length&&(fa=fa.concat(ha))}if(0===fa.length)return!1;fa=new Set(fa);ha=new Set;for(let ia=0,ka=W.length;ia<ka;++ia){const ta=W[ia];2===O&&!ta.kg()&&ta.gt(L)&&fa.has(ta)&&ha.add(ta);for(const va of 0===O?ta.children():ta.aq())2===O&&va.kg()||va.gt(L)&&fa.has(va)&&ha.add(va)}if(0===
ha.size)return!1;aa.jx(ha);L.Fc();return!0}function ob(L,O){const W=this.ka().Ca();if(0===W.length)return!1;const aa=L.ka();var fa=aa.Ca();if(aa.wc){var ha=[...this.j.kO(L)];0<ha.length&&(fa=fa.concat(ha))}if(0===fa.length)return!1;fa=new Set(fa);ha=[];for(let ia=0,ka=W.length;ia<ka;++ia){const ta=W[ia].WG(O);null!==ta&&ta.gt(L)&&fa.has(ta)&&ha.push(ta)}if(0===ha.length)return!1;aa.Yw(ha);L.Fc();return!0}function pb(L,O){return d.compare(this.H.XA(),L,O)}function qb(L,O,W,aa,fa,ha,ia,ka){const ta=
this.H,va=this.j.ww().P();for(const za of L.JZ(ta,va)){if(!za.ac().rZ)break;ta.eo(za,{Xv:O,Yv:W,ct:aa,bt:fa,Wv:ha,Zv:ia,Zz:ka})}}function rb(L){const O=this.H,W=this.j.ww().P();for(const aa of L.JZ(O,W))O.gl(aa)}function oa(){this.H.al()&&this.H.Qa().gl(this.H)}function ya(){return this.H.XA()}function vb(L,O){L=Math.floor(L);O=Math.floor(O);const W=this.C();2>L||2>O||!isFinite(L)||!isFinite(O)?(W.WB(),W.W()):W.HG(L,O)}function wb(L,O,W,aa,fa,ha,ia,ka){const ta=this.C();ta.TS(L,O,{mode:0===W?"absolute":
"relative",x:aa,y:fa,uA:ha,E_:ia,F_:ka})&&ta.W()}function xb(){const L=this.C();return L.Pg()?L.Yk().Bl:0}function yb(){const L=this.C();return L.Pg()?L.Yk().Sl:0}function zb(L){const O=this.C();L=2===L?!O.xe():0!==L;O.xe()!==L&&O.Gh(L)}function Ab(L,O){this.A9(L,O)}function Pa(L,O){this.z9(L,""+O)}function Qa(L){this.F8(L)}function Ra(){this.RP()}function Sa(){this.gP()}function Ia(){return this.hL}function k(L){this.Oe(0!==L)}function m(){return this.V}function v(L,O,W){return d.compare(this.Ra().Ff(L),
O,W)}function z(L){return!!this.Ra().Ff(L)}function B(L,O){const W=this.ka(),aa=W.Ca();if(!aa.length)return!1;let fa=aa[0],ha=fa,ia=fa.Ff(O);for(let ka=1,ta=aa.length;ka<ta;++ka){fa=aa[ka];const va=fa.Ff(O);if(0===L&&va<ia||1===L&&va>ia)ia=va,ha=fa}W.Bo(ha);return!0}function E(L){if(this.j.hg().Ri){{const aa=this.ka();if(aa.wc){aa.ff(!1);aa.BA();var O=this.Ca();for(let fa=0,ha=O.length;fa<ha;++fa){var W=O[fa];W.zb===L?aa.To(W):aa.er(W)}this.Fc();L=!!aa.M.length}else{O=aa.M;W=0;for(let fa=0,ha=O.length;fa<
ha;++fa){const ia=O[fa];O[W]=ia;ia.zb===L?aa.To(ia):++W}d.Ke(O,W);this.Fc();L=!!O.length}}}else L=G(this,L);return L}function G(L,O){O=L.N().ue(O);if(!O)return!1;const W=L.ka();if(!W.wc&&!W.M.includes(O))return!1;if(L.lb){if(O.P().wG(L))return W.Bo(O),L.Fc(),!0}else if(O.P()===L)return W.Bo(O),L.Fc(),!0;return!1}function I(){this.j.uj(this.H)}function K(){return!0}function N(){return!0}function Q(L,O){this.Ra().Ko(L,O)}function R(L,O){const W=this.Ra(),aa=W.Ff(L);"number"===typeof aa&&"number"!==
typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());W.Ko(L,aa+O)}function Y(L,O){const W=this.Ra(),aa=W.Ff(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),W.Ko(L,aa-O))}function U(L,O){this.Ra().Ko(L,O?1:0)}function da(L){const O=this.Ra();O.Ko(L,0===O.Ff(L)?1:0)}function ca(L){let O;try{O=JSON.parse(L)}catch(W){console.error("Failed to load from JSON string: ",W);return}L=this.Ra();L.eu("state");L.pc(O,"state")}function Z(){return JSON.stringify(this.Ra().xc("state"))}
function sa(){return this.Ra().P().ra}function ma(){const L=this.j.ig().nL;let O=L.M.length;for(const W of this.j.kO(L))++O;return O}function qa(){return this.j.ig().nL.ka().Ca().length}function ra(){return this.H.yq()}function pa(){return this.H.zb}d.N_=function(L,O){const W=L[1],aa=L[4],fa=L[5],ha=L[6],ia=L[7],ka=L[8],ta=L[10],va=L[11],za=L[12],Yb=L[13],Zb=L[14],ua=O.G,la=O.ta;O=O.Ta;L[3]&&(ua.W0=a,ua.Toa=f,ua.Z5=c,ua.xsa=e,ua.tua=h,la.og=g,la.pg=l,la.EI=n,la.FI=p,la.Bta=q,la.Ata=r,O.cJ=w,O.dJ=
x,O.WZ=u);aa&&(ua.V0=t,ua.Eoa=A,la.Ae=y,la.df=C,la.zc=F,O.bJ=H,O.NQ=J,O.Bna=M,O.Dna=P,O.Cna=S,O.Ana=T);fa&&(ua.d0=V,ua.P5=ba,ua.O5=ea,la.yc=X,la.uwa=na,la.vwa=ja,la.wwa=xa,la.xwa=Ja,la.vya=Va,O.hna=Na);ha&&(ua.xe=Oa,ua.Joa=Wa,la.Gh=Ca,la.Kf=Aa,la.fxa=Ka,O.Opacity=Xa,O.woa=Ha);ia&&(ua.usa=Ya,ua.Bua=Za,ua.Uoa=La,la.Dta=$a,la.R6=ab,la.Cta=bb,la.qAa=cb,la.ef=db,O.Wsa=eb,O.t6=fb,O.pAa=Ma,O.oAa=gb,O.sza=hb);ka&&(la.lxa=ib,la.mxa=jb);Yb&&(ua.al=kb,ua.kg=lb,ua.zua=mb,ua.sua=nb,ua.xua=ob,ua.Coa=pb,la.eo=qb,
la.gl=rb,la.wva=oa,O.noa=ya);Zb&&(la.iya=vb,la.TS=wb,O.xta=xb,O.yta=yb);ta&&(ua.xe=Oa,la.Gh=zb,la.Ywa=Ab,la.pxa=Pa,la.vva=Qa);va&&(ua.dsa=Ia,la.uxa=Ra,la.Uwa=Sa);za&&(ua.Hf=m,la.yi=k);W||(ua.tP=v,ua.UQ=z,ua.uua=B,ua.rua=E,la.BI=Q,la.Sma=R,la.X$=Y,la.DS=U,la.oza=da,ua.IR=K,ua.n7=N,la.FP=I,la.XH||(la.XH=ca),O.cP||(O.cP=Z),O.cpa=ma,O.Cua=qa,O.wra=ra,O.Aza=pa,O.Ota=sa)}}
{"use strict";const d=self.D;d.sI=class extends d.za{constructor(b){super();this.Ma=b;this.Oa="";this.vd=-1;this.yz="";this.tE=!1;this.nk=null;this.Yg=0;this.Xf=[];this.zs=new Map;this.Qm=null;this.Vx=-1;this.tL=this.Sh=null;this.xz=!1}B(){this.Oa="";this.vd=-1;this.yz="";this.tL=this.Sh=this.Qm=this.nk=null;this.Vx=-1;d.I(this.Xf);for(const b of this.zs.values())b.B();this.zs.clear()}Sj(){var b=this.Ma,a=b.N().Cd;const f=b.ig();this.nk=f.Ub();this.Yg=f.Yg+1;if(b=b.PG(this.nk))this.Qm=b,this.Sh=b.C0(),
this.tL=b.HL.map(c=>c.Ab()),b.yh()&&(this.Vx=b.h8());for(const c of a)if(a=c.ka(),!a.wc||this.nk.G4(c))this.Xf.push(c),this.zs.set(c,d.F(d.fT,a))}H5(b){this.Oa="timer";this.Sj();this.vd=this.Ma.N().th()+b}F5(b){this.Oa="signal";this.Sj();this.yz=b.toLowerCase()}u5(b){this.Oa="promise";this.Sj();b.then(()=>this.HI()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.HI()})}i6(){return"timer"===this.Oa}g6(){return"signal"===this.Oa}c6(){return"promise"===
this.Oa}HI(){this.tE=!0}sW(){return this.i6()?this.vd<=this.Ma.N().th():this.tE}CV(b){b.aK(this.nk,this.Yg);for(const [a,f]of this.zs.entries())f.aK(a.ka());if(b=this.Qm)b.ax(this.Sh),b.HL.map((a,f)=>a.Fh(this.tL[f])),b.yh()&&b.Y8(this.Vx)}vga(b){this.CV(b);this.nk.uga(b);this.Qm&&this.Qm.yh()&&this.Qm.Pw(this.Vx);this.Ma.ht(this.Xf);this.xz=!0}async eca(b){this.CV(b);for(const a of this.nk.dca(b))await this.Ma.N().it(a);this.Qm&&this.Qm.yh()&&this.Qm.Pw(this.Vx);this.Ma.ht(this.Xf);this.xz=!0}Pq(b){for(const a of this.zs.values())a.Pq(b)}Da(){const b=
{},a={t:this.vd,st:this.yz,s:this.tE,ev:this.nk.jb,sm:this.Xf.map(f=>f.jb),sols:b};this.nk.Oda(this.Yg)&&(a.act=this.nk.SP(this.Yg).jb);for(const [f,c]of this.zs)b[f.jb.toString()]=c.Da();return a}static Fba(b,a){const f=b.N();var c=b.p3(a.ev);if(!c)return null;let e=0;if(a.hasOwnProperty("act")){var h=b.X2(a.act);if(!h)return null;e=h.Ua()}h=d.F(d.sI,b);h.vd=a.t;h.Oa=-1===h.vd?"signal":"timer";h.yz=a.st;h.tE=a.s;h.nk=c;h.Yg=e;for(var g of a.sm)(c=f.hB(g))&&h.Xf.push(c);for(const [l,n]of Object.entries(a.sols))if(a=
f.hB(parseInt(l,10)))g=d.F(d.fT,null),g.Ka(b,n),h.zs.set(a,g);return h}}}{"use strict";const d=self.D;d.fT=class extends d.za{constructor(b){super();this.T=null;this.sE=!0;this.M=[];b&&(this.T=b.P(),this.sE=b.wc,d.fe(this.M,b.M))}B(){this.T=null;d.I(this.M)}aK(b){b.ff(this.sE);d.fe(b.M,this.M)}Pq(b){d.ji(this.M,b)}Da(){return{sa:this.sE,insts:this.M.map(b=>b.zb)}}Ka(b,a){b=b.N();this.sE=!!a.sa;d.I(this.M);for(const f of a.insts)(a=b.ue(f))&&this.M.push(a)}}}
{"use strict";const d=self.D;function b(a,f){let c=a.get(f);c||(c=new Map,a.set(f,c));return c}d.Dh=class extends d.za{constructor(a){super();this.j=a.fd;this.rp=!!a.d_;this.rg=!!a.jla;this.uja=!!a.ila;this.Eja=!!a.Bla;this.gja=!!a.Wka;this.rZ=!!a.cma;this.Xja=!!a.bma;this.hZ=null;this.TW=new Map;this.Qia=new Map;this.Ria=new Map;this.Sia=new Map}B(){this.j=null}N(){return this.j}Sb(){}Ct(){return this.uja}Ao(){return this.Eja}CH(){return this.gja}ol(a,f){if(!f)throw Error("missing 'this' binding");
let c=this.TW.get(a);if(c)return c;c=a.bind(f);this.TW.set(a,c);return c}oU(a,f,c){if(!f)throw Error("missing 'this' binding");const e=b(this.Qia,a);let h=e.get(c);if(h)return h;h=a.bind(f,c);e.set(c,h);return h}pU(a,f,c,e){if(!f)throw Error("missing 'this' binding");var h=b(this.Ria,a);h=b(h,c);let g=h.get(e);if(g)return g;g=a.bind(f,c,e);h.set(e,g);return g}qU(a,f,c,e,h){if(!f)throw Error("missing 'this' binding");var g=b(this.Sia,a);g=b(g,c);g=b(g,e);let l=g.get(h);if(l)return l;l=a.bind(f,c,e,
h);g.set(h,l);return l}Pha(a){if(!this.rp)throw Error("must be single-global plugin");this.hZ=a}Xk(){if(!this.rp)throw Error("must be single-global plugin");return this.hZ.Xk()}}}
{"use strict";const d=self.D;d.Awa=class extends d.Dh{constructor(b,a){super(b);this.jp=a;this.Ija=0;this.IL=new Map;this.YO("elem-focused",f=>f.qfa());this.YO("elem-blurred",f=>{f&&f.pfa()})}B(){super.B()}Oaa(b){const a=this.Ija++;this.IL.set(a,b);return a}jga(b){this.IL.delete(b)}YO(b,a){this.j.pj(this.jp,b,f=>{const c=this.IL.get(f.elementId);a(c,f)})}}}{"use strict";const d=self.D;d.Ij=class extends d.za{constructor(b){super();this.T=b;this.j=b.N();this.Wi=b.ac()}B(){this.Wi=this.j=this.T=null}P(){return this.T}N(){return this.j}ac(){return this.Wi}Sc(){return this.T.Sc()}pw(){}zo(){}fl(){}PB(){}dI(){}$e(){return null}}}
{"use strict";const d=self.D;d.Cm=class extends d.za{constructor(b,a){super();this.H=b;this.jp=a;this.j=b.N();this.T=this.H.P();this.Za=this.T.Za;this.Fn=this.Hn=null;this.gn=this.fn=!1;this.Xd=null;this.Pn=!1}B(){this.Pn=!0;this.Mm();this.SC();this.Fn=this.Hn=null;this.Xd&&(this.Xd.B(),this.Xd=null);this.Za=this.T=this.j=this.H=null}Xq(){return this.Pn}Ra(){return this.H}N(){return this.j}P(){return this.T}ac(){return this.Za.ac()}oB(){return this.H.si()}la(b){return this.j.la(b,this.H,null)}xb(b){return this.j.xb(b,
this.H,null)}il(b){return this.j.il(b)}pG(b,a){this.j.pj(this.jp,b,a)}XO(b){for(const [a,f]of b)this.pG(a,f)}gb(b,a){this.j.Am(this.jp,b,a)}dl(b,a){return this.j.Nq(this.jp,b,a)}Km(b,a){this.j.pf?this.gb(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.jp,handler:b,data:a,responseId:null})}Md(){}ox(){}Pe(){this.fn||(this.Hn||(this.Hn=()=>this.Md()),this.j.Mb().addEventListener("tick",this.Hn),this.fn=!0)}Mm(){this.fn&&(this.j.Mb().removeEventListener("tick",this.Hn),
this.fn=!1)}vW(){this.gn||(this.Fn||(this.Fn=()=>this.ox()),this.j.Mb().addEventListener("tick2",this.Fn),this.gn=!0)}SC(){this.gn&&(this.j.Mb().removeEventListener("tick2",this.Fn),this.gn=!1)}xc(){return null}pc(){}ec(){}ye(){}$H(b,a){if(0!==a){var f=this.ec(b);if("number"!==typeof f)throw Error("expected number");this.ye(b,f+a)}}$e(){return null}}}
{"use strict";const d=self.D;d.Xw=class extends d.Cm{constructor(b,a){super(b,a);this.Fb=b.C();this.JF=this.Iv=null}B(){if(this.Iv){const b=this.j.Mb();b.removeEventListener("webglcontextlost",this.Iv);b.removeEventListener("webglcontextrestored",this.JF);this.JF=this.Iv=null}this.Fb=null;super.B()}t4(){if(!this.Iv){this.Iv=()=>this.Gt();this.JF=()=>this.bS();var b=this.j.Mb();b.addEventListener("webglcontextlost",this.Iv);b.addEventListener("webglcontextrestored",this.JF)}}Gt(){}bS(){}C(){return this.Fb}vo(){return!1}Uk(){if(!this.vo())throw Error("original size not known");
const b=this.ge();if(b)return b.R()}Tk(){if(!this.vo())throw Error("original size not known");const b=this.ge();if(b)return b.S()}ge(){return null}ZA(){var b=this.ge();return b&&(b=b.lc())?[b.R(),b.S()]:[100,100]}$A(){const b=this.ge();return b?b.vi():null}Pk(){const b=this.H.C();return[b.K(),b.L()]}}}
{"use strict";const d=self.D,b=d.F(d.Rect);d.zwa=class extends d.Xw{constructor(a,f){super(a,f);this.FD=this.ac().Oaa(this);this.UX=!0;this.Mia=this.hL=!1;this.Xu=d.F(d.Rect,0,0,-1,-1);a=this.j.ja;this.kY=a.Xl;this.jY=a.Wl;this.Pe()}B(){this.ac().jga(this.FD);this.Ht("destroy");this.FD=-1;super.B()}Ht(a,f){f||(f={});f.elementId=this.FD;this.gb(a,f)}rV(a){a||(a={});a.elementId=this.FD;this.Km("focus",a)}cC(a){a=!!a;this.UX!==a&&(this.UX=a,this.Ht("set-visible",{isVisible:a}))}Md(){this.uia()}Yha(){const a=
this.j.ja.dB();return"Android"===d.Bb.Ft&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}uia(){var a=this.C();const f=a.xa();var c=a.K(),e=a.L();let [h,g]=f.Mq(c,e),[l,n]=f.Mq(c+a.R(),e+a.S());c=this.j.ja;e=c.Od;const p=c.Fd;if(a.xe()&&f.xe()){if(!this.Yha()){if(0>=l||0>=n||h>=e||g>=p){this.cC(!1);return}1>h&&(h=1);1>g&&(g=1);l>=e&&(l=e-1);n>=p&&(n=p-1)}b.set(h,g,l,n);a=c.Xl;e=c.Wl;b.xd(this.Xu)&&this.kY===a&&this.jY===e?this.cC(!0):(this.Xu.Na(b),this.kY=a,this.jY=e,this.cC(!0),a=null,this.Mia&&
(a=f.lm()-.2),this.Ht("update-position",{left:Math.round(this.Xu.X)+c.vq(),top:Math.round(this.Xu.U)+c.wq(),width:Math.round(this.Xu.width()),height:Math.round(this.Xu.height()),fontSize:a}))}else this.cC(!1)}RP(){this.rV({focus:!0})}gP(){this.rV({focus:!1})}qfa(){this.hL=!0}pfa(){this.hL=!1}A9(a,f){this.Ht("set-css-style",{prop:d.w0(a),val:f})}z9(a,f){this.Ht("set-attribute",{name:a,val:f})}F8(a){this.Ht("remove-attribute",{name:a})}}}
{"use strict";const d=self.D,b=self.OQ;d.Fo=class extends d.za{constructor(a){super();this.j=a.fd;this.CM=d.F(d.uG);this.QE=d.F(d.uG);this.uy=null;this.Tja=a.Vla||null}B(){this.QE.B();this.CM.B();this.j=null}N(){return this.j}Sb(){}Paa(a){this.CM.Ec(a)}iB(){return this.CM.TG()}Di(a){this.QE.Ec(a)}Uo(a){this.QE.sq(a)}Ca(){return this.QE.TG()}F3(){if(null===this.uy){const a=this.Tja;if(a){if(this.uy=new a(this),!(this.uy instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.uy=new b(this)}return this.uy}}}{"use strict";const d=self.D;d.Ho=class extends d.za{constructor(b){super();this.j=b.N();this.Ed=b;this.T=b.P();this.$j=b.fg();this.$j.Paa(this.T)}B(){this.$j=this.T=this.Ed=this.j=null}oi(){return this.Ed}P(){return this.T}N(){return this.j}fg(){return this.$j}}}
{"use strict";const d=self.D;d.Go=class extends d.za{constructor(b,a){super();this.lD=b;this.jp=a;this.H=b.H;this.j=b.N();this.Ed=b.oi();this.Za=this.Ed.Za;this.qE=this.gn=this.fn=!1;this.Xd=null}B(){this.Mm();this.SC();this.RC();this.Xd&&(this.Xd.B(),this.Xd=null);this.Za=this.Ed=this.j=this.H=this.lD=null}fg(){return this.Ed.fg()}P(){return this.H.P()}C(){return this.H.C()}N(){return this.j}oi(){return this.Ed}oB(){return this.lD.oB()}la(b){return this.j.la(b,this.H,this.Ed)}xb(b){return this.j.xb(b,
this.H,this.Ed)}SB(){}Md(){}ox(){}TB(){}Pe(){this.fn||(this.j.Jaa(this),this.fn=!0)}Mm(){this.fn&&(this.j.gga(this),this.fn=!1)}vW(){this.gn||(this.j.Kaa(this),this.gn=!0)}SC(){this.gn&&(this.j.hga(this),this.gn=!1)}Qx(){this.qE||(this.j.Iaa(this),this.qE=!0)}RC(){this.qE&&(this.j.fga(this),this.qE=!1)}pG(b,a){this.j.pj(this.jp,b,a)}xc(){return null}pc(){}ec(){}ye(){}$H(b,a){if(0!==a){var f=this.ec(b);if("number"!==typeof f)throw Error("expected number");this.ye(b,f+a)}}$e(){return null}}}
{"use strict";const d=self.D;d.A={};d.O={};d.j8=class extends d.za{constructor(b){super();this.j=b;this.Lia=[];this.IY=new Map;this.oe=null;this.Iia=[];this.NK=new Map;this.cM=this.kN=null}j1(b){const a=this.j.ti(b[0]);if(!a)throw Error("missing plugin");d.N_(b,a);b=d.F(a,{fd:this.j,d_:b[1],jla:b[2],ila:b[5],Wka:b[8],Bla:b[9],cma:b[13],bma:b[14]});b.Sb();this.Lia.push(b);this.IY.set(a,b)}l1(){this.oe=d.F(d.A.Ia,{fd:this.j,d_:!0});this.oe.Sb()}e1(b){b=this.j.ti(b[1]);if(!b)throw Error("missing behavior");
const a=d.F(b,{fd:this.j});a.Sb();this.Iia.push(a);this.NK.set(b,a);!this.kN&&d.O.Zn&&a instanceof d.O.Zn?this.kN=a:!this.cM&&d.O.lla&&a instanceof d.O.lla&&(this.cM=a)}d4(b){return this.IY.get(b)||null}z4(b){return this.NK.has(b)}d3(b){return this.NK.get(b)||null}Dw(){return this.oe}xH(){return this.kN}kH(){return this.cM}}}
{"use strict";const d=self.D,b=new Set;d.Mw=class extends d.za{constructor(){super();this.hj="";this.Y=this.aa=this.ks=this.hs=this.$h=this.ys=0;this.Iu=!1;this.Sf=null;this.En="";this.Ek=d.F(d.Rect);b.add(this)}B(){this.Ch();this.Sf=null;b.delete(this)}static Gt(){for(const a of b)a.En="",a.Ek.set(0,0,0,0)}A6(a){this.hj=a[0];this.ys=a[1];this.$h=a[2];this.hs=a[3];this.ks=a[4];this.aa=a[5];this.Y=a[6];this.Iu=!0}z6(a){this.hj=a[0];this.ys=a[1];this.hs=a[2];this.ks=a[3];this.aa=a[4];this.Y=a[5];this.$h=
a[11];this.Iu=!0}nR(a,f){if(this.Sf)throw Error("already loaded asset");this.hj=f;const c={};d.JH(f)&&(c.gA="remote");this.Ow(a,c);return this.Sf.mR()}O8(a){if(a===this)throw Error("cannot replace with self");this.Ch();this.hj=a.hj;this.ys=a.ys;this.$h=a.$h;this.hs=a.hs;this.ks=a.ks;this.aa=a.aa;this.Y=a.Y;this.Iu=a.Iu;this.Sf=a.Sf;this.En=a.En;this.Ek=a.Ek}no(){return this.ys}R(){return this.aa}S(){return this.Y}Ow(a,f){if(this.Sf)throw Error("already got asset");f=Object.assign({},f,{url:this.hj,
size:this.no()});this.Sf=a.NB(f)}CB(){return this.Sf&&this.Sf.CB()}async yo(a,f){if(!this.Sf)throw Error("no asset");if(this.En)throw Error("already loaded texture");this.En="loading";a=await this.Sf.yo(a,f);if(!a)return this.En="",null;this.En="loaded";this.Iu||(this.aa=a.R(),this.Y=a.S(),this.Iu=!0);this.Ek.set(this.hs,this.ks,this.hs+this.aa,this.ks+this.Y);this.Ek.Zl(a.R(),a.S());return a}Ch(){this.En&&(this.Sf&&this.Sf.Ch(),this.En="",this.Ek.set(0,0,0,0))}lc(){return this.Sf?this.Sf.lc():null}vi(){return this.Ek}async NP(){const a=
await this.Sf.F6(),f=d.eg(this.aa,this.Y);f.getContext("2d").drawImage(a,this.hs,this.ks,this.aa,this.Y,0,0,this.aa,this.Y);return f}}}
{"use strict";const d=self.D;d.h0=class extends d.za{constructor(b){super();this.ra=b[0];this.Dz=b[1];this.nE=!!b[2];this.sv=b[3];this.XY=b[4];this.tja=!!b[5];this.jb=b[6];this.Fe=b[7].map(a=>d.F(d.g0,a))}B(){for(const b of this.Fe)b.B();d.I(this.Fe)}x6(b){for(const a of this.Fe)a.Sc().Ow(b)}y6(b,a){return Promise.all(this.Fe.map(f=>f.Sc().yo(b,a)))}C8(){for(const b of this.Fe)b.Sc().Ch()}jo(b){b=Math.floor(b);if(0>b||b>=this.Fe.length)throw new RangeError("invalid frame");return this.Fe[b]}rm(){return this.Dz}lo(){return this.sv}}}
{"use strict";const d=self.D;d.g0=class extends d.za{constructor(b){super();this.eh=d.F(d.Mw);this.eh.z6(b);this.gX=b[6];this.FY=d.F(d.qx,b[7],b[8]);this.ZD=b[9].map(a=>d.F(d.f5,this,a));this.NX=new Map;for(const a of this.ZD)this.NX.set(a.ra.toLowerCase(),a);this.ur=null;b=b[10];6<=b.length&&(this.ur=d.F(d.rq,b))}B(){this.ur&&(this.ur.B(),this.ur=null);this.eh.B();this.eh=null}Sc(){return this.eh}Rk(){return this.FY.fa}Sk(){return this.FY.Z}H3(b){return this.NX.get(b.toLowerCase())||null}G3(b){b=
Math.floor(b);return 0>b||b>=this.ZD.length?null:this.ZD[b]}jH(){return this.ZD.length}}}{"use strict";const d=self.D;d.f5=class extends d.za{constructor(b,a){super();this.ra=a[0];this.TM=d.F(d.qx,a[1],a[2])}B(){}K(){return this.TM.fa}L(){return this.TM.Z}Fq(){return this.TM}}}
{"use strict";const d=self.D,b=self.Hg,a=self.Kw;d.ZH=class extends d.za{constructor(f,c,e){super();const h=f.ti(e[1]);this.j=f;this.Wi=f.xn.d4(h);this.Za=null;this.cE=h.Instance;this.hb=c;this.jb=e[11];this.ra=e[0];this.Qy=this.j.Aj(e[14]);this.qja=!!e[9];this.lb=!!e[2];this.XL=!!e[10];this.wk=e[3].map(g=>({w_:g[0],type:g[1],name:g[2],kla:f.Aj(g[3])}));this.Oia=e[4];this.bja=e[5];this.rg=this.Wi.rg;this.eb=null;this.vD=d.F(d.M$,f.Zh,f.Yh);this.FK=!0;this.GK=!1;this.qL=this.mp=null;this.Pi=-1;this.pL=
this.KD=this.LD=this.oL=this.Oi=null;this.RL=!1;this.fk=null;this.RW=e[8].map(g=>d.dP.fb(this,g));this.mD=[];this.OK=new Map;this.MK=new Map;this.zZ=new Set;this.Mp=d.F(d.J$,this);this.fD=this.eD=this.Be=this.eh=this.fk=this.wu=null;this.Av=0;this.Xb=new Map;this.gj=new Map;this.M=[];this.EL=!0;this.Wi.CH()&&(this.eb=d.F(d.hm,this,e[12]));e[6]&&(this.eh=d.F(d.Mw),this.eh.A6(e[6]));if(e[7]){this.Be=e[7].map(g=>d.F(d.h0,g));this.eD=new Map;this.fD=new Map;for(const g of this.Be)this.eD.set(g.ra.toLowerCase(),
g),this.fD.set(g.jb,g)}this.lb?(this.mp=[],this.qL=new Set,this.Pi=this.j.yda()):(this.Oi=[],this.oL=new Set,this.LD=[],this.KD=[],this.pL=[]);this.Za=d.F(h.Wd,this,e[15]);this.SX=this.xy=null;this.Xe=d.F(d.Event.Mb);if(c=this.Za.$e()){if(this.xy=new c(this),!(this.xy instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.xy=new a(this);this.j.HF&&!this.lb&&!this.XL&&this.rg||this.Sb();this.Wi.rp&&(this.Wi.Pha(this),this.Sba(e))}static fb(f,c,e){return d.F(d.ZH,
f,c,e)}B(){this.eh&&(this.eh.B(),this.eh=null);if(this.Be){for(const f of this.Be)f.B();d.I(this.Be);this.eD.clear();this.fD.clear()}this.Mp.B();this.Mp=null;this.Xb.clear();this.gj.clear();this.j=this.fk=null}Bea(f){for(let c=1,e=f.length;c<e;++c){const h=this.j.jg(f[c]);this.mp.push(h);this.qL.add(h);h.Oi.push(this);h.oL.add(this)}}jha(f){this.RL=!0;this.fk=f}Tc(){return this.RL}ifa(){var f=0;if(!this.lb)for(var c of this.Oi)for(var e of c.RW){const l=e.ra.toLowerCase();this.OK.set(l,e);this.MK.set(l,
f);this.mD.push(e);++f}for(var h of this.RW)c=h.ra.toLowerCase(),this.OK.set(c,h),this.MK.set(c,f),this.mD.push(h),++f;for(var g of this.mD)this.zZ.add(g.fg().constructor);if(!this.lb&&this.Oi.length){f=this.j.nX;d.RF(this.LD,f,0);d.RF(this.KD,f,0);d.RF(this.pL,f,0);f=[];c=g=h=0;for(const l of this.Oi)if(e=l.Pi,this.LD[e]=h,h+=l.wk.length,this.KD[e]=g,g+=l.Oia,this.pL[e]=c,c+=l.bja,(e=l.eb)&&this.eb)for(const n of e.qh())f.push(n.M0(this.eb));this.eb&&this.eb.p8(f)}}Sba(f){const c=this.j.xda(),e=
d.F(d.Instance,{fd:this.j,xO:this,uid:c});e.qC(f[16],[]);this.j.Uea(c,e);this.M.push(e)}Sb(){this.lb||this.Za.Sb()}D4(){return 0<this.Av}zo(f){if(this.lb)return Promise.resolve();this.Av++;return 1===this.Av?this.Za.zo(f)||Promise.resolve():Promise.resolve()}fl(){if(!this.lb){this.Av--;if(0>this.Av)throw Error("released textures too many times");0===this.Av&&this.Za.fl()}}PB(){if(this.lb)throw Error("not applicable to family");this.Za.PB()}dI(f){return this.lb?Promise.resolve():this.Za.dI(f)}N(){return this.j}ac(){return this.Wi}Aj(){return this.Qy}Ua(){return this.hb}Ah(){return this.qja}ZI(f){return f&&
this.zZ.has(f)}N3(){return this.wk.map(f=>f.w_)}M3(f){return this.wk.findIndex(c=>c.w_===f)}L3(f){return this.wk.findIndex(c=>c.name===f)}jda(){return this.wk.map(f=>f.kla)}Aw(f){f=Math.floor(f);if(0>f||f>=this.wk.length)throw new RangeError("invalid instance variable index");return this.wk[f].type}hQ(f){f=Math.floor(f);if(0>f||f>=this.wk.length)throw new RangeError("invalid instance variable index");return this.wk[f].name}TA(f){return this.OK.get(f.toLowerCase())||null}vw(f){f=this.MK.get(f.toLowerCase());
return"undefined"===typeof f?-1:f}CH(){return this.Wi.CH()}sT(){return this.eb&&this.eb.v4()}ka(){return this.Mp.ka()}Sc(){return this.eh}HS(f){this.wu=f}wG(f){return this.oL.has(f)}OP(f){return this.qL.has(f)}xq(f){return this.KD[f]}dH(f){return this.LD[f]}TP(f){if(!this.Be)throw Error("no animations");return this.eD.get(f.toLowerCase())||null}a3(f){if(!this.Be)throw Error("no animations");return this.fD.get(f)||null}x3(){if(!this.Be)throw Error("no animations");return this.Be[0].jo(0)}l3(){if(this.Be){const f=
this.x3().Sc();return[f.R(),f.S()]}return this.eh?[this.eh.R(),this.eh.S()]:[100,100]}Xk(){if(!this.Wi.rp)throw Error("not a single-global plugin");return this.M[0]}Ca(){return this.M}*b_(){yield*this.M}*ala(){yield*this.M;for(const f of this.j.bn)f.P()===this&&(yield f)}Di(f){this.M.push(f)}Kx(){this.EL=!0}WC(){if(this.EL&&!this.lb){var f=this.M,c=0;for(let e=f.length;c<e;++c)f[c].XV(c);f=this.j.bn;for(const e of f)e.P()===this&&e.XV(c++);this.EL=!1}}gQ(f){var c=this.M;if(f<c.length)return c[f];
f-=c.length;c=this.j.bn;for(const e of c)if(e.P()===this){if(0===f)return e;--f}return null}Lg(f){if(f&&f.Tc()&&f.P()!==this)for(const c of f.ne)if(c.P()===this)return c;f=this.ka().Ca();return f.length?f[0]:null}b4(f){const c=this.ka().Ca();return 0<c.length?c[f.yq()%c.length]:null}*JZ(f,c){const e=this.ka().Ca();var h=e.length;const g=c.ka(),l=c.ka().Ca(),n=l.length;var p=f.yq();if(c.lb||!g.wc)p=l.indexOf(f);f=Math.ceil(h/n);h%=n;0===h||p<h?(p*=f,h=f):(p=h*f+(p-h)*(f-1),h=f-1);for(let q=p,r=p+h;q<
r;++q)yield e[q]}pw(f){this.Za.pw(f)}Fc(){if(this.RL&&!this.lb){this.WC();var f=this.ka(),c=f.M,e=f.wc,h=this.j.ig();h=h&&h.Ub()&&h.Ub().Ge;for(const n of this.fk.vn)if(n!==this){n.WC();var g=n.ka();g.ff(e);if(!e){var l=g.M;d.I(l);for(const p of c)l.push(n.gQ(p.yq()));if(h){l=f.Gc;g=g.Gc;d.I(g);for(const p of l)g.push(n.gQ(p.yq()))}}}}}oia(f,c){for(const e of this.fk.vn){const h=e.ka();f?d.Ke(h.Gc,c):d.Ke(h.M,c)}}NV(){this.FK=!0}eK(f){this.GK=!!f}BW(){if(this.FK&&this.rg){for(const f of this.M)f.C().FW();
for(const f of this.j.bn)f.P()===this&&f.C().FW();this.FK=!1}}Ze(){this.Xb||(this.Xb=new Map);return this.Xb}xt(){this.gj||(this.gj=new Map);return this.gj}H4(){return this.ZI(d.O.Zn)}KQ(){return this.ZI(d.O.Lta)}DH(){return this.ZI(d.O.mua)}Da(){const f={instances:this.M.map(c=>c.xc())};this.Xb&&this.Xb.size&&(f.ex=d.XI(this.Xb));return f}Ka(f){this.Xb&&(this.Xb.clear(),this.Xb=null);var c=f.ex;c&&(this.Xb=d.QG(c));c=this.M;f=f.instances;for(let e=0,h=Math.min(c.length,f.length);e<h;++e)c[e].pc(f[e]);
for(let e=f.length,h=c.length;e<h;++e)this.j.uj(c[e]);for(let e=c.length,h=f.length;e<h;++e){c=f[e];let g=null;if(this.rg&&(g=this.j.jc().gB(c.w.l),!g))continue;this.j.tj(this.wu||this,g,!1,0,0,!0).pc(c)}this.Kx()}ni(f){var c=this.j;(c=c.Ob&&!c.Ba().BB())&&b.UI();this.Xe.dispatchEvent(f);c&&b.tG()}}}{"use strict";const d=self.D;d.Z0=class extends d.za{constructor(b,a){super();this.j=b;this.vn=a;for(const f of this.vn)f.jha(this)}B(){this.j=null}N(){return this.j}y4(){return this.vn.some(b=>b.rg)}}}
{"use strict";const d=self.D,b=self.Hg,a=self.Hq,f=[];let c=0;const e=new WeakMap,h=new WeakMap;d.Instance=class extends d.za{constructor(g){super();this.j=g.fd;this.Te=g.xO;this.jf=this.ya=this.Fb=null;this.MX=0;this.zb=g.uid;this.PY=c++;this.Ja=0;this.Dd=this.Tf=f;var l=this.Te.mD;0<l.length&&(this.Dd=l.map((n,p)=>d.F(d.wA,{fd:this.j,WN:n,instance:this,index:p})));this.ne=this.Te.Tc()?[]:null;this.ae=-1;this.tc=null;l=this.ac();l.Ao()&&(this.Ja|=4);if(l.rg)if(this.Fb=d.F(d.Baa,this,g.Je),g.G_)this.Fb.wh(g.G_);
else{this.Fb.t5();const [n,p]=this.Te.l3();this.Fb.zc(n,p);this.P().sT()&&this.Fb.kf.B6()}g.a_?this.Fea(g.a_):this.zea()}B(){this.jf&&(this.jf.Jx(),this.jf=null);if(0<this.Dd.length){for(var g of this.Dd)g.B();d.I(this.Dd)}this.ya.B();this.ya=null;if(g=e.get(this))g.clear(),e.delete(this);if(g=h.get(this))g.clear(),h.delete(this);this.ne&&d.I(this.ne);this.tc&&(this.tc.B(),this.tc=null);this.Te=this.j=null;0<this.Tf.length&&d.I(this.Tf);this.Fb&&(this.Fb.B(),this.Fb=null)}Fea(g){0<g.length&&(this.Tf=
[],d.fe(this.Tf,g))}zea(){const g=this.Te.wk.length;if(0!==g){this.Tf=[];var l=[0,0,""];for(let n=0;n<g;++n)this.Tf.push(l[this.Te.Aw(n)])}}qC(g,l){if(this.ya)throw Error("already got sdk instance");for(let n=0,p=this.Dd.length;n<p;++n)this.Dd[n].qC(l?l[n]:null);this.ya=d.F(this.Te.cE,this,g);if(!(this.ya instanceof d.Cm))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.Dd.length;n<p;++n)this.Dd[n].SB();this.Te.SX&&this.UU()}C(){return this.Fb}N(){return this.j}Y2(){const g=
this.ae;return-1===g?this.N().ae:g}LI(g){g=+g;if(0>g||!isFinite(g))g=0;this.ae=g}X8(){this.ae=-1}Mb(){this.tc||(this.tc=d.F(d.Event.Mb));return this.tc}Le(g){this.ya.Le(g)}Sb(g){this.ya.Sb(g)}vha(){this.Ja|=2}Ej(){return 0!==(this.Ja&2)}MJ(){this.Ja|=1}MH(){return 0!==(this.Ja&1)}Ao(){return 0!==(this.Ja&4)}YU(){return 0!==(this.Ja&8)}Qha(g){this.Ja=g?this.Ja|8:this.Ja&-9}nea(){return 0!==(this.Ja&16)}$w(g,l){g<<=16;this.Ja=l?this.Ja|g:this.Ja&~g}gH(g){return 0!==(this.Ja&g<<16)}ge(){return this.ya.ge()}ZA(){return this.ya.ZA()}$A(){return this.ya.$A()}Pk(g){return this.ya.Pk(g)}P(){return this.Te}gt(g){return g.lb?
g.OP(this.P()):this.P()===g}tT(){if(!this.ac().rZ)throw Error("object does not support scene graph");}al(){return null!==this.Qa()}Qa(){var g=this.C();return g?(g=g.Qa())?g.Ra():null:null}qB(){var g=this.C();return g?(g=g.qB())?g.Ra():null:null}*jA(){const g=this.C();if(g)for(const l of g.jA())yield l.Ra()}kg(){const g=this.C();return g?g.kg():!1}gg(){const g=this.C();return g?g.gg().map(l=>l.Ra()):[]}*children(){const g=this.C();if(g)for(const l of g.children())yield l.Ra()}*aq(){const g=this.C();
if(g)for(const l of g.aq())yield l.Ra()}XA(){const g=this.C();return g?g.XA():0}WG(g){const l=this.C();return l?(g=l.WG(g))?g.Ra():null:null}eo(g,l){this.tT();g.tT();this.C().eo(g.C(),l||{})}gl(g){const l=this.C();l&&l.gl(g.C())}aB(){const g=this.C();return g?g.aB():!1}C$(){var g=this.C();if(g&&(g=g.dN))for(const l of g)if(g=this.j.ue(l[2])){const n=l[3];this.eo(g,{Xv:!!(n>>0&1),Yv:!!(n>>1&1),ct:!!(n>>2&1),bt:!!(n>>3&1),Wv:!!(n>>4&1),Zz:!!(n>>5&1),Zv:!!(n>>6&1)})}}Tc(){return null!==this.ne}Yt(g){this.ne.push(g)}F4(g){return!!this.BQ(g)}BQ(g){const l=
this.ne;if(null===l||0===l.length)return!1;for(const n of l)if(n.P()===g)return n;return null}Lj(){for(const g of this.ne)g.P().ka().ll(g)}Vfa(){for(const g of this.ne)g.P().ka().er(g)}Oha(g){for(const l of this.ne)l.P().ka().M[g]=l}Ufa(){for(const g of this.ne)g.P().ka().To(g)}Nha(g){for(const l of this.ne)l.P().ka().Gc[g]=l}ac(){return this.Te.ac()}XV(g){this.MX=g}yq(){this.Te.WC();return this.MX}VP(g){const l=this.Dd;for(let n=0,p=l.length;n<p;++n)if(l[n].oi().jb===g)return n;return-1}Ff(g){g|=
0;const l=this.Tf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}AU(g){return this.Tf[g]}uda(g){const l=this.Tf[g];return 0===this.Te.Aw(g)?!!l:l}Ko(g,l){g|=0;const n=this.Tf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.Te.Aw(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}O9(g,l){if(0!==
l){g|=0;var n=this.Tf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var p=n[g];if("number"===typeof p)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Ze(){let g=e.get(this);if(g)return g;g=new Map;e.set(this,g);return g}xt(){let g=h.get(this);if(g)return g;g=new Map;
h.set(this,g);return g}OU(g){const l=this.P();if(l.Xe.AH(g))return!0;for(const n of l.Oi)if(n.Xe.AH(g))return!0;return this.j.Xe.AH(g)?!0:!1}UC(){const g=new Set;g.add(this);const l=this.C();if(l&&l.kg())for(const n of this.aq())if(g.add(n),n.Tc())for(const p of n.ne)g.add(p);if(this.Tc())for(const n of this.ne)g.add(n);for(const n of g.values())n.xW()}xW(){if(this.OU("instancecreate")){const g=this.P(),l=new d.Event("instancecreate");l.instance=this.si();g.ni(l);for(const n of g.Oi)n.ni(l);this.j.ni(l)}this.j.la(this.ac().constructor.G.IR,
this,null)}mia(){this.j.la(this.ac().constructor.G.n7,this,null)}bda(g){if(this.jf){var l=new d.Event("destroy");l.ela=g;this.ni(l)}if(this.OU("instancedestroy")){l=this.P();var n=new d.Event("instancedestroy");n.instance=this.si();n.ela=g;l.ni(n);for(const p of l.Oi)p.ni(n);this.j.ni(n)}}xc(g="full"){const l={};"full"===g?l.uid=this.zb:l.c3=!0;if("visual-state"!==g){var n=e.get(this);n&&n.size&&(l.ex=d.XI(n));-1!==this.ae&&(l.mts=this.ae);if(0<this.Te.wk.length){n={};var p=this.Te.N3();for(let q=
0,r=this.Tf.length;q<r;++q)n[p[q].toString()]=this.Tf[q];l.ivs=n}if(this.Dd.length){n={};for(const q of this.Dd)(p=q.xc())&&(n[q.oi().jb.toString()]=p);l.behs=n}}this.Fb&&(l.w=this.Fb.Da(g));(g=this.ya.xc())&&(l.data=g);return l}eu(g="full"){this.Fb&&this.Fb.eu(g)}pc(g,l="full"){if("full"===l)this.zb=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=e.get(this);n&&(n.clear(),e.delete(this));if(n=g.ex)n=d.QG(n),e.set(this,n);this.ae=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [r,w]of Object.entries(n))if(n=
this.Te.M3(parseInt(r,10)),!(0>n||n>=this.Tf.length)){var p=w;null===p&&(p=NaN);this.Tf[n]=p}}if(this.ac().rg){n=g.w;var q=n.l;this.Fb.xa().jb!==q&&(p=this.Fb.xa(),(q=p.Kd().gB(q))?(this.Fb.Lx(q),p.Uo(this,!0),q.Di(this,!0),q.Hh(),this.Fb.W()):"full"===l&&this.j.uj(this));this.Fb.Ka(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [r,w]of Object.entries(l))l=this.VP(parseInt(r,10)),0>l||l>=this.Dd.length||this.Dd[l].pc(w);(g=g.data)&&this.ya.pc(g)}si(){return this.jf||this.UU()}UU(){var g=this.Fb?
self.Lw:a;const l=this.ya.$e(),n=this.Te.SX,p=n||l||g;a.Sj(this);this.jf=new p;a.Sj(null);if(l&&!(this.jf instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.jf instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.jf}tda(g){if(0!==this.Tf.length){var l={},n=this.Te.jda();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,
enumerable:!0,get:d.Instance.prototype.uda.bind(this,p),set:d.Instance.prototype.Ko.bind(this,p)};l=Object.create(Object.prototype,l);g.DBa={value:l,writable:!1}}}lda(g){var l=this.Dd;if(0!==l.length){var n={};for(const p of l)n[p.oi().Aj()]={value:p.oB(),writable:!1};l=Object.create(Object.prototype,n);g.Xz={value:l,writable:!1}}}ni(g){g.instance=this.si();var l=this.j;(l=l.Ob&&!l.Ba().BB())&&b.UI();this.si().dispatchEvent(g);l&&b.tG()}}}
{"use strict";const d=self.D;d.g9=class extends d.za{constructor(b){super();this.uc=b;this.$c=null;this.tD=[];this.pF=b.R();this.oF=b.S();this.sN=this.rN=1;this.TE=0}B(){this.$c=null;d.I(this.tD)}WS(b){this.TE=(this.$c=b)?b.$():0}Qa(){return this.$c}kg(){return 0<this.tD.length}gg(){return this.tD}h$(b){this.rN=b}i$(b){this.sN=b}Vk(){return this.uc.Cq()?this.$c.R()/this.$c.ic.pF:1}Wk(){return this.uc.Bq()?this.$c.S()/this.$c.ic.oF:1}Da(){return{sw:this.pF,sh:this.oF,sx:this.rN,sy:this.sN,psa:this.TE,
c:this.tD.map(b=>{let a="";b.Dq()&&(a+="x");b.Eq()&&(a+="y");b.Cq()&&(a+="w");b.Bq()&&(a+="h");b.sB()&&(a+="a");b.tB()&&(a+="z");b.aB()&&(a+="d");return{uid:b.Ra().zb,f:a}})}}Ka(b){this.pF=b.sw;this.oF=b.sh;this.rN=b.sx;this.sN=b.sy;this.TE=b.psa}Tj(b){const a=this.uc,f=a.N();for(const c of b.c){b=f.ue(c.uid).C();const e=c.f,h={};h.Xv=e.includes("x");h.Yv=e.includes("y");h.ct=e.includes("w");h.bt=e.includes("h");h.Wv=e.includes("a");h.Zv=e.includes("z");h.Zz=e.includes("d");a.eo(b,h)}}}}
{"use strict";const d=self.D,b=self.Vn,a=b.mG,f=b.$v,c=d.F(d.Rect),e=d.F(d.Ad),h=d.F(d.Event,"bboxchange",!1),g=d.F(d.ub,0,0,0,0),l=d.F(d.rq),n=d.F(d.ub,1,1,1,1),p=d.F(d.Rect,0,0,-1,-1),q=d.F(d.Rect,0,0,-1,-1),r=new Set(["absolute","relative"]),w=[];a.create();f.create();let x=!0;d.Baa=class extends d.za{constructor(u,t){super();this.H=u;this.T=u.P();this.j=u.N();this.Il=t;this.Yl=-1;this.Ja=196635;this.T.ac().Ct()&&(this.Ja|=128);this.lv=this.kv=this.ZK=this.hN=this.ib=this.jk=this.uk=this.Jk=this.Hd=
this.Z=this.fa=NaN;this.SK=d.F(d.Rect);this.TK=d.F(d.Ad);this.uD=q;this.oz=p;this.cj=this.Cv=this.lF=null;this.xr=this.Nb=n;this.kf=this.Cs=null;this.H.P().sT()&&(this.kf=d.F(d.J5,this.H,this));this.dN=this.ic=null;this.eN=this.bZ=NaN;this.Vi=null}MJ(){this.Ja|=256}B(){this.Cs&&(this.j.kc().iS(this.Cs),this.Cs=null);this.lF=null;this.Cv&&(this.Cv.p_.B(),this.Cv=null);this.cj&&(this.cj.clear(),this.cj=null);this.WB();this.al()&&this.Qa().gl(this);if(this.kg()){const u=[...this.gg()];for(const t of u)this.gl(t)}this.KC();
this.Il=this.j=this.T=this.H=null}wh(u){x=!1;this.mb(u[0],u[1]);this.ef(u[2]);this.zc(u[3],u[4]);this.jk=0;this.Ct()?this.yc(u[6]):this.ib=0;g.mq(u[7]);this.NC(g);this.Pt(u[8]);this.Qt(u[9]);this.Jf(u[10]);this.kf&&this.kf.Aea(u[12]);u[14]&&(this.dN=u[14][1],this.bZ=u[14][2]);if(u[15]){var t=u[15];this.HG(t[0],t[1]);u=this.Yk();t=t[2];for(let A=0,y=t.length;A<y;++A){const C=t[A];for(let F=0,H=C.length;F<H;++F){const J=C[F],M=u.pt(F,A);M.og(J[0]);M.pg(J[1]);M.ef(J[2]);M.MI(J[3]);M.NI(J[4])}}}x=!0;
this.hu()}t5(){this.hN=this.ib=this.jk=this.uk=this.Jk=this.Hd=this.Z=this.fa=0;this.ZK=1;this.lv=this.kv=0;this.hu()}N(){return this.j}P(){return this.T}Ra(){return this.H}Bx(){return this.sB()?this.Qa().$()-this.ic.TE:0}og(u){u=+u;if(this.Dq()){const t=this.ic;u-=this.K();const A=-this.Bx();0===A?this.fa+=u/t.Vk():(this.fa+=Math.cos(A)*u/t.Vk(),this.Eq()&&(this.Z+=Math.sin(A)*u/t.Wk()))}else this.fa=u}c7(u){u=+u;this.Dq()?this.og(this.K()+u):this.fa+=u}K(){if(this.Dq()){let u=this.fa;const t=this.ic,
A=this.Qa(),y=this.Bx();0===y?u*=t.Vk():(u=u*t.Vk()*Math.cos(y),this.Eq()&&(u-=this.Z*t.Wk()*Math.sin(y)));return A.K()+u}return this.fa}pg(u){u=+u;if(this.Eq()){const t=this.ic;u-=this.L();const A=-this.Bx();0===A?this.Z+=u/t.Wk():(this.Dq()&&(this.fa-=Math.sin(A)*u/t.Vk()),this.Z+=Math.cos(A)*u/t.Wk())}else this.Z=u}d7(u){u=+u;this.Eq()?this.pg(this.L()+u):this.Z+=u}L(){if(this.Eq()){let u=this.Z;const t=this.ic,A=this.Qa(),y=this.Bx();0===y?u*=t.Wk():(u=u*t.Wk()*Math.cos(y),this.Dq()&&(u+=this.fa*
t.Vk()*Math.sin(y)));return A.L()+u}return this.Z}mb(u,t){u=+u;t=+t;if(this.HQ()){const y=this.Dq(),C=this.Eq(),F=this.ic,H=u-this.K(),J=t-this.L();var A=-this.Bx();if(0===A)this.fa=y?this.fa+H/F.Vk():u,this.Z=C?this.Z+J/F.Wk():t;else{const M=Math.sin(A);A=Math.cos(A);this.fa=y?C?this.fa+(A*H-M*J)/F.Vk():this.fa+A*H/F.Vk():u;this.Z=C?y?this.Z+(M*H+A*J)/F.Wk():this.Z+A*J/F.Wk():t}}else this.fa=u,this.Z=t}Ld(u,t){u=+u;t=+t;this.HQ()?this.mb(this.K()+u,this.L()+t):(this.fa+=u,this.Z+=t)}OG(u,t){return this.K()===
u&&this.L()===t}ef(u){u=+u;this.tB()&&(u-=this.Qa().kb());this.Hd!==u&&(this.Hd=u,this.KW(),u=this.xa(),0!==this.Hd&&u.OV(),u.Hh())}KW(){this.hu();if(this.kg()){const u=this.gg();for(let t=0,A=u.length;t<A;t++){const y=u[t];y.tB()&&y.KW()}}}e7(u){this.ef(this.kb()+u)}kb(){return this.tB()?this.Qa().kb()+this.Hd:this.Hd}Zk(){return this.xa().kb()+this.kb()}Ae(u){u=+u;this.Jk=this.Cq()?this.Jk*(u/this.R()):u}yR(u){u=+u;this.Cq()?this.Ae(this.R()+u):this.Jk+=u}R(){return this.Cq()?this.Qa().R()*this.Jk:
this.Jk}df(u){u=+u;this.uk=this.Bq()?this.uk*(u/this.S()):u}xR(u){u=+u;this.Bq()?this.df(this.S()+u):this.uk+=u}S(){return this.Bq()?this.Qa().S()*this.uk:this.uk}zc(u,t){u=+u;t=+t;this.Jk=this.Cq()?this.Jk*(u/this.R()):u;this.uk=this.Bq()?this.uk*(t/this.S()):t}uQ(){if(this.al()){const u=this.ic;return Math.min(u.Vk(),u.Wk())}return 1}Ct(){return 0!==(this.Ja&128)}yc(u){u=+u;this.Ct()&&(this.sB()&&(u-=this.Qa().$()),u=d.Pc(u),this.ib!==u&&(this.ib=u,this.NJ()))}Y6(u){u=+u;0!==u&&this.Ct()&&(this.ib=
d.Pc(this.ib+u),this.NJ())}NJ(){this.Ja|=262144;if(this.kg()){const u=this.gg();for(let t=0,A=u.length;t<A;t++)u[t].NJ()}}$(){return this.sB()?d.Pc(this.Qa().$()+this.ib):this.ib}kV(){const u=this.Ja;if(0!==(u&262144)){var t=this.$();this.hN=Math.sin(t);this.ZK=Math.cos(t);this.Ja=u&-262145}}wH(){this.kV();return this.hN}XG(){this.kV();return this.ZK}Pt(u){this.kv=+u}a7(u){this.kv+=+u}Rk(){return this.kv}Qt(u){this.lv=+u}b7(u){this.lv+=+u}Sk(){return this.lv}NC(u){this.Nb.xd(u)||(this.Nb===n?(this.Nb=
d.F(d.ub,u),this.xr=d.F(d.ub,u),this.xr.bG()):u.aA(1,1,1,1)?this.xr=this.Nb=n:(this.Nb.set(u),this.xr.set(u),this.xr.bG()),this.hu())}Kf(u){u=d.ia(+u,0,1);this.Nb.$p!==u&&(g.Tn(this.Nb),g.$p=u,this.NC(g))}Z6(u){this.Kf(this.he()+u)}he(){return this.Nb.$p}bT(u){this.Nb.hq(u)||(g.Tn(u),g.$p=this.Nb.$p,this.NC(g))}v$(u,t,A){g.gG(u,t,A);this.bT(g)}qH(){return this.xr}aB(){return 0!==(this.Ja&512)}w9(u){this.Xg(512,u)}Dq(){return 0!==(this.Ja&1024)}q$(u){this.Xg(1024,u)}Eq(){return 0!==(this.Ja&2048)}HQ(){return 0!==
(this.Ja&3072)}r$(u){this.Xg(2048,u)}Cq(){return 0!==(this.Ja&4096)}p$(u){this.Xg(4096,u)}Bq(){return 0!==(this.Ja&8192)}o$(u){this.Xg(8192,u)}sB(){return 0!==(this.Ja&16384)}n$(u){this.Xg(16384,u)}tB(){return 0!==(this.Ja&32768)}s$(u){this.Xg(32768,u)}IT(){this.Ja&=-65025}eo(u,t){if(u!==this&&!u.al()&&!this.QU(u)&&!this.PU(u)){var A=u.K(),y=u.L(),C=u.R(),F=u.S(),H=u.$(),J=u.kb();u.jW(this);u.q$(t.Xv);u.r$(t.Yv);u.p$(t.ct);u.o$(t.bt);u.n$(t.Wv);u.s$(t.Zv);u.w9(t.Zz);t.Xv&&(u.fa=A-this.K(),t.ct&&(u.fa/=
this.R()/this.ic.pF));t.Yv&&(u.Z=y-this.L(),t.bt&&(u.Z/=this.S()/this.ic.oF));t.ct&&(u.Jk=C/this.R(),u.ic.h$(u.Jk));t.bt&&(u.uk=F/this.S(),u.ic.i$(u.uk));t.Wv&&(u.ib=H-this.$());t.Zv&&(u.Hd=J-this.kb());this.Laa(u);this.W()}}gl(u){if(u.Qa()===this){var t=u.K(),A=u.L(),y=u.R(),C=u.S(),F=u.$(),H=u.kb();u.jW(null);u.IT();u.mb(t,A);u.zc(y,C);u.yc(F);u.ef(H);this.iga(u);this.W()}}rga(){for(var u of this.children())this.gl(u);(u=this.Qa())&&u.gl(this);this.IT()}al(){return null!==this.Qa()}Qa(){const u=
this.ic;return null!==u?u.Qa():null}qB(){let u=this;for(;u.al();)u=u.Qa();return u}*jA(){let u=this.Qa();for(;u;)yield u,u=u.Qa()}A4(u){return this.gg().includes(u)}kg(){const u=this.ic;return null!==u?u.kg():!1}gg(){const u=this.ic;return null!==u?u.gg():w}children(){return this.gg()}*aq(){for(const u of this.children())yield u,yield*u.aq()}XA(){return this.gg().length}WG(u){const t=this.gg();u=Math.floor(+u);return 0>u||u>=t.length?null:t[u]}oJ(u){this.ic||(this.ic=d.F(d.g9,this));u&&this.ic.WS(u)}KC(){this.ic&&
(this.ic.B(),this.ic=null)}jW(u){u?(u.oJ(null),this.oJ(u)):(this.ic&&this.ic.WS(null),this.kg()||this.KC())}PU(u){if(!this.al())return!1;const t=this.Qa();return t===u?!0:t.PU(u)}QU(u){if(this.A4(u))return!0;for(const t of this.gg())if(t.QU(u))return!0;return!1}Laa(u){this.ic.gg().push(u)}iga(u){const t=this.ic.gg(),A=t.indexOf(u);-1!==A&&t.splice(A,1);0!==t.length||this.al()||this.KC();u.kg()||u.KC()}GI(u){this.eN=u}hu(){if(x){var u=this.j.kc();this.Cs&&u.iS(this.Cs);this.Cs=u.L_(0!==(this.Ja&524288)?
u.mF||"<point>":u.nF||"<default>",this.xj(),this.xr,this.kb())}}oo(){return this.Nb===n}Jf(u){u|=0;if(0>u||31<u)throw new RangeError("invalid blend mode");this.xj()!==u&&(this.Ja=this.Ja&-2080374785|u<<26,this.hu())}xj(){return(this.Ja&2080374784)>>26}Lx(u){this.Il=u;0!==this.kb()&&this.Il.OV()}xa(){return this.Il}Kd(){return this.xa().Kd()}QC(u){this.Yl=u|0}$k(){this.Il.XC();return this.Yl}Xg(u,t){this.Ja=t?this.Ja|u:this.Ja&~u}xe(){return 0!==(this.Ja&1)}Gh(u){this.Xg(1,u)}zh(){return 0!==(this.Ja&
8)}Zw(u){u=!!u;this.zh()!==u&&(this.Xg(8,u),u?this.W():this.xV())}II(u,t){this.Xg(32,u);this.cj&&this.cj.clear();if(t.trim()){this.cj||(this.cj=new Set);for(const A of t.split(" "))A&&this.cj.add(A.toLowerCase())}else this.cj=null}GB(u){const t=0!==(this.Ja&32),A=this.cj;if(!u||!A)return!t;for(const y of A)if(u.has(y))return t;return!t}W(){this.Ja|=65554;this.T.NV();this.j.ea();this.Il.Os&&(this.ew(this.SK,this.TK,!0),this.Ja&=-3,this.via());0!==(this.Ja&4)&&this.H.Mb().dispatchEvent(h);if(null!==
this.ic){const u=this.ic.gg();for(let t=0,A=u.length;t<A;++t)u[t].W()}}ew(u,t,A){const y=this.K(),C=this.L(),F=this.R(),H=this.S(),J=this.$();u.oj(y-this.kv*F,C-this.lv*H,F,H);A&&this.Pg()&&this.Uca(u);0===J?t.nq(u):(u.offset(-y,-C),t.eG(u,this.wH(),this.XG()),t.offset(y,C),t.iO(u));u.normalize()}EW(){const u=this.Ja;0!==(u&2)&&(this.ew(this.SK,this.TK,!0),this.Ja=u&-3)}Kc(){this.EW();return this.SK}Kg(){this.EW();return this.TK}Rw(u){var t=this.K(),A=this.L();t=Math.round(t)-t;A=Math.round(A)-A;
if(0===t&&0===A)return u;e.Na(u);e.offset(t,A);return e}q9(u){this.Xg(4,u)}TQ(){return 0!==(this.Ja&4)}cR(u,t){return t&&0!==this.jk?this.kea():0===this.kb()?u.WF(this.Kc()):this.lea()}lea(){const u=this.xa(),t=this.Zk();if(t>=u.VA())return!1;u.JQ(t,c);return c.WF(this.Kc())}kea(){var u=this.Kc();const t=u.X,A=u.ca,y=u.U;u=u.ba;const C=this.Zk(),F=C+this.jk;return this.xa().Hda().$0(t,y,C,A,u,F)}JI(u){this.lF=u;this.wJ();this.Pg()&&(this.Vi.rO=null)}Hw(){return null!==this.lF||this.Pg()}tm(){return this.tU(this.R(),
this.S(),this.$(),this.wH(),this.XG())}k3(u,t){return this.tU(u,t,0,0,1)}tU(u,t,A,y,C){let F=this.Cv;null===F&&(this.Cv=F={p_:d.F(d.rq),width:NaN,height:NaN,angle:NaN});const H=F.p_;if(F.width===u&&F.height===t&&F.angle===A)return H;const J=this.lF;if(this.Pg()){const M=this.Rk(),P=this.Sk(),S=this.Yk();let T=this.Vi.rO;T||(J?(l.Na(J),l.offset(M,P)):l.Yla(),T=S.I5(l),this.Vi.rO=T);S.daa(T,H);H.offset(-M,-P);H.VO(u,t,y,C)}else J?(H.Na(J),H.VO(u,t,y,C)):H.NO(this.Kg(),-this.K(),-this.L());F.width=u;
F.height=t;F.angle=A;return H}wJ(){this.XS(!0);const u=this.Cv;null!==u&&(u.width=NaN)}HG(u,t){u=Math.floor(u);t=Math.floor(t);if(!this.Ra().ac().Xja)throw Error("object does not support mesh");this.WB();this.Vi={QO:d.F(d.oa.uR,u,t),A_:d.F(d.oa.uR,u,t),rO:null}}Pg(){return null!==this.Vi}Yk(){if(!this.Pg())throw Error("no mesh");return this.Vi.QO}IQ(){if(!this.Pg())throw Error("no mesh");return this.Vi.A_}fC(u){this.Xg(65536,u)}fR(){return 0!==(this.Ja&65536)}XS(u){this.Xg(131072,u)}a6(){return 0!==
(this.Ja&131072)}Uca(u){var t=this.Vi.QO;const A=Math.min(t.Z3(),0),y=Math.min(t.a4(),0),C=Math.max(t.X3(),1);t=Math.max(t.Y3(),1);const F=u.width(),H=u.height();u.offsetLeft(A*F);u.offsetTop(y*H);u.Ela((C-1)*F);u.Dla((t-1)*H)}WB(){this.Vi&&(this.Vi.QO.B(),this.Vi.A_.B(),this.Vi=null,this.wJ())}TS(u,t,A){u=Math.floor(u);t=Math.floor(t);var y=A.mode||"absolute";if(!r.has(y))throw Error("invalid mode");y="relative"===y;let C=A.x,F=A.y;const H=A.uA;let J="number"===typeof A.E_?A.E_:y?0:-1;A="number"===
typeof A.F_?A.F_:y?0:-1;if(!this.Pg())return!1;const M=this.Yk(),P=M.pt(u,t);if(null===P)return!1;let S=!1;"number"===typeof H&&P.kb()!==H&&(P.ef(H),S=!0);y&&(C+=u/(M.Bl-1),F+=t/(M.Sl-1));-1!==J||y?(y&&(J+=u/(M.Bl-1)),J=d.ia(J,0,1)):J=P.fi;-1!==A||y?(y&&(A+=t/(M.Sl-1)),A=d.ia(A,0,1)):A=P.hi;if(P.K()===C&&P.L()===F&&P.fi===J&&P.hi===A)return S;P.og(C);P.pg(F);P.MI(J);P.NI(A);this.wJ();return!0}Ej(){return this.H.Ej()}hw(u,t){return this.Kc().Cg(u,t)&&this.Kg().Cg(u,t)?this.Ej()?void 0:this.Hw()?this.tm().Cg(u-
this.K(),t-this.L()):!0:!1}gea(){return 0!==(this.Ja&16)}FW(){if(this.gea()&&this.zh()&&0===(this.Ja&256)){var u=this.Kc(),t=this.T.vD,A=this.uD;c.set(t.Nj(u.X),t.Oj(u.U),t.Nj(u.ca),t.Oj(u.ba));A.xd(c)||(u=this.H,A===q?(t.Fm(u,null,c),this.uD=d.F(d.Rect,c)):(t.Fm(u,A,c),A.Na(c)),this.Ja&=-17)}}xV(){const u=this.uD;u!==q&&(this.T.vD.Fm(this.H,u,null),this.uD=q)}via(){const u=this.xa();if(u.Os&&0===(this.Ja&256)){var t=u.rv,A=this.Kc(),y=this.oz;c.set(t.Nj(A.X),t.Oj(A.U),t.Nj(A.ca),t.Oj(A.ba));y.xd(c)||
(A=this.H,y===p?(t.Fm(A,null,c),this.oz=d.F(d.Rect,c)):(t.Fm(A,y,c),y.Na(c)),u.d$())}}yV(){const u=this.oz;u!==p&&(this.xa().rv.Fm(this.H,u,null),this.oz=p)}Haa(){const u=this.H,t=this.Il,A=t.M;A.length&&A[A.length-1]===u||(t.Uo(u,!1),t.Di(u,!1),this.j.ea())}Faa(){const u=this.H,t=this.Il,A=t.M;A.length&&A[0]===u||(t.Uo(u,!1),t.Rfa(u),this.j.ea())}Gaa(u){const t=this.H,A=this.Il;if(A.Kd()!==u.Kd())throw Error("layer from different layout");u!==A&&(A.Uo(t,!0),this.Lx(u),u.Di(t,!0),this.j.ea())}Eaa(u,
t){const A=this.H;let y=!1;const C=this.Il;if(u.zb!==A.zb){var F=u.C();if(!F)throw Error("expected world instance");F=F.xa();C.Ua()!==F.Ua()&&(C.Uo(A,!0),this.Lx(F),F.Di(A,!0),y=!0);u=F.Q6(A,u,!!t);(y||u)&&this.j.ea()}}uha(u){this.Xg(64,u)}Gw(){return 0!==(this.Ja&64)}Da(u){const t={x:this.K(),y:this.L(),w:this.R(),h:this.S(),l:this.xa().jb,zi:this.$k()};0!==this.kb()&&(t.ze=this.kb());0!==this.$()&&(t.a=this.$());this.oo()||(t.c=this.Nb.toJSON());.5!==this.Rk()&&(t.oX=this.Rk());.5!==this.Sk()&&
(t.oY=this.Sk());0!==this.xj()&&(t.bm=this.xj());this.xe()||(t.v=this.xe());this.zh()||(t.ce=this.zh());this.TQ()&&(t.be=this.TQ());this.kf&&(t.fx=this.kf.Da());const A=0!==(this.Ja&32);A&&(t.sfi=A);this.cj&&(t.sft=[...this.cj].join(" "));this.ic&&"visual-state"!==u&&(t.sgi=this.ic.Da());this.Pg()&&(t.mesh=this.Yk().xc());return t}eu(u){"visual-state"!==u&&this.rga()}Ka(u,t){x=!1;this.og(u.x);this.pg(u.y);this.Ae(u.w);this.df(u.h);this.QC(u.zi);this.ef(u.hasOwnProperty("ze")?u.ze:0);this.yc(u.hasOwnProperty("a")?
u.a:0);u.hasOwnProperty("c")?g.mq(u.c):u.hasOwnProperty("o")?(g.Tn(this.Nb),g.$p=u.o):g.oq(1,1,1,1);this.NC(g);this.Pt(u.hasOwnProperty("oX")?u.oX:.5);this.Qt(u.hasOwnProperty("oY")?u.oY:.5);this.Jf(u.hasOwnProperty("bm")?u.bm:0);this.Gh(u.hasOwnProperty("v")?u.v:!0);this.Zw(u.hasOwnProperty("ce")?u.ce:!0);this.q9(u.hasOwnProperty("be")?u.be:!1);this.II(u.hasOwnProperty("sfi")?u.sfi:!1,u.hasOwnProperty("sft")?u.sft:"");this.kf&&u.hasOwnProperty("fx")&&this.kf.Ka(u.fx);if(u.hasOwnProperty("sgi")&&
"visual-state"!==t){this.oJ(null);const A=this.ic,y=u.sgi;A.Ka(y);const C=this.N().Mb(),F=()=>{C.removeEventListener("afterload",F);0===(this.Ja&256)&&A.Tj(y)};C.addEventListener("afterload",F)}u.hasOwnProperty("mesh")?(u=u.mesh,this.HG(u.cols,u.rows),this.Yk().pc(u)):this.WB();this.W();x=!0;this.hu()}}}
{"use strict";const d=self.D;d.dP=class extends d.za{constructor(b,a){super();const f=b.N(),c=f.xn,e=f.ti(a[1]);c.z4(e)||c.e1(a);this.j=f;this.T=b;this.$j=c.d3(e);this.Za=null;this.cE=e.Instance;this.jb=a[2];this.ra=a[0];this.Qy=this.j.Aj(a[3]);this.Za=d.F(e.Wd,this);this.Sb()}static fb(b,a){return d.F(d.dP,b,a)}B(){this.$j=this.j=null;this.Za.B();this.cE=this.Za=null}Sb(){this.Za.Sb()}N(){return this.j}P(){return this.T}fg(){return this.$j}Aj(){return this.Qy}}}
{"use strict";const d=self.D,b=self.Jw;d.wA=class extends d.za{constructor(a){super();this.j=a.fd;this.Ed=a.WN;this.$j=this.Ed.fg();this.H=a.instance;this.hb=a.index;this.jf=this.ya=null;this.$j.Di(this.H)}B(){this.jf&&(this.jf.Jx(),this.jf=null);this.$j.Uo(this.H);this.ya.B();this.H=this.$j=this.Ed=this.j=this.jf=this.ya=null}qC(a){if(this.ya)throw Error("already got sdk instance");this.ya=d.F(this.Ed.cE,this,a);this.Yda()}N(){return this.j}oi(){return this.Ed}fg(){return this.$j}Ei(){return this.hb}SB(){this.ya.SB()}xc(){return this.ya.xc()}pc(a){return this.ya.pc(a)}static SI(a,
f){var c=a.H,e=f.H;const h=c.P().Ua(),g=e.P().Ua();if(h!==g)return h-g;c=c.PY;e=e.PY;return c!==e?c-e:a.lD.Ei()-f.lD.Ei()}Yda(){const a=this.ya.$e(),f=a||b;b.Sj(this);this.jf=new f;b.Sj(null);if(a&&!(this.jf instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}oB(){return this.jf}}}
{"use strict";const d=self.D;d.hm=class extends d.za{constructor(b,a){super();this.uc=b;this.Oh=[];this.Vj=[];this.ED=new Map;this.Ni=[];this.nv=!0;for(const f of a)b=d.F(d.IP,this,f,this.Oh.length),this.Oh.push(b),this.ED.set(b.ra.toLowerCase(),b),3<=f.length&&this.Ni.push(this.KJ(f[2]));this.N().Naa(this)}B(){d.I(this.Oh);d.I(this.Vj);this.ED.clear();d.I(this.Ni);this.uc=null}p8(b){if(b.length){this.Oh=b.concat(this.Oh);for(const a of b)this.ED.set(a.ra.toLowerCase(),a);for(let a=0,f=this.Oh.length;a<
f;++a)this.Oh[a].zha(a)}}KJ(b){b=b.slice(0);for(let a=0,f=b.length;a<f;++a){const c=b[a];if(Array.isArray(c)){const e=d.F(d.ub);e.mq(c);b[a]=e}}return b}N(){return this.uc.N()}Po(){d.I(this.Vj);let b=!0;for(const a of this.Oh)a.hc&&(this.Vj.push(a),a.Db.nv||(b=!1));this.nv=b}qh(){return this.Oh}v4(){return 0<this.Oh.length}mm(b){return this.ED.get(b.toLowerCase())||null}bQ(b){b=Math.floor(+b);if(0>b||b>=this.Oh.length)throw new RangeError("invalid effect type index");return this.Oh[b]}Nw(b){return this.bQ(b).hc}LS(b,
a){this.bQ(b).YB(a)}Gw(){return 0<this.Vj.length}rh(b){return this.Ni[b]}static e9(b){return b&&b instanceof d.ub?{t:"color",v:b.toJSON()}:b}static D6(b){if("object"===typeof b){if("color"===b.t){const a=d.F(d.ub);a.mq(b.v);return a}throw Error("invalid effect parameter type");}return b}static xS(b){return b.map(d.hm.e9)}static oR(b){return b.map(d.hm.D6)}xc(){return this.Oh.map(b=>({name:b.ra,active:b.hc,params:d.hm.xS(this.Ni[b.Ua()])}))}pc(b){for(const a of b)if(b=this.mm(a.name))b.YB(a.active),
this.Ni[b.Ua()]=d.hm.oR(a.params);this.Po()}}}
{"use strict";const d=self.D;d.IP=class extends d.za{constructor(b,a,f){super();this.eb=b;this.Rf=a[0];this.ra=a[1];this.hb=f;this.Db=null;this.hc=!0}B(){this.Db=this.eb=null}M0(b){b=d.F(d.IP,b,[this.Rf,this.ra],-1);b.Db=this.Db;b.hc=this.hc;return b}SU(b){b=b.AQ(this.Rf);if(!b)throw Error("failed to find shader program '"+this.Rf+"'");this.Db=b}zha(b){this.hb=b}Ua(){return this.hb}N(){return this.eb.N()}YB(b){this.hc=!!b}m3(){const b=[];for(let a=0,f=this.Db.Ns.length;a<f;++a){const c=this.Db.jB(a);
if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(d.F(d.ub,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const d=self.D;d.J5=class extends d.za{constructor(b,a){super();this.H=b;this.bka=a;this.eb=b.P().eb;this.ir=[];this.Vj=[];this.nv=!0;this.Ni=[];for(const f of this.eb.qh())this.ir.push(!0);this.Po()}B(){d.I(this.ir);d.I(this.Vj);d.I(this.Ni);this.eb=this.H=null}Aea(b){for(const a of b)this.Ni.push(this.KJ(a))}KJ(b){b=b.slice(0);for(let a=0,f=b.length;a<f;++a){const c=b[a];if(Array.isArray(c)){const e=d.F(d.ub);e.mq(c);b[a]=e}}return b}B6(){for(const b of this.eb.qh())this.Ni.push(b.m3())}N(){return this.H.N()}Po(){d.I(this.Vj);
const b=this.eb.qh(),a=this.Vj,f=this.ir;let c=!0;for(let e=0,h=b.length;e<h;++e)if(f[e]){const g=b[e];a.push(g);g.Db.nv||(c=!1)}this.nv=c;this.bka.uha(!!a.length)}rh(b){return this.Ni[b]}Nw(b){return this.ir[b]}LS(b,a){this.ir[b]=!!a}qh(){return this.eb.qh()}Da(){return this.eb.qh().map(b=>({name:b.ra,active:this.ir[b.Ua()],params:d.hm.xS(this.Ni[b.Ua()])}))}Ka(b){for(const a of b)if(b=this.eb.mm(a.name))this.ir[b.Ua()]=a.active,this.Ni[b.Ua()]=d.hm.oR(a.params);this.Po()}}}
{"use strict";const d=self.D,b=[],a=[],f=[],c=d.F(d.rq),e=d.F(d.rq),h=d.F(d.Ad);d.F(d.Rect);d.F(d.Rect);let g=null,l=null,n=null;d.O0=class extends d.za{constructor(p){super();this.j=p;this.nz=[]}B(){this.j=null}Co(p,q){const r=p.C(),w=q.C();r&&w&&r.zh()&&w.zh()&&this.nz.push([p,q])}$O(p,q,r){for(const [w,x]of this.nz){let u;if(p===w)u=x;else if(p===x)u=w;else continue;u.gt(q)&&(r.includes(u)||r.push(u))}}qP(p,q){if(!this.nz.length)return!1;for(const [r,w]of this.nz)if(p===r&&q===w||p===w&&q===r)return!0;
return!1}rP(){d.I(this.nz)}je(p,q){if(!p||!q||p===q)return!1;p=p.C();q=q.C();if(!p.zh()||!q.zh())return!1;const r=p.xa(),w=q.xa();return r.k6(w)?this.hia(p,q):this.gia(p,q)}hia(p,q){if(!p.Kc().WF(q.Kc())||!p.Kg().lO(q.Kg())||p.Ej()&&q.Ej())return!1;if(p.Ej())return this.WI(p,q);if(q.Ej())return this.WI(q,p);if(!p.Hw()&&!q.Hw())return!0;const r=p.tm(),w=q.tm();return r.dA(w,q.K()-p.K(),q.L()-p.L())}gia(p,q){var r=p.Ej(),w=q.Ej();if(r&&!w)return this.jT(p,q);if(w&&!r)return this.jT(q,p);if(w||r)return!1;
w=p.xa();r=q.xa();c.Na(p.tm());e.Na(q.tm());var x=c.$d;for(let u=0,t=x.length;u<t;u+=2){const A=u+1,y=x[A],[C,F]=w.Mq(x[u]+p.K(),y+p.L());x[u]=C;x[A]=F}p=e.$d;for(let u=0,t=p.length;u<t;u+=2){w=u+1;x=p[w];const [A,y]=r.Mq(p[u]+q.K(),x+q.L());p[u]=A;p[w]=y}c.t_();e.t_();return c.dA(e,0,0)}jT(p,q){var r=p.xa(),w=q.xa();g||(g=d.F(d.rq));l||(l=d.F(d.Rect));n||(n=d.F(d.Ad));var x=q.K(),u=q.L();const [t,A]=w.Mq(x,u),[y,C]=r.fm(t,A);r=x-y;u-=C;l.Na(q.Kc());l.offset(r,u);if(!p.Kc().WF(l))return!1;n.Na(q.Kg());
n.offset(r,u);if(!p.Kg().lO(n))return!1;g.Na(q.tm());w=g.$d;for(let F=0,H=w.length;F<H;F+=2)x=F+1,w[F]+=r,w[x]+=u;return this.WI(p,q,y,C,g,l,n)}WI(p,q,r,w,x,u,t){u=void 0!==u?u:q.Kc();const A=p.K(),y=p.L();var C=p.Ra().ya;r=void 0!==r?r:q.K();w=void 0!==w?w:q.L();p=q.Hw();t=void 0!==t?t:q.Kg();C.Tqa(u,a);for(let J=0,M=a.length;J<M;++J){var F=a[J];C=F.f4();if(u.bla(C,A,y)&&(h.nq(C),h.offset(A,y),h.lO(t)))if(p){var H=void 0!==x?x:q.tm();if(F=F.qQ()){if(F.dA(H,r-(A+C.X),w-(y+C.U)))return d.I(a),!0}else if(c.NO(h,
0,0),c.dA(H,r,w))return d.I(a),!0}else if(H=F.qQ()){if(c.NO(t,0,0),H.dA(c,-(A+C.X),-(y+C.U)))return d.I(a),!0}else return d.I(a),!0}d.I(a);return!1}Wt(p,q,r,w){const x=p.ka();var u=this.j.Ub();if(!u)throw Error("cannot call outside event");u=u.Ge;if(x.wc){w||(x.ff(!1),d.I(x.M));for(var t of p.Ca()){var A=t.C(),y=A.xa();const [C,F]=y.fm(q,r,A.Zk());if(A.hw(C,F)){if(w)return!1;x.er(t)}else u&&x.To(t)}}else{t=u?x.Gc:x.M;A=0;for(let C=0,F=t.length;C<F;++C){y=t[C];const H=y.C(),J=H.xa(),[M,P]=J.fm(q,r,
H.Zk());if(H.hw(M,P)){if(w)return!1;u?x.er(y):t[A++]=y}else u&&(t[A++]=y)}w||(t.length=A)}p.Fc();return w?!0:x.BH()}YA(p,q,r,w){p=p?1!==p.Vf||1!==p.Wf:!1;if(q.lb)for(const x of q.mp)p||x.GK?d.cq(w,x.Ca()):(x.BW(),x.vD.VB(r,w));else p||q.GK?d.cq(w,q.Ca()):(q.BW(),q.vD.VB(r,w))}oQ(p,q,r,w){for(const x of q)this.YA(p,x,r,w)}h4(p,q,r){const w=this.j.xH();w&&this.oQ(p,w.iB(),q,r)}O3(p,q,r){const w=this.j.kH();w&&this.oQ(p,w.iB(),q,r)}GB(p,q){return p.YU()&&(!q||q.C().GB(p.Ze().get("solidTags")))}kd(p){const q=
p.C();this.h4(q.xa(),q.Kc(),b);for(const r of b)if(this.GB(r,p)&&this.je(p,r))return d.I(b),r;d.I(b);return null}ml(p,q){let r=null;q&&(r=f,d.I(r));const w=p.C();this.O3(w.xa(),w.Kc(),b);for(const x of b)if(x.nea()&&this.je(p,x))if(q)r.push(x);else return d.I(b),x;d.I(b);return r}v8(p,q,r,w,x){w=w||50;const u=p.C(),t=u.K(),A=u.L();for(let y=0;y<w;++y)if(u.mb(t+q*y,A+r*y),u.W(),!this.je(p,x))return;u.mb(t,A);u.W()}Sg(p,q,r,w,x,u){w=w||50;const t=p.C(),A=t.K(),y=t.L();let C=null,F=null;for(let H=0;H<
w;++H)if(t.mb(A+q*H,y+r*H),t.W(),!this.je(p,C))if(C=this.kd(p))F=C;else if(x&&(C=u?this.je(p,u)?u:null:this.ml(p))&&(F=C),!C)return F&&this.Uw(p,q,r,F,16,!0),!0;t.mb(A,y);t.W();return!1}fI(p,q,r,w){w=w||50;const x=p.C(),u=x.K(),t=x.L();let A=null,y=null;for(let C=0;C<w;++C)for(let F=0;2>F;++F){const H=2*F-1;x.mb(u+q*C*H,t+r*C*H);x.W();if(!this.je(p,A))if(A=this.kd(p))y=A;else return y&&this.Uw(p,q*H,r*H,y,16,!0),!0}x.mb(u,t);x.W();return!1}Uw(p,q,r,w,x,u){let t=2,A=!1;var y=!1;const C=p.C();let F=
C.K(),H=C.L();for(;t<=x;)y=1/t,t*=2,C.Ld(q*y*(A?1:-1),r*y*(A?1:-1)),C.W(),this.je(p,w)||u&&this.kd(p)?y=A=!0:(y=A=!1,F=C.K(),H=C.L());y&&(C.mb(F,H),C.W())}gI(p,q=100){let r=0;const w=p.C(),x=w.K(),u=w.L();let t=0,A=this.kd(p);if(!A)return!0;for(;r<=q;){let y=0,C=0;switch(t){case 0:y=0;C=-1;r++;break;case 1:y=1;C=-1;break;case 2:y=1;C=0;break;case 3:C=y=1;break;case 4:y=0;C=1;break;case 5:y=-1;C=1;break;case 6:y=-1;C=0;break;case 7:C=y=-1}t=(t+1)%8;w.mb(Math.floor(x+y*r),Math.floor(u+C*r));w.W();if(!this.je(p,
A)&&(A=this.kd(p),!A))return!0}w.mb(x,u);w.W();return!1}jP(p,q,r,w){const x=p.C(),u=x.K(),t=x.L(),A=Math.max(10,d.yf(q,r,u,t));var y=d.Ag(q,r,u,t),C=w||this.kd(p);if(!C)return d.Pc(y+Math.PI);let F=C;var H=0,J=0;const M=d.Ga(5);let P;for(P=1;36>P;++P){const S=y-P*M;x.mb(q+Math.cos(S)*A,r+Math.sin(S)*A);x.W();if(!this.je(p,F)&&(F=w?null:this.kd(p),!F)){H=S;break}}36===P&&(H=d.Pc(y+Math.PI));F=C;for(P=1;36>P;++P)if(C=y+P*M,x.mb(q+Math.cos(C)*A,r+Math.sin(C)*A),x.W(),!this.je(p,F)&&(F=w?null:this.kd(p),
!F)){J=C;break}36===P&&(J=d.Pc(y+Math.PI));x.mb(u,t);x.W();if(J===H)return J;p=d.Rs(J,H)/2;p=d.Ye(J,H)?d.Pc(H+p+Math.PI):d.Pc(J+p);H=Math.cos(y);y=Math.sin(y);J=Math.cos(p);p=Math.sin(p);q=H*J+y*p;return d.Ag(0,0,H-2*q*J,y-2*q*p)}}}
{"use strict";const d=self.D;d.M$=class extends d.za{constructor(b,a){super();this.VK=b;this.UK=a;this.ck=d.F(d.Qw)}B(){this.ck.B();this.ck=null}ho(b,a,f){let c=this.ck.ma(b,a);return c?c:f?(c=d.F(d.r4,this,b,a),this.ck.Set(b,a,c),c):null}Nj(b){b=Math.floor(b/this.VK);return isFinite(b)?b:0}Oj(b){b=Math.floor(b/this.UK);return isFinite(b)?b:0}Fm(b,a,f){if(a)for(let c=a.X,e=a.ca;c<=e;++c)for(let h=a.U,g=a.ba;h<=g;++h){if(f&&f.Cg(c,h))continue;const l=this.ho(c,h,!1);l&&(l.xi(b),l.qo()&&this.ck.sq(c,
h))}if(f)for(let c=f.X,e=f.ca;c<=e;++c)for(let h=f.U,g=f.ba;h<=g;++h)a&&a.Cg(c,h)||this.ho(c,h,!0).IH(b)}VB(b,a){let f=this.Nj(b.X);const c=this.Oj(b.U),e=this.Nj(b.ca);b=this.Oj(b.ba);if(isFinite(e)&&isFinite(b))for(;f<=e;++f)for(let h=c;h<=b;++h){const g=this.ho(f,h,!1);g&&g.LG(a)}}}}
{"use strict";const d=self.D;d.r4=class extends d.za{constructor(b,a,f){super();this.fa=a;this.Z=f;this.M=d.F(d.uG)}B(){this.M.B();this.M=null}qo(){return this.M.qo()}IH(b){this.M.Ec(b)}xi(b){this.M.sq(b)}LG(b){d.cq(b,this.M.TG())}}}{"use strict";const d=self.D;d.qva=class{constructor(){this.Jka=this.Ika=0;this.rect=new d.Rect;this.$z=0}Set(b,a,f,c){this.Ika=f-b;this.Jka=c-a;this.rect.set(b,a,f,c);this.rect.normalize();this.$z=0;return this}}}
{"use strict";const d=self.D,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),f=d.F(d.Ad),c=d.F(d.Rect);d.AG=class extends d.za{constructor(e){super();this.j=e;this.wl=null;this.$X=!1;this.Vl=this.tb=null;this.xL="high-performance";this.ep=this.cp=this.Ji=this.Ki=this.Fd=this.Od=this.Wl=this.Xl=0;this.Au=!0;this.yl=this.Vm=this.wN=0;this.fX=this.uX="letterbox-scale";this.$ia=this.Zia=0;this.sk=this.ON="high";this.Rr=!1;this.Xx=
[];this.GF=new Set;this.fN=null;this.Jr=this.bh=this.op=0;this.VD=null;this.lM=new Map;this.oy=NaN;this.KF=new Map;this.jF="";this.iN=1;this.iZ=d.F(d.Rect);this.jN="";this.jZ=this.Bz=null;this.Yy=0;this.uf=-1;this.Ap=0;this.tM=h=>this.Ap=h.progress;this.vg=null;this.wg={hA:null,kA:null,tA:null};this.nN=this.lZ=this.oN=0;this.Hk="fade-in";this.mN=null;this.kZ=new Promise(h=>this.mN=h)}rha(e){this.xL=e}Wha(e){this.$X=!!e}async eg(e){this.wl=e.canvas;this.j.pj("runtime","window-resize",h=>this.YJ(h));
this.j.pj("runtime","fullscreenchange",h=>this.rfa(h));this.j.pj("runtime","fullscreenerror",h=>this.sfa(h));this.Rr=!!e.isFullscreen;if(this.$X)if(navigator.gpu)try{await this.aea(e)}catch(h){this.Vl=null,console.error("Failed to initialise WebGPU, switching to WebGL: ",h)}else console.warn("WebGPU was enabled but is not supported, falling back to WebGL");this.Vl||await this.$da(e)}async aea(e){const h={powerPreference:this.xL,depth:this.j.Nn};this.Vl=d.F(d.oa.aAa);await this.Vl.fb(this.wl,h);this.Vl.Mj()||
(this.Jr=NaN);this.zc(e.windowInnerWidth,e.windowInnerHeight,!0)}async $da(e){this.wl.addEventListener("webglcontextlost",g=>this.Ix(g));this.wl.addEventListener("webglcontextrestored",()=>this.WJ());const h={powerPreference:this.xL,YZ:!0,depth:this.j.Nn};"Android"===d.Bb.Ft&&"Chromium"===d.Bb.yA&&75>d.Bb.xG&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.qO=1);"standard"===this.j.pu?h.alpha=
!0:(h.alpha=!1,h.pO=!0);this.tb=d.F(d.oa.zaa,this.wl,h);await this.tb.xB();this.tb.Mj()||(this.Jr=NaN);this.zc(e.windowInnerWidth,e.windowInnerHeight,!0);this.fN=self.C3_Shaders;await this.bV();e=!1;for(const g of this.j.AK){for(const l of g.qh())l.SU(this.tb),l.Db.Sz&&(e=!0);g.Po()}this.j.Sha(e);this.tb.Mj()&&(this.VD=d.F(d.oa.wT,this.tb));this.tb.DI(this.Au)}async bV(){if(this.fN){var e=[];for(const [h,g]of Object.entries(this.fN))e.push(this.tb.AP(g,d.oa.rx.YG(),h));await Promise.all(e);this.tb.U8();
this.tb.Bi()}}B(){this.wl=this.tb=this.j=null}YJ(e){const h=this.j,g=e.devicePixelRatio;h.pf&&(self.devicePixelRatio=g);h.mha(g);this.Rr=!!e.isFullscreen;this.zc(e.innerWidth,e.innerHeight);h.ea();h.Ob&&(h.Iw()||self.Hg.Vra())&&h.kI()}rfa(e){this.Rr=!!e.isFullscreen;this.zc(e.innerWidth,e.innerHeight,!0);this.j.ea()}sfa(e){this.Rr=!!e.isFullscreen;this.zc(e.innerWidth,e.innerHeight,!0);this.j.ea()}zc(e,h,g=!1){e=Math.floor(e);h=Math.floor(h);if(0>=e||0>=h)throw Error("invalid size");if(this.Xl!==
e||this.Wl!==h||g){this.Xl=e;this.Wl=h;g=this.xw();"letterbox-scale"===g?this.nba(e,h):"letterbox-integer-scale"===g?this.mba(e,h):"off"===g?this.kba(e,h):this.lba(e,h);this.tia(g);this.wl.width=this.Ki;this.wl.height=this.Ji;this.j.Am("canvas","update-size",{marginLeft:this.cp,marginTop:this.ep,styleWidth:this.Od,styleHeight:this.Fd});e=this.kc();e.zc(this.Ki,this.Ji,!0);for(var l of this.Xx)e.B1(l);d.I(this.Xx);l=this.j.ob;l.Sq();l.Rq()}}nba(e,h){const g=this.j.km(),l=this.j.Zh,n=this.j.Yh,p=l/
n;e/h>p?(this.Od=Math.round(h*p),this.Fd=h,this.cp=Math.floor((e-this.Od)/2),this.ep=0):(this.Od=e,this.Fd=Math.round(e/p),this.cp=0,this.ep=Math.floor((h-this.Fd)/2));this.Ki=Math.round(this.Od*g);this.Ji=Math.round(this.Fd*g);this.j.nx(l,n)}mba(e,h){const g=this.j.km();1!==g&&(e+=1,h+=1);const l=this.j.Zh,n=this.j.Yh;var p=l/n;p=e/h>p?h*p*g/l:e/p*g/n;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.Ki=Math.round(l*p);this.Ji=Math.round(n*p);this.Od=this.Ki/g;this.Fd=this.Ji/g;this.cp=Math.max(Math.floor((e-
this.Od)/2),0);this.ep=Math.max(Math.floor((h-this.Fd)/2),0);this.j.nx(l,n)}lba(e,h){const g=this.j.km();this.Od=e;this.Fd=h;this.Ki=Math.round(this.Od*g);this.Ji=Math.round(this.Fd*g);this.ep=this.cp=0;e=this.lm();this.j.nx(this.Od/e,this.Fd/e)}kba(e,h){const g=this.j.km();this.Od=this.j.zg;this.Fd=this.j.yg;this.Ki=Math.round(this.Od*g);this.Ji=Math.round(this.Fd*g);this.Rr?(this.cp=Math.floor((e-this.Od)/2),this.ep=Math.floor((h-this.Fd)/2)):this.ep=this.cp=0;this.j.nx(this.j.zg,this.j.yg)}tia(e){if("high"===
this.ON)this.Vm=this.Ki,this.yl=this.Ji,this.sk="high";else{let g;if("off"===this.xw()){var h=this.j.zg;g=this.j.yg}else h=this.j.Zh,g=this.j.Yh;this.Ki<h&&this.Ji<g?(this.Vm=this.Ki,this.yl=this.Ji,this.sk="high"):(this.Vm=h,this.yl=g,this.sk="low","scale-inner"===e?(e=h/g,h=this.Xl/this.Wl,h<e?this.Vm=this.yl*h:h>e&&(this.yl=this.Vm/h)):"scale-outer"===e&&(e=h/g,h=this.Xl/this.Wl,h>e?this.Vm=this.yl*h:h<e&&(this.yl=this.Vm/h)))}}I9(e){if(!b.has(e))throw Error("invalid fullscreen mode");this.uX=
e;e=this.j.ob;e.Sq();e.Rq()}dB(){return this.uX}y9(e){if(!b.has(e))throw Error("invalid fullscreen mode");this.fX=e;e=this.j.ob;e.Sq();e.Rq()}xw(){return this.Rr?this.fX:this.dB()}MS(e){if(!a.has(e))throw Error("invalid fullscreen scaling quality");this.ON=e;this.j.ob.Sq()}static jU(e){switch(e){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");
}}yj(){return this.Vm}pi(){return this.yl}DI(e){this.Au=!!e}Rha(e){this.wN=e}d6(){return this.kc().po()}Ix(e){console.log("[Construct 3] WebGL context lost");e.preventDefault();this.Xx=[];this.GF.clear();this.tb.zm();this.j.Ix()}async WJ(){await this.tb.aI();await this.bV();for(const e of this.j.AK)for(const h of e.qh())h.SU(this.tb);await this.j.WJ();console.log("[Construct 3] WebGL context restored")}Gq(){return this.tb}Fw(){return this.Vl}kc(){return this.Vl||this.tb}ko(){return"low"===this.sk?
1/this.j.km():this.lm()}lm(){const e=this.xw();if("off"===e||"crop"===e)return 1;const h=this.j.Zh,g=this.j.Yh,l=h/g,n=this.Ki/this.Ji;return"scale-inner"!==e&&n>l||"scale-inner"===e&&n<l?this.Fd/g:this.Od/h}JS(e,h,g){h=(h||this.Vm)/2+this.Zia;const l=(g||this.yl)/2+this.$ia;g=e.fw(h,l,100*this.j.km(),h,l,g||this.yl);e.Ot(g)}u9(e){var h=this.Od/2;const g=this.Fd/2;h=e.fw(h,g,100,h,g);e.Ot(h)}vq(){return this.cp}wq(){return this.ep}rw(e){e.depth=this.j.Nn;const h=this.Xx,g=h.findIndex(n=>n.Q5(e));
let l;-1!==g?(l=h[g],h.splice(g,1)):l=this.kc().k1(e);this.GF.add(l);return l}Do(e){if(!this.GF.has(e))throw Error("render target not in use");this.GF.delete(e);this.Xx.push(e)}*LF(){for(const e of this.j.ob.oA())for(const h of e.Cc){const g=this.lM.get(h);g&&(yield g)}}U3(e){if(!this.kc().Mj())return null;let h=this.lM.get(e);h||(h={name:e.ra,RO:d.F(d.oa.wT,this.tb),NF:0,g_:0},this.lM.set(e,h));return h.RO}qia(){const e=this.kc();if(e.Mj()&&0===this.bh){this.bh=e.Qi;this.oy=NaN;for(const h of this.LF())h.NF=
NaN}}xia(){this.tb&&this.tb.Mj()&&this.yia();this.Vl&&this.Vl.Mj()&&this.zia()}yia(){if(isNaN(this.oy)&&(this.oy=this.VD.fQ(this.op,this.bh),!isNaN(this.oy))){if(this.j.Ob)for(const e of this.LF())if(e.NF=e.RO.fQ(this.op,this.bh),isNaN(e.NF))return;this.VD.DP(this.bh);this.Jr=Math.min(this.oy,1);if(this.j.Ob){for(const e of this.LF())e.RO.DP(this.bh),e.g_=Math.min(e.NF,1);self.Hg.maa(this.Jr,[...this.LF()])}this.op=this.bh;this.bh=0}}zia(){if(0!==this.bh){for(var e=this.op;e<this.bh;++e){var h=this.KF.get(e);
if(h&&!h.wB())return}h=this.j.jc();e=d.K6(h.Cc.length+1);for(var g=this.op;g<this.bh;++g){var l=this.KF.get(g);if(l){l=l.nB();for(let n=0,p=Math.min(e.length,l.length/2);n<p;++n){const q=l[2*n],r=l[2*n+1];e[n]=0===Number(q)||0===Number(r)?NaN:e[n]+Number(r-q)/1E9}}}this.Jr=d.ia(e[0],0,1);if(this.j.Ob){g=[];h=h.Cc;for(let n=0,p=Math.min(h.length,e.length-1);n<p;++n)g.push({name:h[n].ra,g_:d.ia(e[n+1],0,1)});self.Hg.maa(this.Jr,g)}for(e=this.op;e<this.bh;++e)this.KF.delete(e);this.op=this.bh;this.bh=
0}}Xaa(e){this.KF.set(this.Vl.Qi,e)}fB(){return this.Jr}eT(e,h,g,l,n,p){this.jF=e;this.iN=h;this.iZ.oj(g,l,n,p);return this.Bz?this.Bz:this.Bz=new Promise(q=>{this.jZ=q})}Zea(){if(this.jF){var e=this.wl,h=this.iZ,g=d.ia(Math.floor(h.X),0,e.width),l=d.ia(Math.floor(h.U),0,e.height),n=h.width();n=0===n?e.width-g:d.ia(Math.floor(n),0,e.width-g);h=h.height();h=0===h?e.height-l:d.ia(Math.floor(h),0,e.height-l);(0!==g||0!==l||n!==e.width||h!==e.height)&&0<n&&0<h&&(e=d.eg(n,h),e.getContext("2d").drawImage(this.wl,
g,l,n,h,0,0,n,h));d.gw(e,this.jF,this.iN).then(p=>{this.jN=URL.createObjectURL(p);this.Bz=null;this.jZ(this.jN)});this.jF="";this.iN=1}}s5(e){this.tb&&(2===e?(this.vg=d.F(d.oa.jS,this.kc()),this.vg.P9(),this.vg.F9(),this.vg.G9(),this.vg.L9(),this.vg.A$(),this.vg.zc(300,200)):0===e?(e=this.j.av)&&e.yo(this.tb).catch(h=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",h)):4===e&&(this.Mea().then(h=>{"done"===this.Hk?this.tb.Bf(h):this.wg.hA=h}).catch(h=>console.warn("Failed to load splash image: ",
h)),this.aV("splash-images/splash-poweredby-512.png").then(h=>{"done"===this.Hk?this.tb.Bf(h):this.wg.kA=h}).catch(h=>console.warn("Failed to load splash image: ",h)),this.aV("splash-images/splash-website-512.png").then(h=>{"done"===this.Hk?this.tb.Bf(h):this.wg.tA=h}).catch(h=>console.warn("Failed to load splash image: ",h))))}async Mea(){var e=(new URL("splash-images/splash-logo.svg",this.j.VG())).toString();e=await d.jm(e);e=await this.j.z8(e);return await this.tb.GA(e,{iA:"high"})}async aV(e){e=
(new URL(e,this.j.VG())).toString();e=await d.jm(e);return await this.tb.GA(e,{iA:"high"})}EH(){this.j.Am("runtime","hide-cordova-splash")}T$(){this.Yy=Date.now();this.j.Mb().addEventListener("loadingprogress",this.tM);this.uf=requestAnimationFrame(()=>this.cU());3!==this.j.$u&&this.EH()}async F2(){if(this.tb){this.Ap=1;var e=this.j.$u;4===e&&await this.kZ;this.kZ=this.mN=null;-1!==this.uf&&(cancelAnimationFrame(this.uf),this.uf=-1);this.j.Mb().removeEventListener("loadingprogress",this.tM);this.tM=
null;this.vg&&(this.vg.B(),this.vg=null);this.j.E8();this.tb.Oo();this.wg.hA&&(this.tb.Bf(this.wg.hA),this.wg.hA=null);this.wg.kA&&(this.tb.Bf(this.wg.kA),this.wg.kA=null);this.wg.tA&&(this.tb.Bf(this.wg.tA),this.wg.tA=null);this.tb.DA();this.tb.ow();this.Hk="done";this.op=this.tb.Qi;3===e&&this.EH()}}cU(){if(-1!==this.uf){var e=this.tb;if(e){e.Oo();this.uf=-1;var h=this.j.Kb.AL,g=this.j.$u;3!==g&&(this.u9(e),e.DA(),e.Jt(),e.Bi(),e.Mf(null));if(0===g)this.Mca(h);else if(1===g)this.uC(h,120,0);else if(2===
g)this.Lca(h);else if(3!==g)if(4===g)this.Nca(h);else throw Error("invalid loader style");e.ow();this.uf=requestAnimationFrame(()=>this.cU())}}}Lca(e){e?this.vg.ES(1,0,0):this.vg.ES(.6,.6,.6);this.vg.Tt(Math.round(100*this.Ap)+"%");e=this.Od/2;const h=this.Fd/2;f.v_(e-150,h-100,e+150,h+100);this.tb.Mf(this.vg.lc());this.tb.el(f,this.vg.vi())}uC(e,h,g){const l=this.tb;l.xI();e?l.ng(1,0,0,1):l.ng(.118,.565,1,1);e=this.Od/2;const n=this.Fd/2,p=h/2;c.oj(e-p,n-4+g,Math.floor(h*this.Ap),8);l.Rect(c);c.oj(e-
p,n-4+g,h,8);c.offset(-.5,-.5);c.VF(.5,.5);l.ng(0,0,0,1);l.kR(c);c.VF(1,1);l.ng(1,1,1,1);l.kR(c)}Mca(e){var h=this.j.av;if(h)if(h=h.lc()){var g=h.R(),l=h.S(),n=this.Od/2,p=this.Fd/2,q=g/2;l/=2;f.v_(n-q,p-l,n+q,p+l);this.tb.Mf(h);this.tb.Ad(f);this.uC(e,g,l+16)}else this.uC(e,120,0);else this.uC(e,120,0)}Nca(e){const h=this.tb,g=this.wg.hA,l=this.wg.kA,n=this.wg.tA,p=Date.now();0===this.oN&&(this.Yy=p);const q=this.j.Bt()||this.j.oja&&!this.j.R5(),r=q?0:200,w=q?0:3E3;let x=1;"fade-in"===this.Hk?x=
Math.min((p-this.Yy)/300,1):"fade-out"===this.Hk&&(x=Math.max(1-(p-this.nN)/300,0));h.xI();h.ng(.231*x,.251*x,.271*x,x);c.set(0,0,this.Od,this.Fd);h.Rect(c);const u=Math.ceil(this.Od),t=Math.ceil(this.Fd);let A;256<this.Fd?(h.ng(.302*x,.334*x,.365*x,x),A=Math.max(.005*t,2),c.oj(0,.8*t-A/2,u,A),h.Rect(c),e?h.ng(x,0,0,x):h.ng(.161*x,.953*x,.816*x,x),e=u*this.Ap,c.oj(.5*u-e/2,.8*t-A/2,e,A),h.Rect(c),h.ng(x,x,x,x),h.Bi(),l&&(e=1.5*d.ia(.22*t,105,.6*u),A=e/8,c.oj(.5*u-e/2,.2*t-A/2,e,A),h.Mf(l),h.Rect(c)),
g&&(A=e=Math.min(.395*t,.95*u),c.oj(.5*u-e/2,.485*t-A/2,e,A),h.Mf(g),h.Rect(c)),n&&(e=1.5*d.ia(.22*t,105,.6*u),A=e/8,c.oj(.5*u-e/2,.868*t-A/2,e,A),h.Mf(n),h.Rect(c))):(h.ng(.302*x,.334*x,.365*x,x),A=Math.max(.005*t,2),c.oj(0,.85*t-A/2,u,A),h.Rect(c),e?h.ng(x,0,0,x):h.ng(.161*x,.953*x,.816*x,x),e=u*this.Ap,c.oj(.5*u-e/2,.85*t-A/2,e,A),h.Rect(c),h.ng(x,x,x,x),h.Bi(),g&&(A=e=.55*t,c.oj(.5*u-e/2,.45*t-A/2,e,A),h.Mf(g),h.Rect(c)));this.oN++;"fade-in"===this.Hk&&300<=p-this.Yy&&2<=this.oN&&(this.Hk="wait",
this.lZ=p);"wait"===this.Hk&&p-this.lZ>=w&&1<=this.Ap&&(this.Hk="fade-out",this.nN=p);("fade-out"===this.Hk&&p-this.nN>=300+r||q&&1<=this.Ap&&500>p-this.Yy)&&this.mN()}}}
{"use strict";const d=self.D,b=self.Hg,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.wS=class extends d.za{constructor(c){c=Object.assign({},a,c);super();this.cz=c.messagePort;this.Nia=c.baseUrl;this.pf=!!c.isInWorker;f=c.ife;this.pk=c.exportType;this.bM=!!c.isiOSCordova;this.oja=!!c.isFBInstantAvailable;this.Lja=c.opusWasmScriptUrl;this.EY=c.opusWasmBinaryUrl;this.nf=this.Uia=this.Ob=!("preview"!==this.pk||!c.isDebug);this.aL=
0;this.aD=[];this.Hia=[];this.XM=this.OY=this.aF="";this.Yh=this.Zh=0;this.aX=self.devicePixelRatio;this.$u=this.yg=this.zg=this.MM=this.LM=0;this.HF=!1;this.yk=!0;this.LN=!1;this.av=null;this.Kb=d.F(d.o0,this,c);this.ob=d.F(d.u6,this);this.Ma=d.F(d.J2,this);this.xn=d.F(d.j8,this);this.nc=d.F(d.O0,this);this.Yb=d.F(d.aaa,this);this.yN=d.F(d.eaa,this);this.Cd=[];this.FM=new Map;this.GM=new Map;this.nX=0;this.Jia=[];this.AK=[];this.su=[];this.bn=[];this.eE=new Map;this.WD=!1;this.fz=this.HM=0;this.Or=
new Map;this.Pr=new Set;this.fE=new Set;this.RE=[];this.bY=[];this.ja=null;this.Nn=!1;this.rL="vsync";this.pu="standard";this.cd="trilinear";this.Fl=!1;this.DM=!0;this.YL=this.HY=!1;this.Yja={j_:e=>{this.Cn=this.uf=-1;this.Md(e)},ema:e=>{this.Cn=-1;this.Md(e,!1,"skip-render")},Rla:()=>{this.uf=-1;this.kI()}};this.Cn=this.uf=-1;this.Cu=this.Gn=this.Pl=0;this.KX=this.mE=this.XD=!1;this.UL=!0;this.yv=0;this.Rja=new d.eI(1);this.Qja=()=>Math.random();this.AD=this.BD=this.EE=this.Op=0;this.ae=1;this.xY=
30;this.vL=d.F(d.Dt);this.wL=d.F(d.Dt);this.NN=d.F(d.Dt);this.RD=-1;this.NE=this.nn=this.QD=this.Hr=0;this.El=!1;this.Xy=this.sz="";this.Zu=null;this.bs="";this.cN=this.WM=null;this.tc=d.F(d.Event.Mb);this.fL=new Map;this.OM=new Map;this.Hja=0;this.YX=this.bX=this.cX=!1;this.MN=[];this.Fr={pretick:d.F(d.Event,"pretick",!1),tick:d.F(d.Event,"tick",!1),tick2:d.F(d.Event,"tick2",!1),instancedestroy:d.F(d.Event,"instancedestroy",!1),beforelayoutchange:d.F(d.Event,"beforelayoutchange",!1),layoutchange:d.F(d.Event,
"layoutchange",!1)};this.Fr.instancedestroy.instance=null;this.Xe=d.F(d.Event.Mb);this.AZ=null;this.Zo=d.F(d.Oq,d.wA.SI);this.Yo=d.F(d.Oq,d.wA.SI);this.$o=d.F(d.Oq,d.wA.SI);this.Oy=d.F(d.n6,this,c.jobScheduler);c.canvas&&(this.ja=d.F(d.AG,this));this.cz.onmessage=e=>this._OnMessageFromDOM(e.data);this.pj("runtime","visibilitychange",e=>this.Kfa(e));this.pj("runtime","opus-decode",e=>this.Dia(e.arrayBuffer));this.pj("runtime","get-remote-preview-status-info",()=>this.Bda());this.pj("runtime","js-invoke-function",
e=>this.EC(e));this.pj("runtime","go-to-last-error-script",self.goToLastErrorScript);this.tc.addEventListener("window-blur",e=>this.XJ(e));this.tc.addEventListener("window-focus",()=>this.Lfa());this.Yb.a0();this.vk=null;this.kja=new WeakMap;this.nu={keyboard:null,tO:null,TO:null}}static fb(c){return d.F(d.wS,c)}B(){d.I(this.Cd);this.FM.clear();this.GM.clear();this.ob.B();this.ob=null;this.Ma.B();this.Ma=null;this.xn.B();this.xn=null;this.Kb.B();this.Kb=null;this.nc.B();this.nc=null;this.Yb.B();this.Yb=
null;this.yN.B();this.yN=null;this.ja&&(this.ja.B(),this.ja=null);this.tc.B();this.tc=null}["_OnMessageFromDOM"](c){const e=c.type;if("event"===e)this.mV(c);else if("result"===e)this.Dfa(c);else throw Error(`unknown message '${e}'`);}mV(c){if(this.YX){var e=c.component,h=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===e&&(n&&(c=new d.Event(h),c.data=g,this.tc.Fka(c)),l)){c=new d.Event(h,!0);for(const [q,r]of Object.entries(g))c[q]=
r;this.ni(c)}if(c=this.fL.get(e))if(c=c.get(h)){n=null;try{n=c(g)}catch(q){console.error(`Exception in '${e}' handler '${h}':`,q);null!==p&&this.JC(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.JC(p,!0,q)).catch(q=>{console.error(`Rejection from '${e}' handler '${h}':`,q);this.JC(p,!1,""+q)}):this.JC(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${h}' for component '${e}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${e}'`)}else this.MN.push(c)}JC(c,
e,h){this.cz.postMessage({type:"result",responseId:c,isOk:e,result:h})}Dfa(c){const e=c.responseId,h=c.isOk;c=c.result;const g=this.OM.get(e);h?g.resolve(c):g.reject(c);this.OM.delete(e)}pj(c,e,h){let g=this.fL.get(c);g||(g=new Map,this.fL.set(c,g));if(g.has(e))throw Error(`[Runtime] Component '${c}' already has handler '${e}'`);g.set(e,h)}Am(c,e,h){this.cz.postMessage({type:"event",component:c,handler:e,data:h,responseId:null})}Nq(c,e,h){const g=this.Hja++,l=new Promise((n,p)=>{this.OM.set(g,{resolve:n,
reject:p})});this.cz.postMessage({type:"event",component:c,handler:e,data:h,responseId:g});return l}n8(){if(!this.Ob)throw Error("not in debug mode");this.Am("runtime","post-to-debugger",{type:"reload"})}async wh(c){this.Ob?await b.wh(this):self.Hg&&self.Hg.Ira(this);var [e]=await Promise.all([this.Kb.PP("data.json"),this.Xea(),this.Oy.wh()]);this.yea(e);await this.bea(c);this.Bt()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Gq()?(e=this.Gq(),
console.info(`[C3 runtime] Hosted in ${this.pf?"worker":"DOM"}, rendering with WebGL ${e.qe} [${e.Qz}] (${e.T5()?"desynchronized":"standard"} compositing)`),e.HX&&console.warn("[C3 runtime] WebGL indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.")):this.Fw()&&console.info(`[C3 runtime] Hosted in ${this.pf?"worker":"DOM"}, rendering with experimental WebGPU`);this.YX=!0;for(const h of this.MN)this.mV(h);d.I(this.MN);this.ja&&
this.ja.T$();for(const h of c.runOnStartupFunctions)this.aD.push(this.Bga(h));await Promise.all([this.Kb.uT(),...this.aD]);d.I(this.aD);if(this.Kb.AL)this.ja&&this.ja.EH();else return this.ja&&await this.ja.F2(),await this.tc.cO(new d.Event("beforeruntimestart")),await this.Oo(),this.cz.postMessage({type:"runtime-ready"}),this}async Bga(c){try{await c(this.vk)}catch(e){console.error("[C3 runtime] Error in runOnStartup function: ",e)}}yea(c){c=c.project;this.aF=c[0];this.OY=c[16];this.XM=c[31];const e=
c[39]||"loading-logo.png";this.Fl=!!c[9];this.Zh=this.zg=c[10];this.Yh=this.yg=c[11];this.LM=this.Zh/2;this.MM=this.Yh/2;this.pu=c[36];this.rL=c[37];"low-latency"===this.pu&&this.M5()&&77>=d.Bb.xG&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.pu="standard");this.Nn=!!c[40];this.cd=c[14];this.HF=!!c[18];this.$u=c[19];this.fz=c[21];this.HY=
c[22];const h=this.Kb;h.eha(c[7],c[25]);h.Gha(c[8]);h.qha(c[32]);h.wha(c[28]);h.Vha(c[29]);if(0===this.$u){let q="";this.Bt()?h.CC(e)&&(q=h.nH(e)):q=h.LX+e;q&&(this.av=h.NB({url:q}))}this.ja&&(this.ja.I9(d.AG.jU(c[12])),this.ja.MS(c[23]?"high":"low"),this.ja.DI(0!==c[24]),this.ja.rha(c[34]),this.ja.Rha(c[41]),this.ja.Wha(c[13]));this.xn.l1();this.RE=self.iP();for(var g of c[2])this.xn.j1(g);this.RE=self.iP();this.Gea();for(var l of c[3])g=d.ZH.fb(this,this.Cd.length,l),this.Cd.push(g),this.FM.set(g.ra.toLowerCase(),
g),this.GM.set(g.jb,g);for(const q of c[4])this.Cd[q[0]].Bea(q);for(var n of c[27])l=n.map(q=>this.Cd[q]),this.Jia.push(d.F(d.Z0,this,l));for(const q of this.Cd)q.ifa();for(const q of c[5])this.ob.fb(q);(n=c[1])&&(n=this.ob.nt(n))&&this.ob.D9(n);for(var p of c[33])this.Yb.fb(p);for(const q of c[35])this.yN.fb(q);this.Zda();for(const q of c[6])this.Ma.fb(q);this.Ma.mc();this.Vda();d.I(this.RE);this.Me();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Am("runtime","set-target-orientation",
{targetOrientation:p})}rG(c){this.aD.push(c)}yda(){return this.nX++}Naa(c){this.AK.push(c)}async bea(c){this.ja&&(await this.ja.eg(c),this.ja.s5(this.$u))}async Xea(){if(!this.Kb.SQ("audio/webm; codecs=opus")){var c=null;try{c=this.bM&&this.Kb.Hy?await this.Kb.vP(this.EY):await this.Kb.lw(this.EY)}catch(e){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",e);return}c?this.T_(c):this.S_();await this.U_([this.Lja])}}async Dia(c){return await this.qG("OpusDecode",
{arrayBuffer:c},[c])}async Oo(){this.XD=!0;this.Op=Date.now();if(this.HF){for(var c of this.Cd)c.lb||c.XL||!c.rg||c.Sb();this.Kb.uT().then(()=>{this.yk=!1;this.pV()})}else this.yk=!1;this.Kb.M9();this.Ob&&b.ywa(f);for(const e of this.ob.Xj)e.Hba();c=this.ob.A3();await c.JJ(null,this.kc());await c.uW(!0);this.Hr=performance.now();this.HF||this.pV();(await this.Nq("runtime","before-start-ticking")).isSuspended?this.yv++:this.Md()}pV(){this.la(d.A.Ia.G.UR,null,null);this.Am("runtime","register-sw")}ti(c){c=
Math.floor(c);const e=this.RE;if(0>c||c>=e.length)throw Error("invalid object reference");return e[c]}Gea(){for(const c of self.v0){const e=d.first(Object.keys(c));this.bY.push(e)}}Aj(c){c=Math.floor(c);const e=this.bY;if(0>c||c>=e.length)throw Error("invalid prop reference");return e[c]}VG(){return this.Nia}Ba(){return this.Ma}zd(){return this.Ma.zd()}ig(){return this.Ma.ig()}Ub(){return this.Ma.Ub()}hg(){return this.Ma.hg()}S5(){return 0===this.ig().Rm}ww(){return this.Ma.ww()}Dw(){return this.xn.Dw()}jg(c){c=
Math.floor(c);if(0>c||c>=this.Cd.length)throw new RangeError("invalid index");return this.Cd[c]}oH(c){return this.FM.get(c.toLowerCase())||null}hB(c){return this.GM.get(c)||null}*eka(){for(const c of this.Cd)c.lb||(yield*c.b_())}Mb(){return this.tc}ni(c){c.fd=this.vk;const e=this.Ob&&!this.Ma.BB();e&&b.UI();this.Xe.dispatchEvent(c);e&&b.tG()}tq(c){c.fd=this.vk;return this.Xe.cO(c)}Z9(c,e){if(this.Zh!==c||this.Yh!==e)this.Zh=c,this.Yh=e,c=this.ob,c.Sq(),c.Rq()}nx(c,e){if(this.zg!==c||this.yg!==e)this.zg=
c,this.yg=e,c=this.ob,c.Sq(),c.Rq()}mha(c){this.aX=c}km(){return this.aX}yj(){return this.ja?this.ja.yj():this.zg}pi(){return this.ja?this.ja.pi():this.yg}ko(){return this.ja?this.ja.ko():1}lm(){return this.ja?this.ja.lm():1}vq(){return this.ja?this.ja.vq():0}wq(){return this.ja?this.ja.wq():0}YP(){return this.ja?this.ja.Od:0}XP(){return this.ja?this.ja.Fd:0}dB(){return this.ja?this.ja.dB():"off"}rw(c){return this.ja?this.ja.rw(c):null}Do(c){this.ja&&this.ja.Do(c)}Sha(c){this.LN=!!c}fB(){return this.ja?
this.ja.fB():NaN}SH(){return"nearest"!==this.cd}E8(){this.av&&(this.av.B(),this.av=null)}jc(){return this.ob.jc()}NB(c){return this.Kb.NB(c)}GG(c,e,h,g,l){return this.tj(c,e,!1,h,g,!1,l)}tj(c,e,h,g,l,n,p){var q=null;let r=null;c instanceof d.ZH?(r=c,r.lb&&(q=r.mp,r=q[Math.floor(this.Bm()*q.length)]),q=r.wu):(q=c,r=this.jg(q[1]));c=r.ac().rg;if(this.yk&&c&&!r.XL)return null;const w=e;c||(e=null);var x=h&&!n&&q&&!this.Or.has(q[2])?q[2]:this.fz++;const u=q?q[0]:null,t=d.F(d.Instance,{fd:this,xO:r,Je:e,
G_:u,a_:q?q[3]:null,uid:x});this.Or.set(x,t);x=null;c&&(x=t.C(),"undefined"!==typeof g&&"undefined"!==typeof l&&(x.og(g),x.pg(l)),r.NV());e&&(p||e.Di(t,!0),1===e.Vf&&1===e.Wf||r.eK(!0),e.Kd().sR(r));this.HM++;if(r.Tc()&&!h&&!n){for(var A of r.fk.vn){if(A===r)continue;const F=this.tj(A,w,!1,x?x.K():g,x?x.L():l,!0,!1);t.Yt(F)}for(var y of t.ne){y.Yt(t);for(var C of t.ne)y!==C&&y.Yt(C)}}c&&!h&&p&&this.mJ(t,u,x,e,g,l);if(r.Tc()&&!h&&!n&&p)for(const F of t.ne)if(A=F.C())y=F.ac(),C=F.P().wu[0],y.rg?this.mJ(F,
C,A,e,A.K(),A.L()):this.mJ(F,C,A,e);if(p&&!n&&!h&&t.Tc())for(const F of t.ne)for(const H of F.ne)t===H&&w.Uo(F,!0);!n&&p&&("undefined"===typeof g&&(g=u[0]),"undefined"===typeof l&&(l=u[1]),e=x.qB(),g=g-x.K()+e.K(),l=l-x.L()+e.L(),e.mb(g,l));r.Kx();l=q?d.MF(q[5]):null;q=q?q[4].map(F=>d.MF(F)):null;c&&u&&u[13]&&t.vha();t.qC(l,q);this.bn.push(t);this.WD=!0;this.Ob&&b.Jra(t);return t}mJ(c,e,h,g,l,n){var p=h.bZ,q=h.dN;c.C().GI(p);if(q){"undefined"===typeof l&&(l=e[0]);"undefined"===typeof n&&(n=e[1]);
p=new Set;h=e[0];e=e[1];for(const t of q){var r=t[1],w=t[2];q=t[3];var x=!!t[4];const A=t[5];w=this.ob.mH(t[0]).xa(r).I3(w);r=this.jg(w[1]);var u=c.F4(r);const y=p.has(r);u&&!y&&x?(x=c.BQ(r),u=l+w[0][0]-h,w=n+w[0][1]-e,x.C().mb(u,w),x.C().GI(A),c.eo(x,{Xv:!!(q>>0&1),Yv:!!(q>>1&1),ct:!!(q>>2&1),bt:!!(q>>3&1),Wv:!!(q>>4&1),Zz:!!(q>>5&1),Zv:!!(q>>6&1)}),p.add(r)):(r=this.tj(w,g,!1,l+w[0][0]-h,n+w[0][1]-e,!1,!0),r.C().GI(A),c.eo(r,{Xv:!!(q>>0&1),Yv:!!(q>>1&1),ct:!!(q>>2&1),bt:!!(q>>3&1),Wv:!!(q>>4&1),
Zz:!!(q>>5&1),Zv:!!(q>>6&1)}))}}}uj(c){if(!this.Pr.has(c)){var e=c.P(),h=this.eE.get(e);if(h){if(h.has(c))return;h.add(c)}else h=new Set,h.add(c),this.eE.set(e,h);this.Ob&&b.Kra(c);c.MJ();this.WD=!0;if(c.Tc())for(const g of c.ne)this.uj(g);for(const g of c.children())g.aB()&&this.uj(g);this.ob.ZQ()||this.El||(e=this.Ba(),e.zf(!0),c.mia(),e.zf(!1));c.bda(this.ob.ZQ())}}Me(){this.WD&&(this.dda(),this.eda(),this.WD=!1,this.ea())}dda(){for(const c of this.bn){const e=c.P();e.Di(c);for(const h of e.Oi)h.Di(c),
h.Kx()}d.I(this.bn)}eda(){this.tc.Mt(!0);for(const [c,e]of this.eE.entries())this.fda(c,e),e.clear();this.eE.clear();this.tc.Mt(!1)}fda(c,e){for(const g of e){var h=this.Fr.instancedestroy;h.instance=g;this.tc.dispatchEvent(h);this.Or.delete(g.zb);if(h=g.C())h.xV(),h.yV(),h.MJ();this.Pr.add(g);this.HM--}d.ji(c.Ca(),e);c.Kx();this.fE.add(c);0===c.Ca().length&&c.eK(!1);for(const g of c.Oi)d.ji(g.Ca(),e),g.Kx(),this.fE.add(g);if(c.ac().rg){c=new Set([...e].map(g=>g.C().xa()));for(const g of c)g.ega(e)}}*kO(c){for(const e of this.bn)c.lb?
e.P().wG(c)&&(yield e):e.P()===c&&(yield e)}xda(){return this.fz++}Uea(c,e){this.Or.set(c,e)}Ix(){this.tc.dispatchEvent(d.F(d.Event,"webglcontextlost"));this.mx(!0);for(var c of this.Cd)!c.lb&&c.D4()&&c.fl();(c=this.jc())&&c.Ix();d.Mw.Gt();d.PQ.Gt()}async WJ(){await this.jc().JJ(null,this.Gq());this.tc.dispatchEvent(d.F(d.Event,"webglcontextrestored"));this.mx(!1);this.ea()}Kfa(c){this.mx(c.hidden)}XJ(c){this.Bt()&&this.HY&&!d.Bb.DB&&!c.data.parentHasFocus&&(this.mx(!0),this.YL=!0)}Lfa(){this.YL&&
(this.mx(!1),this.YL=!1)}zV(){const c=this.Yja;"vsync"===this.rL?-1===this.uf&&(this.uf=self.requestAnimationFrame(c.j_)):"unlimited-tick"===this.rL?(-1===this.Cn&&(this.Cn=d.mI(c.ema)),-1===this.uf&&(this.uf=self.requestAnimationFrame(c.Rla))):-1===this.Cn&&(this.Cn=d.mI(c.j_))}sba(){-1!==this.uf&&(self.cancelAnimationFrame(this.uf),this.uf=-1);-1!==this.Cn&&(d.B0(this.Cn),this.Cn=-1)}wo(){return 0<this.yv}mx(c){var e=this.wo();this.yv+=c?1:-1;0>this.yv&&(this.yv=0);c=this.wo();!e&&c?(console.log("[Construct 3] Suspending"),
this.sba(),this.tc.dispatchEvent(d.F(d.Event,"suspend")),this.la(d.A.Ia.G.Y7,null,null)):e&&!c&&(console.log("[Construct 3] Resuming"),this.Hr=this.EE=e=performance.now(),this.nn=this.NE=this.QD=this.RD=0,this.tc.dispatchEvent(d.F(d.Event,"resume")),this.la(d.A.Ia.G.U7,null,null),this.Iw()||this.Md(e))}Jaa(c){this.Zo.Ec(c)}Iaa(c){this.Yo.Ec(c)}Kaa(c){this.$o.Ec(c)}gga(c){this.Zo.xi(c)}fga(c){this.Yo.xi(c)}hga(c){this.$o.xi(c)}iba(){this.Zo.Ai(!0);for(const c of this.Zo)c.Md();this.Zo.Ai(!1)}hba(){this.Yo.Ai(!0);
for(const c of this.Yo)c.TB();this.Yo.Ai(!1)}jba(){this.$o.Ai(!0);for(const c of this.$o)c.ox();this.$o.Ai(!1)}*Wba(){this.Zo.Ai(!0);for(const c of this.Zo){const e=c.Md();d.to(e)&&(yield*e)}this.Zo.Ai(!1)}*Vba(){this.Yo.Ai(!0);for(const c of this.Yo){const e=c.TB();d.to(e)&&(yield*e)}this.Yo.Ai(!1)}*Xba(){this.$o.Ai(!0);for(const c of this.$o){const e=c.ox();d.to(e)&&(yield*e)}this.$o.Ai(!1)}async Md(c,e,h){this.KX=!0;const g="background-wake"===h;h="background-wake"!==h&&"skip-render"!==h;this.XD&&
(!this.wo()||e||g)&&(e=performance.now(),this.mE=!0,this.afa(c||0),c=this.V$(),this.nf&&await c,c=this.tc.Gka(this.Fr.pretick),c instanceof Promise&&await c,c=this.U$(),this.nf&&await c,this.gfa()&&await this.Mda(),this.ob.At()&&await this.Wea(),c=this.W$(),this.nf&&await c,h&&this.kI(),this.wo()||g||this.zV(),this.Pl++,this.Gn++,this.Cu++,this.mE=!1,this.nn+=performance.now()-e)}async V$(){const c=this.Ma,e=this.Ob;this.Me();c.zf(!0);this.Tw(this.jc());e&&b.Vt();this.nf?await c.v1():c.d9();e&&b.R_();
this.Sw();c.zf(!1);this.Me();c.zf(!0)}async U$(){const c=this.Ob,e=this.nf,h=this.tc,g=this.Fr,l=this.AZ;c&&b.Vt();e?await this.LA(this.Wba()):this.iba();e?await this.LA(this.Vba()):this.hba();c&&b.M_();c&&b.Vt();e?await this.BP(g.tick):h.dispatchEvent(g.tick);c&&b.X_();this.Ma.zf(!1);this.ni(l.tick)}async W$(){const c=this.Ma,e=this.tc,h=this.Fr,g=this.Ob,l=this.nf;g&&b.Vt();l?await c.t1(this.ob):c.b9(this.ob);g&&b.R_();this.nc.rP();this.vV();this.UL=!1;c.zf(!0);g&&b.Vt();l?await this.LA(this.Xba()):
this.jba();g&&b.M_();g&&b.Vt();l?await this.BP(h.tick2):e.dispatchEvent(h.tick2);g&&b.X_();c.zf(!1);l&&await c.vS()}vV(){if(0!==this.Pr.size){var c=this.tc;c.Mt(!0);for(const e of this.fE)e.Mp.Pq(this.Pr);this.fE.clear();this.Ma.G8(this.Pr);for(const e of this.Pr)e.B();this.Pr.clear();c.Mt(!1)}}async Wea(){const c=this.ob;let e=0;for(;c.At()&&10>e++;)await this.VT(c.gz)}afa(c){let e=0;0!==this.EE&&(e=Math.max(c-this.EE,0)/1E3,.5<e&&(e=0),this.BD=Math.min(e,1/this.xY));this.EE=c;this.AD=this.BD*this.ae;
this.vL.Ec(this.AD);this.wL.Ec(e*this.ae);this.NN.Ec(this.BD);this.ja&&this.ja.xia();1E3<=c-this.Hr&&(this.Hr+=1E3,1E3<=c-this.Hr&&(this.Hr=c),this.QD=this.RD,this.RD=0,this.NE=Math.min(this.nn/1E3,1),this.nn=0,this.ja&&this.ja.qia(),this.Ob&&b.Jza());this.RD++}async VT(c){const e=this.tc,h=this.ob.jc();await h.fia();h.pia(c,this.kc());h===c&&this.Ma.AA();this.nc.rP();this.vV();e.dispatchEvent(this.Fr.beforelayoutchange);d.dm.NS(!0);await c.JJ(h,this.kc());d.dm.NS(!1);await c.uW(!1);e.dispatchEvent(this.Fr.layoutchange);
this.ea();this.UL=!0;this.Me()}ea(){this.DM=!0}Gq(){return this.ja?this.ja.Gq():null}Fw(){return this.ja?this.ja.Fw():null}kc(){return this.ja?this.ja.kc():null}kI(){const c=this.ja;if(c&&!c.d6()){var e=this.kc(),h=e.Mj(),g=h&&e.IB();h=h&&!1;g&&e.D0();if(this.DM){var l=this.ob.jc();e.Oo();var n=this.Ob;n&&b.Vt();this.DM=!1;var p=null;g&&(p=c.VD.aP(),e.hT(p));g=null;h&&(g=e.Oya(2*(1+l.Cc.length)),e.Daa(0));this.Nn&&"low"===c.sk?e.E9(c.yj(),c.pi()):e.o9();this.pga(this.kc(),l);p&&e.KP(p);h&&(e.Daa(1),
this.ja.Xaa(g));e.ow();n&&(b.Oma(),b.Lza());c&&c.Zea()}else e.i5()}}pga(c,e){c.Bi();c.tI();c.ng(1,1,1,1);c.Lf(null);c.Mf(null);c.aC(this.Nn);e.Le(c)}la(c,e,h){if(!this.XD)return!1;var g=!this.mE&&!this.Ma.RH();let l=0;g&&(l=performance.now());const n=this.Ob;n&&this.Lt(!1);c=this.Ma.Sx(this.ob,c,e,h);g&&(g=performance.now()-l,this.nn+=g,n&&b.$ma(g));n&&this.Lt(!0);return c}async xb(c,e,h){if(!this.nf)return this.la(c,e,h);if(!this.XD)return!1;if(this.Iw())return this.Ma.y8(c,e,h);if(!this.jc())return this.Ma.iI(c,
e,h);const g=performance.now();c=this.Ma.yx(this.ob,c,e,h);for(e=c.next();!e.done;)await this.it(e.value),e=c.next();this.wo()||this.Ma.RH()||(await this.Ma.vS(),this.KX&&!this.mE&&this.zV());this.nn+=performance.now()-g;return e.value}il(c){return this.Rja.Ec(c)}Tw(c){this.su.push(c)}Sw(){if(!this.su.length)throw Error("layout stack empty");this.su.pop()}$a(){return this.su.length?this.su[this.su.length-1]:this.jc()}ri(c){return c&&-1!==c.ae?this.BD*c.ae:this.AD}LI(c){if(isNaN(c)||0>c)c=0;this.ae=
c}US(c){this.xY=d.ia(c,1,120)}th(){return this.vL.ma()}iH(){return this.wL.ma()}zH(){return this.NN.ma()}um(){++this.Cu}ue(c){if(this.El)throw Error("cannot call while loading state - wait until afterload event");return this.Or.get(c)||null}sV(){this.Or.clear();for(const c of this.Cd)if(!c.lb)for(const e of c.Ca())this.Or.set(e.zb,e)}Bt(){return"preview"===this.pk}R5(){return"cordova"===this.pk}M5(){return"Android"===d.Bb.Ft&&("cordova"===this.pk||"playable-ad"===this.pk||"instant-games"===this.pk)}xH(){return this.xn.xH()}kH(){return this.xn.kH()}b$(c){c=
!!c;this.Fl!==c&&(this.Fl=c,this.ob.Rq(),this.ea())}f9(c){this.sz=c}C6(c){this.Xy=c}XH(c){this.Zu=c}gfa(){return!(!this.sz&&!this.Xy&&null===this.Zu)}async Mda(){this.sz&&(this.Me(),await this.yca(this.sz),this.kJ());this.Xy&&(await this.xca(this.Xy),this.kJ(),this.Ob&&b.Pya());if(null!==this.Zu){this.Me();try{await this.$T(this.Zu),this.bs=this.Zu,await this.xb(d.A.Ia.G.SR,null),this.bs=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.xb(d.A.Ia.G.TR,
null)}this.kJ()}}kJ(){this.Xy=this.sz="";this.Zu=null}EU(){this.WM||(this.WM=localforage.$N({name:"c3-localstorage-"+this.XM,description:this.aF}));return this.WM}FU(){this.cN||(this.cN=localforage.$N({name:"c3-savegames-"+this.XM,description:this.aF}));return this.cN}async yca(c){const e=await this.Uga();try{await this.FU().setItem(c,e),console.log("[Construct 3] Saved state to storage ("+e.length+" chars)"),this.bs=e,await this.xb(d.A.Ia.G.V7,null),this.bs=""}catch(h){console.error("[Construct 3] Failed to save state to storage: ",
h),await this.xb(d.A.Ia.G.W7,null)}}async xca(c){try{const e=await this.FU().getItem(c);if(!e)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+e.length+" chars)");await this.$T(e);this.bs=e;await this.xb(d.A.Ia.G.SR,null);this.bs=""}catch(e){console.error("[Construct 3] Failed to load state from storage: ",e),await this.xb(d.A.Ia.G.TR,null)}}async Uga(){const c={c3save:!0,version:1,rt:{time:this.th(),timeRaw:this.iH(),walltime:this.zH(),timescale:this.ae,tickcount:this.Pl,
execcount:this.Cu,next_uid:this.fz,running_layout:this.jc().jb,start_time_offset:Date.now()-this.Op},types:{},layouts:{},events:this.Ma.Da(),timelines:this.Yb.Da(),user_script_data:null};for(var e of this.Cd)e.lb||e.KQ()||(c.types[e.jb.toString()]=e.Da());for(const h of this.ob.Xj)c.layouts[h.jb.toString()]=h.Da();e=this.pJ("save");e.saveData=null;await this.tq(e);c.user_script_data=e.saveData;return JSON.stringify(c)}async $T(c){var e=this.ob;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");
if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.tc.dispatchEvent(d.F(d.Event,"beforeload"));for(var h of this.eka())h.eu();this.El=!0;h=c.rt;this.vL.Set(h.time);h.hasOwnProperty("timeRaw")&&this.wL.Set(h.timeRaw);this.NN.Set(h.walltime);this.ae=h.timescale;this.Pl=h.tickcount;this.Cu=h.execcount;this.Op=Date.now()-h.start_time_offset;var g=h.running_layout;if(g!==this.jc().jb)if(g=e.mH(g))await this.VT(g);else return;for(const [l,
n]of Object.entries(c.types))g=this.hB(parseInt(l,10)),!g||g.lb||g.KQ()||g.Ka(n);this.Me();this.sV();this.El=!1;this.fz=h.next_uid;for(const [l,n]of Object.entries(c.layouts))(h=e.mH(parseInt(l,10)))&&h.Ka(n);this.Ma.Ka(c.events);for(const l of this.Cd)if(!l.lb&&l.Tc())for(const n of l.Ca()){h=n.yq();for(const p of l.fk.vn)if(p!==l){g=p.Ca();if(0>h||h>=g.length)throw Error("missing sibling instance");n.Yt(g[h])}}this.Yb.Ka(c.timelines);e.Sq();e.Rq();this.tc.dispatchEvent(d.F(d.Event,"afterload"));
e=this.pJ("load");e.saveData=c.user_script_data;await this.tq(e);this.ea()}async U_(c){c=(await Promise.all(c.map(e=>this.Kb.jm(e)))).map(e=>URL.createObjectURL(e));this.Oy.h5(c)}S_(){this.Oy.h9()}T_(c){this.Oy.i9(c)}qG(c,e,h){return this.Oy.qG(c,e,h)}yB(c,e){this.Am("runtime","invoke-download",{url:c,filename:e})}async z8(c){var e=e||2048;var h=h||2048;return this.pf?(await this.Nq("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:e,surfaceHeight:h,imageBitmapOpts:void 0})).imageBitmap:
await self.C3_RasterSvgImageBlob(c,2048,2048,e,h)}It(){this.cX||(this.cX=!0,this.Am("runtime","enable-device-orientation"))}Eo(){this.bX||(this.bX=!0,this.Am("runtime","enable-device-motion"))}Bm(){return this.Qja()}Bda(){const c=this.Gq();return{fps:this.QD,cpu:this.NE,gpu:this.fB(),layout:this.jc()?this.jc().ra:"",renderer:c?c.Qz:"<unavailable>"}}Iw(){return this.Ob?b.Iw():!1}it(c){return this.nf?b.it(c):Promise.resolve()}Jc(){return this.nf?b.Rna():!1}Lt(c){c?this.aL--:this.aL++;this.sia()}sia(){this.nf=
this.Ob&&this.Uia&&0===this.aL}KH(){return this.Ob&&b.KH()}aR(){return this.Ob&&this.kc().Mj()&&b.aR()}async LA(c){if(c)for(const e of c)await this.it(e)}BP(c){return this.LA(this.tc.Hka(c))}EC(c){return this.Ma.EC(c.name,c.params)}pJ(c){c=d.F(d.Event,c,!1);c.fd=this.vk;return c}Zda(){var c={};for(const e of this.Cd)c[e.Aj()]={value:e.xy,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.vk=new self.V4(this,c);this.AZ={tick:this.pJ("tick")}}Vda(){const c={};for(const e of this.Ba().BK)c[e.Aj()]=
e.GU();this.vk.Wda(c)}dV(c,e){this.kja.set(c,e)}};self.C3_CreateRuntime=d.wS.fb;self.C3_InitRuntime=(c,e)=>c.wh(e)}
{"use strict";const d=self.D;d.n6=class extends d.za{constructor(b,a){super();this.j=b;this.Vr=new Map;this.Jja=0;this.Cy=a.inputPort;a.outputPort.onmessage=f=>this.oV(f);this.rY=a.maxNumWorkers;this.Py=1;this.CX=this.Fy=!1}async wh(){}h5(b){this.Cy.postMessage({type:"_import_scripts",scripts:b})}h9(){this.Cy.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}i9(b){this.Cy.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}qG(b,a,f){f||(f=[]);const c=this.Jja++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:f};a=new Promise((e,h)=>{this.Vr.set(c,{resolve:e,progress:void 0,reject:h,ZN:!1})});this.Cy.postMessage(b,f);this.eV();return a}oV(b){b=b.data;const a=b.type,f=b.jobId;switch(a){case "result":this.wfa(f,b.result);break;case "progress":this.vfa(f,b.progress);break;case "error":this.ufa(f,b.error);break;case "ready":this.xfa();break;default:throw Error(`unknown message from worker '${a}'`);}}wfa(b,a){const f=this.Vr.get(b);if(!f)throw Error("invalid job ID");
f.ZN||f.resolve(a);this.Vr.delete(b)}vfa(b,a){b=this.Vr.get(b);if(!b)throw Error("invalid job ID");!b.ZN&&b.progress&&b.progress(a)}ufa(b,a){const f=this.Vr.get(b);if(!f)throw Error("invalid job ID");f.ZN||f.reject(a);this.Vr.delete(b)}xfa(){this.Fy&&(this.Fy=!1,this.Py++,this.Py<this.rY?this.eV():this.Cy.postMessage({type:"_no_more_workers"}))}async eV(){if(!(this.Py>=this.rY||this.Fy||this.CX||this.Vr.size<=this.Py))try{this.Fy=!0,(await this.j.Nq("runtime","create-job-worker")).outputPort.onmessage=
b=>this.oV(b)}catch(b){this.CX=!0,this.Fy=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Py} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const d=self.D;let b=null,a="",f="",c=[],e="",h="",g="";const l=d.F(d.m0);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}d.A.Ia=class extends d.Dh{constructor(p){super(p);this.ug=this.j.Ba().ug;this.Ee=this.j.Ba().zd();this.Ay=this.Lr=0;this.wX=new Map}B(){super.B()}ea(){this.j.ea()}la(p){this.j.la(p,null,null)}lB(p,q){b&&p===a&&q===f||(b=new RegExp(p,q),a=p,f=q);b.lastIndex=0;return b}tQ(p,q,r){if(p===e&&q===
h&&r===g)return c;const w=this.lB(q,r);c=p.match(w);e=p;h=q;g=r;return c}async LJ(p,q){if(q.length){this.Lr+=q.length;var r=[];for(const w of q)r.push(p.sR(w));await d.r8(r,()=>{this.Ay++});this.Ay++;this.Ay===this.Lr&&(this.j.la(d.A.Ia.G.B7,null,null),this.Lr=this.Ay=0)}}zW(p,q){for(const r of q)0===r.M.length&&p.O6(r)}xU(){return l}qga(p){var q=this.j.Ba();const r=q.zd(),w=r.Cf(),x=w.Ub(),u=x.Sd();var t=w.bl();const A=r.ab(x),y=q.ug,C=y.ab();if(t)for(t=0;t<p&&!C.Nc;++t)q.cf(u),C.jd(t),x.Vg(w,A),
q.fc(u);else for(q=0;q<p&&!C.Nc;++q)C.jd(q),x.Vg(w,A);r.Wa();y.Wa();return!1}*cca(p){var q=this.j.Ba();const r=q.zd(),w=r.Cf(),x=w.Ub(),u=x.Sd();var t=w.bl();const A=r.ab(x),y=q.ug,C=y.ab();if(t)for(t=0;t<p&&!C.Nc;++t)q.cf(u),C.jd(t),yield*x.ph(w,A),q.fc(u);else for(q=0;q<p&&!C.Nc;++q)C.jd(q),yield*x.ph(w,A);r.Wa();y.Wa();return!1}Eia(){var p=this.j.Ba();const q=p.zd(),r=q.Cf(),w=r.Ub(),x=w.Sd();var u=r.bl();const t=q.ab(w),A=p.ug,y=A.ab();if(u)for(u=0;!y.Nc;++u)p.cf(x),y.jd(u),w.Vg(r,t)||y.Jh(),
p.fc(x);else for(p=0;!y.Nc;++p)y.jd(p),w.Vg(r,t)||y.Jh();q.Wa();A.Wa();return!1}*vca(){var p=this.j.Ba();const q=p.zd(),r=q.Cf(),w=r.Ub(),x=w.Sd();var u=r.bl();const t=q.ab(w),A=p.ug,y=A.ab();if(u)for(u=0;!y.Nc;++u)p.cf(x),y.jd(u),(yield*w.ph(r,t))||y.Jh(),p.fc(x);else for(p=0;!y.Nc;++p)y.jd(p),(yield*w.ph(r,t))||y.Jh();q.Wa();A.Wa();return!1}gda(p,q,r){var w=this.j.Ba();const x=w.zd(),u=x.Cf(),t=u.Ub(),A=t.Sd(),y=u.bl(),C=x.ab(t),F=w.ug,H=F.ab();H.gC(p);if(r<q)if(y)for(p=q;p>=r&&!H.Nc;--p)w.cf(A),
H.jd(p),t.Vg(u,C),w.fc(A);else for(w=q;w>=r&&!H.Nc;--w)H.jd(w),t.Vg(u,C);else if(y)for(p=q;p<=r&&!H.Nc;++p)w.cf(A),H.jd(p),t.Vg(u,C),w.fc(A);else for(w=q;w<=r&&!H.Nc;++w)H.jd(w),t.Vg(u,C);x.Wa();F.Wa();return!1}*$ba(p,q,r){var w=this.j.Ba();const x=w.zd(),u=x.Cf(),t=u.Ub(),A=t.Sd(),y=u.bl(),C=x.ab(t),F=w.ug,H=F.ab();H.gC(p);if(r<q)if(y)for(p=q;p>=r&&!H.Nc;--p)w.cf(A),H.jd(p),yield*t.ph(u,C),w.fc(A);else for(w=q;w>=r&&!H.Nc;--w)H.jd(w),yield*t.ph(u,C);else if(y)for(p=q;p<=r&&!H.Nc;++p)w.cf(A),H.jd(p),
yield*t.ph(u,C),w.fc(A);else for(w=q;w<=r&&!H.Nc;++w)H.jd(w),yield*t.ph(u,C);x.Wa();F.Wa();return!1}hda(p){var q=this.j.Ba();const r=q.zd(),w=r.Cf(),x=w.Ub(),u=x.Sd();var t=w.bl();const A=r.ab(x),y=q.ug,C=y.ab(),F=p.Tc(),H=p.ka(),J=l.ab();d.fe(J,H.Ca());if(t)for(let M=0,P=J.length;M<P&&!C.Nc;++M)q.cf(u),t=J[M],p.ka().ll(t),F&&t.Lj(),C.jd(M),x.Vg(w,A),q.fc(u);else{H.ff(!1);p=H.M;d.I(p);p.push(null);for(let M=0,P=J.length;M<P&&!C.Nc;++M)q=J[M],p[0]=q,F&&q.Lj(),C.jd(M),x.Vg(w,A)}r.Wa();y.Wa();d.I(J);
l.Wa();return!1}*aca(p){var q=this.j.Ba();const r=q.zd(),w=r.Cf(),x=w.Ub(),u=x.Sd();var t=w.bl();const A=r.ab(x),y=q.ug,C=y.ab(),F=p.Tc(),H=p.ka(),J=l.ab();d.fe(J,H.Ca());if(t)for(let M=0,P=J.length;M<P&&!C.Nc;++M)q.cf(u),t=J[M],p.ka().ll(t),F&&t.Lj(),C.jd(M),yield*x.ph(w,A),q.fc(u);else{H.ff(!1);p=H.M;d.I(p);p.push(null);for(let M=0,P=J.length;M<P&&!C.Nc;++M)q=J[M],p[0]=q,F&&q.Lj(),C.jd(M),yield*x.ph(w,A)}r.Wa();y.Wa();d.I(J);l.Wa();return!1}ida(p,q){var r=this.j.Ba();const w=r.zd(),x=r.hg(),u=w.Cf(),
t=u.Ub(),A=t.Sd(),y=u.bl(),C=w.ab(t),F=r.ug,H=F.ab(),J=p.Tc(),M=p.ka(),P=l.ab();d.I(P);const S=M.Ca();for(let T=0,V=S.length;T<V;++T)P.push([S[T],x.Ww(1,T)]);P.sort(n);1===q&&P.reverse();if(y)for(let T=0,V=P.length;T<V&&!H.Nc;++T)r.cf(A),q=P[T][0],p.ka().ll(q),J&&q.Lj(),H.jd(T),t.Vg(u,C),r.fc(A);else{M.ff(!1);p=M.M;d.I(p);p.push(null);for(let T=0,V=P.length;T<V&&!H.Nc;++T)r=P[T][0],p[0]=r,J&&r.Lj(),H.jd(T),t.Vg(u,C)}w.Wa();F.Wa();d.I(P);l.Wa();return!1}*bca(p,q){var r=this.j.Ba();const w=r.zd(),x=
r.hg(),u=w.Cf(),t=u.Ub(),A=t.Sd(),y=u.bl(),C=w.ab(t),F=r.ug,H=F.ab(),J=p.Tc(),M=p.ka(),P=l.ab();d.I(P);const S=M.Ca();for(let T=0,V=S.length;T<V;++T)P.push([S[T],x.Ww(1,T)]);P.sort(n);1===q&&P.reverse();if(y)for(let T=0,V=P.length;T<V&&!H.Nc;++T)r.cf(A),q=P[T][0],p.ka().ll(q),J&&q.Lj(),H.jd(T),yield*t.ph(u,C),r.fc(A);else{M.ff(!1);p=M.M;d.I(p);p.push(null);for(let T=0,V=P.length;T<V&&!H.Nc;++T)r=P[T][0],p[0]=r,J&&r.Lj(),H.jd(T),yield*t.ph(u,C)}w.Wa();F.Wa();d.I(P);l.Wa();return!1}yC(p,q){let r=this.wX.get(p);
if(r)return r;if(!q)return null;r={fq:null,kG:new Map};this.wX.set(p,r);return r}wca(p,q,r,w,x){q.Ef().a9(r);w&&p.fc(x)}*Yba(p,q,r,w,x){yield*q.Ef().s1(r);w&&p.fc(x)}}}{"use strict";const d=self.D;d.A.Ia.Wd=class extends d.za{constructor(b){super();this.T=b;this.j=b.N();this.Wi=b.ac()}Sb(){}B(){this.Wi=this.j=this.T=null}}}
{"use strict";const d=self.D;d.A.Ia.Instance=class extends d.za{constructor(b){super();this.H=b;this.T=this.H.P();this.Za=this.T.Za;this.j=this.H.N()}B(){this.j=this.Za=this.T=this.H=null}}}
{"use strict";const d=self.D,b=[];d.A.Ia.G={M2(){return!0},RR(){return!0},G7(){return!0},Y7(){return!0},U7(){return!0},wo(){return this.j.wo()},JP(){const a=this.j.ig();return a.iL?!1:!a.Yr},faa(){const a=this.j.hg().Ze();let f=a.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,a.set("TriggerOnce_lastTick",-1));const c=this.j.Pl;a.set("TriggerOnce_lastTick",c);return this.j.UL||f!==c-1},L2(a){const f=this.j.hg().Ze(),c=f.get("Every_lastTime")||0,e=this.j.th();f.has("Every_seconds")||f.set("Every_seconds",
a);const h=f.get("Every_seconds");if(e>=c+h)return f.set("Every_lastTime",c+h),e>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",e),f.set("Every_seconds",a),!0;e<c-.1&&f.set("Every_lastTime",e);return!1},zt(a){return(a=this.j.Ba().cQ(a))&&a.zt()},Bt(){return this.j.Bt()},DB(){return d.Bb.DB},UR(){return!0},k7(){return!0},Epa(){return!0},V7(){return!0},W7(){return!0},SR(){return!0},TR(){return!0},Pta(a){return!!this.j.ue(a)},vsa(a){switch(a){case 0:return"browser"===d.Bb.DG;case 1:return"iOS"===
d.Bb.Ft;case 2:return"Android"===d.Bb.Ft;case 8:return"cordova"===d.Bb.DG;case 9:return"scirra-arcade"===this.j.pk;case 10:return"nwjs"===d.Bb.DG;case 13:return"windows-uwp"===this.j.pk;default:return!1}},sva(a,f,c){return this.lB(f,c).test(a)},Q0(a,f,c){return d.compare(a,f,c)},Aoa(a,f,c){return a>=f&&a<=c},U0(a,f,c){return d.compare(a.Ab(),f,c)},Boa(a){return!!a.Ab()},Noa(a,f){const c=this.j.th();return 0===a?(a=this.j.hg().Ze(),!a.get("CompareTime_executed")&&c>=f?(a.set("CompareTime_executed",
!0),!0):!1):d.compare(c,a,f)},rsa(a){return isNaN(a)},d0(a,f,c){return d.Rs(d.Ga(a),d.Ga(c))<=d.Ga(f)},P5(a,f){return d.Ye(d.Ga(a),d.Ga(f))},O5(a,f,c){a=d.Ga(a);f=d.Ga(f);c=d.Ga(c);return d.Ye(c,f)?d.Ye(a,f)&&!d.Ye(a,c):!(!d.Ye(a,f)&&d.Ye(a,c))},Ksa(a,f){return"number"===typeof a?0===f:1===f},hqa(a){return!!a},pua(a,f,c,e){if(!a)return!1;const h=this.xU(),g=h.ab(),l=a.ka();d.fe(g,l.Ca());l.wc&&d.I(l.Gc);const n=this.j.hg();let p=0;for(let q=0,r=g.length;q<r;++q){const w=g[q];g[p]=w;f=n.Ww(1,q);e=
n.Ww(3,q);d.compare(f,c,e)?++p:l.To(w)}d.Ke(g,p);l.Yw(g);f=!!g.length;d.I(g);h.Wa();a.Fc();return f},qua(a,f){if(!a)return!1;const c=this.xU(),e=c.ab(),h=a.ka();d.fe(e,h.Ca());h.wc&&d.I(h.Gc);const g=this.j.hg();let l=0;for(let n=0,p=e.length;n<p;++n){const q=e[n];e[l]=q;(f=g.Ww(1,n))?++l:h.To(q)}d.Ke(e,l);h.Yw(e);f=!!e.length;d.I(e);c.Wa();a.Fc();return f},wua(a,f){if(!a)return!1;const c=a.ka(),e=c.Ca();f=Math.floor(f);if(f>=e.length)return!1;c.Bo(e[f]);a.Fc();return!0},Aua(a){if(!a)return!1;const f=
a.ka(),c=f.Ca(),e=Math.floor(this.j.Bm()*c.length);if(e>=c.length)return!1;f.Bo(c[e]);a.Fc();return!0},oua(a){if(!a||!a.M.length)return!1;a.ka().ff(!0);a.Fc();return!0},yua(a,f,c){if(!a)return!1;const e=a.ka();var h=e.Ca();const g=this.j.Ub().Ge,l=this.j.hg().Ri;e.wc?(d.fe(b,h),e.BA(),e.ff(!1)):g?(d.fe(b,e.Gc),d.I(e.Gc)):(d.fe(b,e.M),d.I(e.M));for(let n=0,p=b.length;n<p;++n)h=b[n],d.xor(h.C().hw(f,c),l)?e.er(h):e.To(h);a.Fc();return d.xor(!!e.M.length,l)},vua(a){if(!a)return!1;var f=a.lb;let c=null;
const e=this.j.bn;for(let h=e.length-1;0<=h;--h){const g=e[h];if(f){if(g.P().wG(a)){c=g;break}}else if(g.P()===a){c=g;break}}c||(f=a.Ca(),f.length&&(c=f[f.length-1]));if(!c)return!1;a.ka().Bo(c);a.Fc();return!0},zva(a){return this.j.nf?this.cca(a):this.qga(a)},bAa(){return this.j.nf?this.vca():this.Eia()},wqa(a,f,c){return this.j.nf?this.$ba(a,f,c):this.gda(a,f,c)},xqa(a){return this.j.nf?this.aca(a):this.hda(a)},yqa(a,f,c){return this.j.nf?this.bca(a,c):this.ida(a,c)},Xsa(a){return a?a.xe():!1},
Vsa(a){return a?!a.M.length:!1},s6(a,f,c){return a?d.compare(100*a.he(),f,c):!1},B7(){return!0},lsa(){return 0<this.Lr}}}
{"use strict";const d=self.D;function b(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function a(g,l){return g[1]-l[1]}const f=[],c=[],e=d.F(d.Rect),h=d.F(d.ub);d.A.Ia.ta={x$(g,l){g.Fh(l)},b0(g,l){g.uo()&&"number"!==typeof l&&(l=parseFloat(l));g.Fh(g.Ab()+l)},dza(g,l){g.uo()&&g.Fh(g.Ab()-l)},Vwa(g,l){g.Fh(!!l)},pza(g){g.Fh(!g.Ab())},nwa(){this.j.Ba().Q8()},yP(g,l,n,p,q){g&&l&&(n=this.j.GG(g,l,n,p,q))&&(q&&l.RI(n),l=this.j.Ba(),l.zf(!0),n.UC(),l.zf(!1),g.ka().ll(n),n.Tc()&&n.Lj())},hpa(g,l,n,p,q){g&&
l&&(g=this.j.oH(g))&&d.A.Ia.ta.yP.call(this,g,l,n,p,q)},Vw(g,l,n,p,q,r,w,x,u,t){if(g){var A=this.j.$a();if(r&&(A=this.j.ob.nt(r),!A))return;r=null;if("number"!==typeof w||0<=w)if(r=A.xa(w),!r)return;e.set(l,n,p,q);l=A.Vw(g,e,r,x,u,t);g.ka().Yw(l);g.Fc()}},Sya(){const g=this.ug;g.bR()&&g.kt().Jh()},Tq(g,l){(g=this.j.Ba().cQ(g))&&(0===l?g.Tq(!1):1===l?g.Tq(!0):g.Tq(!g.zt()))},l$(g){this.j.LI(g)},mya(g,l){0>l&&(l=0);if(g){g=g.ka().Ca();for(const n of g)n.LI(l)}},swa(g){if(g){g=g.ka().Ca();for(const l of g)l.X8()}},
$I(g){if(!(0>g))return this.j.Ba().sG().H5(g),!0},vaa(g){this.j.Ba().sG().F5(g);return!0},Wza(){const g=this.j.Ba();g.sG().u5(g.e4());return!0},H$(g){g=g.toLowerCase();for(const l of this.j.Ba().kh)l.g6()&&l.yz===g&&l.HI()},async eT(g,l,n,p,q,r){const w=this.j.ja;w&&(this.ea(),await w.eT(0===g?"image/png":"image/jpeg",l/100,n,p,q,r),await this.j.xb(d.A.Ia.G.k7,null))},Zwa(g,l){if(!(0>=g||0>=l)){this.j.nx(g,l);var n=this.j.$a();n.xA();for(const p of n.Cc)p.YI();if(n=this.j.ja)"off"!==n.xw()&&this.j.Z9(g,
l),n.zc(n.Xl,n.Wl,!0),this.j.ea()}},wxa(g){const l=this.j.ja;l&&"off"!==l.xw()&&(l.MS(0!==g?"high":"low"),l.zc(l.Xl,l.Wl,!0))},Qq(g){this.j.f9(g)},gta(g){this.j.C6(g)},hta(g){this.j.XH(g)},zxa(){},owa(){for(const g of this.j.ob.Xj)g.V8()},rya(g){this.j.b$(0!==g)},US(g){this.j.US(g)},Iya(g,l){if(g){var n=g.ka().Ca(),p=this.j.$a(),q=g.lb;g=g.Pi;for(let w=0,x=n.length;w<x;++w){var r=n[w];const u=r.C();if(!u)continue;let t;t=q?r.Ff(l+r.P().dH(g)):r.Ff(l);f.push([u.xa().Ua(),u.$k()]);c.push([r,t])}if(f.length){f.sort(b);
c.sort(a);l=!1;for(let w=0,x=f.length;w<x;++w)n=c[w][0],q=p.Bw(f[w][0]),g=f[w][1],r=q.M,r[g]!==n&&(r[g]=n,n.C().Lx(q),q.Hh(),l=!0);l&&this.j.ea();d.I(f);d.I(c)}}},p4(g){if(!this.j.yk){var l=this.j.ob;l.At()||l.zA(g)}},cra(g){if(!this.j.yk){var l=this.j.ob;l.At()||(g=l.nt(g))&&l.zA(g)}},Kta(g){if(!this.j.yk){var l=this.j.ob;if(!l.At()){var n=l.Xj,p=n.indexOf(l.jc());g&&0===p||(g||p!==n.length-1)&&l.zA(n[p+(g?-1:1)])}}},qwa(){if(!this.j.yk){var g=this.j.ob;g.At()||(g.zA(g.jc()),this.j.Ba().S8())}},
V9(g,l){g&&g.Gh(l)},T9(g,l){g&&g.Kf(l/100)},U9(g,l){g&&g.VS(l)},Sxa(g,l){g&&g.e$(l)},Lxa(g,l){g&&g.yc(d.Ga(+l))},Txa(g,l,n){g&&(g.bx(!0),g.Jj(l),g.Kj(n))},rwa(g){g&&g.bx(!1)},Rxa(g,l,n){g&&g.a$(l/100,n/100)},Vxa(g,l){g&&g.ef(+l)},Mxa(g,l){g&&(h.pA(l),h.ia(),g=g.Pm,g.hq(h)||(g.Tn(h),this.ea()))},Uxa(g,l){g&&g.t$(l)},Nxa(g,l){g&&g.Jf(l)},Oxa(g,l,n){g&&(g=g.eb,n=g.mm(n))&&(l=1===l,n.hc!==l&&(n.YB(l),g.Po(),this.j.ea()))},Pxa(g,l,n,p){if(g&&(g=g.eb,l=g.mm(l))&&(g=g.rh(l.Ua()),n=Math.floor(n),!(0>n||n>=
g.length))){var q=l.Db.jB(n);if("color"===q){h.pA(p);n=g[n];if(h.hq(n))return;n.Tn(h)}else{"percent"===q&&(p/=100);if(g[n]===p)return;g[n]=p}l.hc&&this.j.ea()}},Qxa(g,l){g&&g.H9(l)},Zxa(g){this.j.$a().No(+g)},Wxa(g){this.j.$a().yc(d.Ga(+g))},Xxa(g,l){const n=this.j.$a().eb;if(l=n.mm(l))g=1===g,l.hc!==g&&(l.YB(g),n.Po(),this.j.ea())},Yxa(g,l,n){var p=this.j.$a().eb;if(g=p.mm(g))if(p=p.rh(g.Ua()),l=Math.floor(l),!(0>l||l>=p.length)){var q=g.Db.jB(l);if("color"===q){h.pA(n);l=p[l];if(h.hq(l))return;
l.Tn(h)}else{"percent"===q&&(n/=100);if(p[l]===n)return;p[l]=n}g.hc&&this.j.ea()}},$xa(g,l){this.j.$a().w$(g/100,l/100)},Lwa(g){this.j.$a().Jj(g)},Mwa(g){this.j.$a().Kj(g)},Jwa(g,l){const n=this.j.$a();n.Jj(g);n.Kj(l)},Kwa(g){if(g&&(g=g.Lg())&&(g=g.C())){var l=this.j.$a();l.Jj(g.K());l.Kj(g.L())}},async E6(g){const l=this.j.jc();l&&g&&!this.j.yk&&await this.LJ(l,g.lb?g.mp:[g])},async fta(g){await d.A.Ia.ta.E6.call(this,this.j.oH(g))},Fza(g){const l=this.j.jc();l&&g&&this.zW(l,g.lb?g.mp:[g])},haa(g){d.A.Ia.ta.haa.call(this,
this.j.oH(g))},Gza(){const g=this.j.jc();if(g){var l=g.Fda();this.zW(g,l)}},async dta(g){const l=this.j.jc();g&&l&&!this.j.yk&&await this.LJ(l,g.zU())},async eta(g){const l=this.j.jc();(g=this.j.ob.nt(g))&&l&&!this.j.yk&&await this.LJ(l,g.zU())},dC(g){const l=this.Ee.j3();if(l)switch(l.xX){case 1:"number"===typeof g&&l.dC(g);break;case 2:"string"===typeof g&&l.dC(g);break;case 3:l.dC(g)}},rta(g,l,n){var p=this.yC(g.toLowerCase(),!0);const q=p.kG,r=l.toLowerCase();q.has(r)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);
(p=d.first(q.values())||p.fq)&&0!==p.Bn!==(0!==n.Bn)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(r,n)},sta(g,l){const n=this.yC(g.toLowerCase(),!0);n.fq&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const p=d.first(n.kG.values())||n.fq;p&&0!==p.Bn!==(0!==l.Bn)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):
n.fq=l},foa(g,l,n){n=Math.floor(n);var p=this.yC(g.toLowerCase(),!1);if(p){var q=p.kG.get(l.toLowerCase());if(!q)if(p.fq)q=p.fq,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(q.Hf())if(0!==q.Bn)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);else{g=this.j;l=g.Ba();var r=l.Ub();p=r.ie();var w=0<p.length;w&&l.Bh(p);
var x=[];if(r=l.PG(r)){r=r.Sh;for(let u=n,t=r.length;u<t;++u)x.push(r[u].Ab())}n=q.Sh;for(let u=x.length,t=n.length;u<t;++u)x.push(n[u].Cb);return g.nf?this.Yba(l,q,x,w,p):this.wca(l,q,x,w,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.D;d.A.Ia.Ta={EBa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},ZAa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},$n(b){return b.toString()},fA(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.j.Bm()*b:this.j.Bm()*(a-b)+b},PZ(...b){return b[Math.floor(this.j.Bm()*b.length)]},oCa(){return Math.PI},CBa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},QCa(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.Ga(b))},cos(b){return Math.cos(d.Ga(b))},tan(b){return Math.tan(d.Ga(b))},asin(b){return d.yd(Math.asin(b))},acos(b){return d.yd(Math.acos(b))},atan(b){return d.yd(Math.atan(b))},exp(b){return Math.exp(b)},ula(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let f=1,c=b.length;f<c;++f){let e=b[f];"number"===typeof e&&a<e&&(a=e)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let f=1,c=b.length;f<c;++f){let e=b[f];"number"===typeof e&&a>e&&(a=e)}return a},ia(b,a,f){return d.ia(b,a,f)},$z(b,a,f,c){return d.yf(b,a,f,c)},angle(b,a,f,c){return d.yd(d.Ag(b,a,f,c))},Qc(b,a,f){return d.Qc(b,a,f)},lG(b,a,f){return d.lG(b,a,f)},cG(b,a,f,c){return d.cG(b,a,f,c)},SZ(b,a,f,c,e){return d.SZ(b,
a,f,c,e)},RZ(b,a,f){return d.RZ(b,a,f)},uAa(b,a){return d.yd(d.Rs(d.Ga(b),d.Ga(a)))},vAa(b,a,f){return d.yd(d.UN(d.Ga(b),d.Ga(a),f))},wAa(b,a,f){return d.yd(d.VN(d.Ga(b),d.Ga(a),d.Ga(f)))},ZCa(b,a,f){a|=0;return(b|0)&~(1<<a)|(0!==f?1:0)<<a},gDa(b,a){return(b|0)^1<<(a|0)},wBa(b,a){return(b|0)&1<<(a|0)?1:0},fCa(){return"\n"},nDa(b){return"string"===typeof b?b.toUpperCase():""},YBa(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,f){return"string"!==
typeof b?"":0>f?b.substr(a):b.substr(a,f)},right(b,a){return"string"===typeof b?b.substr(b.length-a):""},trim(b){return"string"===typeof b?b.trim():""},hDa(b,a,f){if("string"!==typeof b||"string"!==typeof f)return"";b=b.split(f);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},iDa(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(d.kw(a),"i")):-1},YAa(b,a){return"string"===typeof b&&"string"===
typeof a?b.search(new RegExp(d.kw(a),"")):-1},replace(b,a,f){return"string"===typeof b&&"string"===typeof a&&"string"===typeof f?b.replace(new RegExp(d.kw(a),"gi"),f):"string"===typeof b?b:""},BCa(b,a,f){a=this.lB(a,f);return b?b.search(a):-1},ACa(b,a,f,c){a=this.lB(a,f);return b?b.replace(a,c):""},zCa(b,a,f){return(b=this.tQ(b.toString(),a,f))?b.length:0},yCa(b,a,f,c){c=Math.floor(c);b=this.tQ(b.toString(),a,f);return!b||0>c||c>=b.length?"":b[c]},vDa(b,a){let f=0>b?"-":"";0>b&&(b=-b);f+="0".repeat(Math.max(a-
b.toString().length,0));return f+b.toString()},pDa(b){return encodeURIComponent(b)},oDa(b){return decodeURIComponent(b)},WZ(){return this.j.AD},fma(){return this.j.ae},uDa(){return(Date.now()-this.j.Op)/1E3},lDa(){return Date.now()},time(){return this.j.th()},eDa(){return this.j.Pl},jCa(){return this.j.HM},aBa(){return this.j.QD},JAa(){return this.j.NE},xBa(){return this.j.fB()},uma(){return this.j.ja.Ki},tma(){return this.j.ja.Ji},Hla(){return this.j.Zh},Gla(){return this.j.Yh},lCa(){return this.j.Zh},
kCa(){return this.j.Yh},Wla(){return this.j.$a().Mg()},Xla(){return this.j.$a().Ng()},UBa(){return this.j.$a().ra},VBa(){return this.j.$a().vc},TBa(){return d.yd(this.j.$a().$())},qla(){return this.j.$a().R()},pla(){return this.j.$a().S()},pma(b){return(b=this.j.$a().xa(b))?b.se.X:0},rma(b){return(b=this.j.$a().xa(b))?b.se.U:0},qma(b){return(b=this.j.$a().xa(b))?b.se.ca:0},oma(b){return(b=this.j.$a().xa(b))?b.se.ba:0},tDa(b){return(b=this.j.$a().xa(b))?b.se.width():0},sDa(b){return(b=this.j.$a().xa(b))?
b.se.height():0},EAa(b,a,f){return(b=this.j.$a().xa(b))?b.fm(a,f)[0]:0},FAa(b,a,f){return(b=this.j.$a().xa(b))?b.fm(a,f)[1]:0},QBa(b,a,f){return(b=this.j.$a().xa(b))?b.Mq(a,f)[0]:0},RBa(b,a,f){return(b=this.j.$a().xa(b))?b.Mq(a,f)[1]:0},ola(b){return(b=this.j.$a().xa(b))?b.vc:0},JBa(b){return(b=this.j.$a().xa(b))?d.yd(b.hf):0},nla(b){return(b=this.j.$a().xa(b))?100*b.he():0},NBa(b){return(b=this.j.$a().xa(b))?b.Fk:0},OBa(b){return(b=this.j.$a().xa(b))?b.Mg():0},PBa(b){return(b=this.j.$a().xa(b))?
b.Ng():0},LBa(b){return(b=this.j.$a().xa(b))?100*b.Vf:0},MBa(b){return(b=this.j.$a().xa(b))?100*b.Wf:0},SBa(b){return(b=this.j.$a().xa(b))?b.kb():0},KBa(b){return(b=this.j.$a().xa(b))?b.Ua():-1},DAa(){const b=this.j.ja;return b?b.jN:""},XBa(b){const a=this.ug;return a.bR()?b?(b=a.Q2(b))?b.Ua():0:a.kt().Ua():0},RCa(){return this.j.bs},CAa(b,a,...f){var c=this.yC(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var e=c.kG.get(a.toLowerCase());
if(!e)if(c.fq)e=c.fq;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=e.Bn;const h=e.yw();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!e.Hf())return h;b=this.j.Ba();a=b.Ub().ie();const g=0<a.length;g&&b.Bh(a);const l=e.Sh;for(let n=f.length,p=l.length;n<p;++n)f.push(l[n].Cb);
e=e.Ef();f=e.qI(e.ie(),c,h,...f);g&&b.fc(a);return f},vla(){return this.j.Kb.CE},ABa(){return 0===this.Lr?1:this.Ay/this.Lr},dg(){return this.j.Fw()?"webgpu":"webgl"},ECa(){return this.j.Fw()?"<unavailable>":this.j.Gq().Qz},BBa(){let b=this.j.kc().o3();return Math.round(100*b/1048576)/100},FCa(b,a,f){return d.f8(b,a,f)},ICa(b,a,f){return d.cS(b/100,a/100,f/100)},GCa(b,a,f,c){return d.RB(b/100,a/100,f/100,c/100)},JCa(b,a,f){return d.cS(b/255,a/255,f/255)},HCa(b,a,f,c){return d.RB(b/255,a/255,f/255,
c/255)},Kla(){return this.j.aF},tCa(){return this.j.OY},MAa(){return this.j.Ub().Gd.ra},LAa(){return this.j.Ub().xu}}}{"use strict";const d=self.D;d.A.bb=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D;d.A.bb.Wd=class extends d.Ij{constructor(b){super(b);this.Be=b.Be}B(){d.I(this.Be);super.B()}Sb(){for(const b of this.Be)b.x6(this.j)}zo(b){const a={te:this.j.cd};return Promise.all(this.Be.map(f=>f.y6(b,a)))}fl(){for(const b of this.Be)b.C8()}PB(){this.DW()}DW(){for(const b of this.T.ala())b.ya.oK()}pw(b){d.A.bb.Wca(this,b)}}}
{"use strict";const d=self.D,b=d.F(d.Rect),a=d.F(d.Ad),f=d.F(d.qx);d.A.bb.Instance=class extends d.Xw{constructor(e,h){super(e);let g=!0,l="",n=0,p=!0;h&&(g=!!h[0],l=h[1],n=h[2],p=h[3]);this.rc=this.T.TP(l)||this.T.Be[0];this.Tb=d.ia(n,0,this.rc.Fe.length-1);this.Qf=this.rc.jo(this.Tb);h=this.Qf.Sc();this.tu=h.lc();this.iy=h.vi();this.t4();e.$w(2,!0);e.$w(1,0<=this.rc.rm());this.xl=Math.abs(this.rc.rm());this.ru=this.rc.XY;this.dD=d.F(d.Dt);this.tl=this.rk=0;this.OW="";this.ey=-1;this.lu="";this.UW=
0;e=this.C();this.Tia=e.Kg();e.Gh(g);e.Zw(p);e.Pt(this.Qf.Rk());e.Qt(this.Qf.Sk());e.JI(this.Qf.ur);e.W();1===this.T.Be.length&&1===this.T.Be[0].Fe.length||0===this.xl||this.Pe()}B(){this.dD=this.tu=this.Qf=this.rc=null;super.B()}ge(){return this.Qf.Sc()}vo(){return!0}Gt(){this.tu=null}bS(){this.oK()}Le(e){var h=this.tu;null!==h&&(e.Mf(h),h=this.C(),h.Pg()?this.AJ(h,e):this.BJ(h,e))}BJ(e,h){let g=this.Tia;this.j.Fl&&(g=e.Rw(g));h.el(g,this.iy)}AJ(e,h){const g=e.IQ();if(e.fR()){e.ew(b,a,!1);let l=
a;this.j.Fl&&(l=e.Rw(l));g.lP(e.Yk(),l,this.iy);e.fC(!1)}g.Le(h)}uw(){return this.dD.ma()}zB(){return this.H.gH(2)}Kt(e){this.H.$w(2,e)}EB(){return this.H.gH(1)}hx(e){this.H.$w(1,e)}QH(){return this.H.gH(4)}OS(e){this.H.$w(4,e)}Md(){this.lu&&this.UT();0<=this.ey&&this.zJ();const e=this.xl;if(this.zB()&&0!==e){this.dD.Ec(this.j.ri(this.H));var h=this.uw(),g=this.Qf,l=g.gX/e;if(!(h<this.rk+l)){var n=this.rc,p=this.ru,q=n.Fe.length,r=n.lo(),w=n.nE,x=n.tja;this.EB()?this.Tb++:this.Tb--;this.rk+=l;this.Tb>=
q&&(x?(this.hx(!1),this.Tb=q-2):w?this.Tb=p:(this.tl++,this.tl>=r?this.DJ(!1):this.Tb=p));0>this.Tb&&(x?(this.Tb=1,this.hx(!0),w||(this.tl++,this.tl>=r&&this.DJ(!0))):w?this.Tb=p:(this.tl++,this.tl>=r?this.DJ(!0):this.Tb=p));this.Tb=d.ia(this.Tb,0,q-1);l=n.jo(this.Tb);h>this.rk+l.gX/e&&(this.rk=h);this.HC(g,l)}}else this.Mm()}DJ(e){this.Tb=e?0:this.rc.Fe.length-1;this.Kt(!1);this.OW=this.rc.ra;this.OS(!0);this.la(d.A.bb.G.CR);this.la(d.A.bb.G.BR);this.OS(!1);this.tl=0}HC(e,h){if(e!==h){var g=this.C(),
l=e.Sc();e=h.Sc();var n=l.R();l=l.S();var p=e.R(),q=e.S();n!==p&&g.Ae(g.R()*(p/n));l!==q&&g.df(g.S()*(q/l));g.Pt(h.Rk());g.Qt(h.Sk());g.JI(h.ur);g.W();this.Qf=h;this.tu=e.lc();this.iy=e.vi();h=this.Ra().Dd;for(let r=0,w=h.length;r<w;++r);this.la(d.A.bb.G.x7);this.j.ea()}}dia(e){this.Kt(!0);this.rk=this.uw();1===e&&0!==this.Tb&&(this.ey=0,this.QH()||this.zJ());this.Pe()}aha(e,h){this.lu=e;this.UW=h;this.Pe();this.QH()||this.UT()}sU(){return this.lu?this.lu:this.rc.ra}bha(e){isFinite(e)&&(this.ey=e,
this.QH()||this.zJ())}dha(e){this.xl=Math.abs(e);this.hx(0<=e);0<this.xl&&this.Pe()}nU(){return this.EB()?this.xl:-this.xl}cha(e){this.ru=e=d.ia(Math.floor(e),0,this.rc.Fe.length-1)}UT(){const e=this.Qf;var h=this.T.TP(this.lu);this.lu="";!h||h===this.rc&&this.zB()||(this.rc=h,this.hx(0<=h.rm()),this.xl=Math.abs(h.rm()),this.ru=h.XY,this.Tb=d.ia(this.Tb,0,this.rc.Fe.length-1),1===this.UW&&(this.Tb=0),this.Kt(!0),this.rk=this.uw(),h=this.rc.jo(this.Tb),this.HC(e,h))}zJ(){const e=this.Qf;var h=this.Tb;
this.Tb=d.ia(Math.floor(this.ey),0,this.rc.Fe.length-1);this.ey=-1;h!==this.Tb&&(h=this.rc.jo(this.Tb),this.HC(e,h),this.rk=this.uw())}oK(){const e=this.Qf.Sc();this.tu=e.lc();this.iy=e.vi();this.C().fC(!0)}lc(){return this.tu}vi(){return this.iy}jH(){return this.Qf.jH()}Pk(e){const h=this.Qf,g=this.C();if("string"===typeof e)e=h.H3(e);else if("number"===typeof e)e=h.G3(e-1);else throw new TypeError("expected string or number");if(!e)return[g.K(),g.L()];f.Na(e.Fq());if(g.Pg()){const [l,n]=g.Yk().nT(f.fa,
f.Z);f.set(l,n)}f.offset(-h.Rk(),-h.Sk());f.scale(g.R(),g.S());f.rotate(g.$());f.offset(g.K(),g.L());return[f.fa,f.Z]}h3(){return this.C().tm().CO()}ZP(e){e=Math.floor(e);const h=this.C();var g=h.tm();const l=g.CO();e===l&&(e=0);if(0>e||e>=l)return[0,0];g=g.$d;return[g[2*e]+h.K(),g[2*e+1]+h.L()]}xc(){const e={a:this.rc.jb};0!==this.rk&&(e.fs=this.rk);var h=this.uw();0!==h&&(e.at=h);0!==this.Tb&&(e.f=this.Tb);0!==this.xl&&(e.cas=this.xl);1!==this.tl&&(e.ar=this.tl);0!==this.ru&&(e.rt=this.ru);this.zB()||
(e.ap=this.zB());this.EB()||(e.af=this.EB());h=this.C();h.zh()&&(e.ce=h.zh());return e}pc(e){var h=this.P().a3(e.a);h&&(this.rc=h);this.rk=e.hasOwnProperty("fs")?e.fs:0;this.dD.Set(e.hasOwnProperty("at")?e.at:0);h=e.hasOwnProperty("f")?e.f:0;this.Tb=d.ia(h,0,this.rc.Fe.length-1);this.xl=e.hasOwnProperty("cas")?e.cas:0;this.tl=e.hasOwnProperty("ar")?e.ar:1;h=e.hasOwnProperty("rt")?e.rt:0;this.ru=d.ia(h,0,this.rc.Fe.length-1);this.Kt(e.hasOwnProperty("ap")?!!e.ap:!0);this.hx(e.hasOwnProperty("af")?
!!e.af:!0);this.Qf=h=this.rc.jo(this.Tb);this.oK();const g=this.C();g.Pt(h.Rk());g.Qt(h.Sk());g.JI(h.ur);g.Zw(!!e.ce)}ec(e){const h=this.C();switch(e){case 3:return h.zh();case 2:return d.ia(this.Tb,0,this.rc.Fe.length-1)}}ye(e,h){var g=this.C();switch(e){case 3:g.Zw(!!h);break;case 2:this.Kt(!1);e=this.rc.Fe.length-1;g=h=d.ia(h,0,e);h=this.rc.jo(this.Tb);const l=this.rc.jo(g);this.HC(h,l);this.Tb=d.ia(g,0,e)}}$e(){return self.Y4}};const c=new WeakMap;self.Y4=class extends self.Lw{constructor(){super();
c.set(this,self.Hq.Qj().ya)}get animationName(){return c.get(this).sU()}get imageWidth(){return c.get(this).ge().R()}get imageHeight(){return c.get(this).ge().S()}}}
{"use strict";const d=self.D,b=d.F(d.Rect),a=[],f=[];let c=!1,e=null,h=!1;const g=new Set;function l(r,w,x,u){w.zb<x.zb?r.Set(w,x,u):r.Set(x,w,u)}function n(r,w,x){w.zb<x.zb?r.sq(w,x):r.sq(x,w)}function p(r,w,x){return w.zb<x.zb?r.ma(w,x):r.ma(x,w)}function q(r,w,x,u){if(!w)return!1;r=r.Ra();const t=0!==x||0!==u,A=r.C(),y=r.N(),C=y.nc;var F=y.hg();const H=F.Ef().Ge;var J=F.P();F=F.Ri;const M=w.ka();J=J!==w;e=w;c=J&&!F;h=!1;let P=0,S=0,T=!1;M.wc?(b.Na(A.Kc()),b.offset(x,u),C.YA(A.xa(),w,b,f),w=f):
H?y.S5()&&!M.Gc.length&&M.M.length?w=M.M:(w=M.Gc,h=!0):w=M.M;t&&(P=A.K(),S=A.L(),A.Ld(x,u),A.W());for(const V of w)if(C.je(r,V)){T=!0;if(F)break;J&&g.add(V)}t&&(A.mb(P,S),A.W());d.I(f);return T}d.A.bb.Wca=function(r,w){if(c){if(w){{r=r.N().Ub().Ge;w=e.ka();const x=w.M,u=w.Gc;w.wc?(w.jx(g),r&&(d.I(u),w.ZO(g,e.Ca()))):r?h?w.caa(g):(w.ZO(g,x),w.jx(g)):w.jx(g);e.Fc()}}g.clear();e=null;c=!1}};d.A.bb.G={m7(r){if(this.j.nf)return d.A.bb.G.p1.call(this,r);if(!r)return!1;var w=this.j;const x=w.nc,u=w.Ba(),
t=u.zd();var A=u.hg();const y=A.P();var C=A.Ze(),F=A.xt();A=t.Cf();const H=w.Pl,J=H-1,M=A.Ub(),P=t.ab(M);let S=C.get("collmemory");S||(S=d.F(d.Qw),C.set("collmemory",S));F.get("spriteCreatedDestroyCallback")||(F.set("spriteCreatedDestroyCallback",!0),w.Mb().addEventListener("instancedestroy",ea=>{S.EP(ea.instance)}));w=r.ka();C=y.ka().Ca();F=null;for(let ea=0;ea<C.length;++ea){const X=C[ea];w.wc?(x.YA(X.C().xa(),r,X.C().Kc(),a),F=a,x.$O(X,r,F)):F=w.Ca();for(let na=0;na<F.length;++na){const ja=F[na];
if(x.je(X,ja)||x.qP(X,ja)){var T=p(S,X,ja),V=!1,ba=-2;"number"===typeof T&&(V=!0,ba=T);T=!V||ba<J;l(S,X,ja,H);T&&(T=M.Sd(),u.cf(T),ba=y.ka(),V=r.ka(),ba.ff(!1),V.ff(!1),y===r?(V=ba.M,d.I(V),V.push(X),V.push(ja),y.Fc()):(ba=ba.M,V=V.M,d.I(ba),d.I(V),ba.push(X),V.push(ja),y.Fc(),r.Fc()),M.Vg(A,P),u.fc(T))}else n(S,X,ja)}d.I(a)}t.Wa();return!1},*p1(r){if(!r)return!1;var w=this.j;const x=w.nc,u=w.Ba(),t=u.zd(),A=t.Cf(),y=w.Pl,C=y-1,F=A.Ub(),H=t.ab(F);var J=u.hg();const M=J.P();var P=J.Ze();J=J.xt();let S=
P.get("collmemory");S||(S=d.F(d.Qw),P.set("collmemory",S));J.get("spriteCreatedDestroyCallback")||(J.set("spriteCreatedDestroyCallback",!0),w.Mb().addEventListener("instancedestroy",ea=>{S.EP(ea.instance)}));w=r.ka();P=M.ka().Ca();J=null;for(let ea=0;ea<P.length;++ea){const X=P[ea];w.wc?(x.YA(X.C().xa(),r,X.C().Kc(),a),J=a,x.$O(X,r,J)):J=w.Ca();for(let na=0;na<J.length;++na){const ja=J[na];if(x.je(X,ja)||x.qP(X,ja)){var T=p(S,X,ja),V=!1,ba=-2;"number"===typeof T&&(V=!0,ba=T);T=!V||ba<C;l(S,X,ja,y);
T&&(T=F.Sd(),u.cf(T),ba=M.ka(),V=r.ka(),ba.ff(!1),V.ff(!1),M===r?(V=ba.M,d.I(V),V.push(X),V.push(ja),M.Fc()):(ba=ba.M,V=V.M,d.I(ba),d.I(V),ba.push(X),V.push(ja),M.Fc(),r.Fc()),yield*F.ph(A,H),u.fc(T))}else n(S,X,ja)}d.I(a)}t.Wa();return!1},zsa(r){return q(this,r,0,0)},Asa(r,w,x){return q(this,r,w,x)},N5(r){return d.ki(this.sU(),r)},R0(r,w){return d.compare(this.Tb,r,w)},zoa(r,w){return d.compare(this.nU(),r,w)},BR(r){return d.ki(this.OW,r)},CR(){return!0},x7(){return!0},osa(){return 0>this.C().R()},
csa(){return 0>this.C().S()},QB(){return!0},cI(){return!0},zh(){return this.C().zh()}}}
{"use strict";const d=self.D;d.A.bb.ta={N$(b,a,f,c){if(b&&a){var [e,h]=this.Pk(f);if(f=this.j.GG(b,a,e,h,c)){c&&a.RI(f);b.ac().Ct()&&(a=f.C(),a.yc(this.C().$()),a.W());a=this.j.Ba();a.zf(!0);f.UC();a.zf(!1);c=this.j.ww().Ze();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.Cu)a=!0,c.set("Spawn_LastExec",this.j.Cu);if(b!==this.P()&&(b=b.ka(),b.ff(!1),b=b.M,a&&d.I(b),b.push(f),f.Tc()))for(const g of f.ne)f=g.P().ka(),a?f.ll(g):(f.ff(!1),f.er(g))}}},Rya(){this.Kt(!1)},R$(b){this.dia(b)},
m9(b,a){this.aha(b,a)},n9(b){this.bha(b)},Rwa(b){this.dha(b)},Qwa(b){this.cha(b)},jya(b){const a=this.C(),f=a.R();b=Math.abs(f)*(0===b?-1:1);f!==b&&(a.Ae(b),a.W())},txa(b){const a=this.C(),f=a.S();b=Math.abs(f)*(0===b?-1:1);f!==b&&(a.df(b),a.W())},No(b){const a=this.Qf.Sc(),f=this.C();var c=0>f.R()?-1:1;const e=0>f.S()?-1:1;c*=a.R()*b;b=a.S()*b*e;if(f.R()!==c||f.S()!==b)f.zc(c,b),f.W()},async G6(b,a){const f=this.Qf.Sc(),c=this.C(),e=this.j;if(f.hj===b)0===a&&(c.zc(f.R(),f.S()),c.W()),this.la(d.A.bb.G.QB);
else{var h=d.F(d.Mw);try{await h.nR(e,b);if(!h.CB())throw Error("image failed to load");await h.yo(e.kc(),{te:this.j.cd})}catch(g){console.error("Load image from URL failed: ",g);this.la(d.A.bb.G.cI);return}f.O8(h);this.Za.DW();this.Xq()||0!==a||(c.zc(f.R(),f.S()),c.W());e.ea();this.Xq()||await this.xb(d.A.bb.G.QB)}},bxa(b){this.C().Zw(b)},II(b,a){this.C().II(0===b,a)},yI(b){this.C().Jf(b);this.j.ea()}}}"use strict";
self.D.A.bb.Ta={e0(){return this.Tb},f0(){return this.rc.Fe.length},nna(){return this.rc.ra},ona(){return this.nU()},fua(){return this.rc.rm()},Dra(d){return this.Pk(d)[0]},Era(d){return this.Pk(d)[1]},Cra(){return this.jH()},g5(){return this.ge().R()},e5(){return this.ge().S()},bva(d){return this.ZP(d)[0]},cva(d){return this.ZP(d)[1]},ava(){return this.h3()}};{"use strict";const d=self.D;d.A.Kh=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D;function b(a){switch(a){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}d.A.Kh.Wd=class extends d.Ij{constructor(a,f){super(a);this.Sn=this.Rn="repeat";f&&(this.Rn=b(f[0]),this.Sn=b(f[1]))}B(){super.B()}Sb(){this.Sc().Ow(this.j)}zo(a){return this.Sc().yo(a,{te:this.j.cd,bo:this.Rn,co:this.Sn})}fl(){this.Sc().Ch()}}}
{"use strict";const d=self.D,b=d.F(d.Rect),a=d.F(d.Ad),f=d.F(d.Rect),c=d.F(d.Ad);d.A.Kh.Instance=class extends d.Xw{constructor(h,g){super(h);this.Ku=this.Ju=0;this.Mu=this.Lu=1;this.$m=0;this.ls=null;g&&(this.C().Gh(!!g[0]),this.Ju=g[4],this.Ku=g[5],this.Lu=g[6],this.Mu=g[7],this.$m=d.Ga(g[8]))}B(){this.wV();super.B()}wV(){this.ls&&(this.ls.B(),this.ls=null)}Le(h){var g=this.ge(),l=g.lc();if(null!==l){h.Mf(l);l=g.R();g=g.S();var n=this.Ju/l,p=this.Ku/g,q=this.C();f.set(0,0,q.R()/(l*this.Lu),q.S()/
(g*this.Mu));f.offset(-n,-p);q.Pg()?this.AJ(q,h):this.BJ(q,h)}}BJ(h,g){let l=h.Kg();this.j.Fl&&(l=h.Rw(l));0===this.$m?g.el(l,f):(c.qA(f,-this.$m),g.x8(l,c))}AJ(h,g){const l=h.IQ();if(h.fR()){h.ew(b,a,!1);let n=a;this.j.Fl&&(n=h.Rw(n));let p=f;0!==this.$m&&(c.qA(f,-this.$m),p=c);l.lP(h.Yk(),n,p);h.fC(!1)}l.Le(g)}ge(){return this.ls||this.T.Sc()}vo(){return!0}lc(){return this.ge().lc()}Mx(){this.C().fC(!0)}ZV(h){this.Ju!==h&&(this.Ju=h,this.j.ea(),this.Mx())}$V(h){this.Ku!==h&&(this.Ku=h,this.j.ea(),
this.Mx())}aW(h){this.Lu!==h&&(this.Lu=h,this.j.ea(),this.Mx())}bW(h){this.Mu!==h&&(this.Mu=h,this.j.ea(),this.Mx())}YV(h){this.$m!==h&&(this.$m=h,this.j.ea(),this.Mx())}ec(h){switch(h){case 4:return this.Ju;case 5:return this.Ku;case 6:return this.Lu;case 7:return this.Mu;case 8:return this.$m}}ye(h,g){switch(h){case 4:this.ZV(g);break;case 5:this.$V(g);break;case 6:this.aW(g);break;case 7:this.bW(g);break;case 8:this.YV(g)}}$e(){return self.a5}};const e=new WeakMap;self.a5=class extends self.Lw{constructor(){super();
e.set(this,self.Hq.Qj().ya)}get imageWidth(){return e.get(this).ge().R()}get imageHeight(){return e.get(this).ge().S()}}}"use strict";self.D.A.Kh.G={QB(){return!0},cI(){return!0}};
{"use strict";const d=self.D;d.A.Kh.ta={Dxa(b){this.ZV(b)},Exa(b){this.$V(b)},Fxa(b){this.aW(b/100)},Gxa(b){this.bW(b/100)},Cxa(b){this.YV(d.Ga(b))},yI(b){this.C().Jf(b);this.j.ea()},async G6(b){if(!this.ls||this.ls.hj!==b){var a=this.j,f=d.F(d.Mw);try{await f.nR(a,b);if(!f.CB())throw Error("image failed to load");if(this.Xq())return f.B(),null;if(!await f.yo(a.kc(),{te:this.j.cd,bo:"repeat",co:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.la(d.A.Kh.G.cI);return}this.Xq()?
f.B():(this.wV(),this.ls=f,a.ea(),await this.xb(d.A.Kh.G.QB))}}}}{"use strict";const d=self.D;d.A.Kh.Ta={g5(){return this.ge().R()},e5(){return this.ge().S()},Ara(){return this.Ju},Bra(){return this.Ku},Fra(){return 100*this.Lu},Gra(){return 100*this.Mu},xra(){return d.yd(this.$m)}}}{"use strict";const d=self.D;d.A.Audio=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D;d.A.Audio.Wd=class extends d.Ij{constructor(b){super(b)}B(){super.B()}Sb(){}$e(){return self.L4}};self.L4=class extends self.Kw{constructor(b){super(b)}}}
{"use strict";const d=self.D,b=["interactive","balanced","playback"];d.A.Audio.Instance=class extends d.Cm{constructor(a,f){super(a,"audio");this.Xh=0;this.AN="";this.rz=this.uZ=0;this.RM=!1;this.dX=this.GY=1;this.xp=this.j.zg/2;this.yp=this.j.yg/2;this.es=-600;this.SY=600;this.qY=1E4;this.ZY=1;this.Ti=null;this.IE=-1;this.gv=1;this.gh=!1;this.aZ=0;this.DD=new Map;this.UM=this.VM=0;this.zn=new Map;a="interactive";f&&(this.uZ=f[0],this.rz=f[1],this.RM=f[2],a=b[f[3]],this.GY=f[4],this.dX=f[5],this.es=
-f[6],this.SY=f[7],this.qY=f[8],this.ZY=f[9]);this.Uh=[];this.Tu=[];this.AE=[];this.XO([["state",c=>this.Jfa(c)],["fxstate",c=>this.Ifa(c)],["trigger",c=>this.Hfa(c)]]);f=this.N().Mb();this.Xd=new d.Mk(d.qb.Ib(f,"instancedestroy",c=>this.dr(c.instance)),d.qb.Ib(f,"afterload",()=>this.Tj()),d.qb.Ib(f,"suspend",()=>this.UJ()),d.qb.Ib(f,"resume",()=>this.TJ()));this.j.rG(this.dl("create-audio-context",{preloadList:this.j.Kb.b3().map(c=>({originalUrl:c.Fla,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.j.bM,timeScaleMode:this.uZ,latencyHint:a,panningModel:this.GY,distanceModel:this.dX,refDistance:this.SY,maxDistance:this.qY,rolloffFactor:this.ZY,listenerPos:[this.xp,this.yp,this.es]}).then(c=>{this.aZ=c.sampleRate}));this.Pe()}B(){this.Ti=null;super.B()}dr(a){this.Ti===a&&(this.Ti=null)}HA(a){return Math.pow(10,a/20)}Rd(a){a=this.HA(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}w6(a){return Math.log(a)/Math.log(10)*20}lR(a){return this.w6(Math.max(Math.min(a,1),0))}UJ(){this.RM||
this.gb("set-suspended",{isSuspended:!0})}TJ(){this.RM||this.gb("set-suspended",{isSuspended:!1})}Jfa(a){const f=a.tickCount,c=this.Uh.filter(e=>e.hasOwnProperty("placeholder")&&(e.placeholder>f||-1===e.placeholder));this.Uh=a.audioInstances;this.AE=a.analysers;0<c.length&&d.cq(this.Uh,c)}Ifa(a){this.Tu=a.fxstate}xC(a){for(const f of this.Uh)if(d.ki(f.tag,a))return f;return null}ZU(a){return this.Uh.some(f=>d.ki(a,f.tag)&&f.isPlaying)}du(a,f,c,e){if(this.ZU(a))return null;a={tag:a,duration:0,volume:e,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:f,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.Uh.push(a);return a}async Hfa(a){const f=a.type;this.AN=a.tag;a=a.aiid;if("ended"===f){for(const c of this.Uh)if(c.aiid===a){c.isPlaying=!1;break}await this.xb(d.A.Audio.G.r7)}else"fade-ended"===f&&await this.xb(d.A.Audio.G.t7)}Md(){const a={timeScale:this.j.ae,gameTime:this.j.iH(),instPans:this.J3(),tickCount:this.j.Gn};
if(this.Ti){const f=this.Ti.C();this.xp=f.K();this.yp=f.L();a.listenerPos=[this.xp,this.yp,this.es]}this.gb("tick",a)}IO(a,f,c,e,h){if(0===c)return[a,f];const g=Math.sin(c);c=Math.cos(c);a-=e;f-=h;const l=a*g;a=a*c-f*g;return[a+e,f*c+l+h]}J3(){return this.Uh.filter(a=>-1!==a.uid).map(a=>this.j.ue(a.uid)).filter(a=>a).map(a=>{const f=a.C(),c=f.xa().$(),[e,h]=this.IO(f.K(),f.L(),-c,this.xp,this.yp);return{uid:a.zb,x:e,y:h,angle:f.$()-c}})}SA(a,f){for(const c of this.AE)if(c.index===f&&d.ki(c.tag,a))return c;
return null}Fi(a){this.DD.set(a,(this.DD.get(a)||0)+1)}Zha(a){return a.hasOwnProperty("placeholder")||3===this.rz?!1:a.isMusic&&1===this.rz?!1:a.isMusic||2!==this.rz?!0:!1}xc(){return{isSilent:this.gh,masterVolume:this.gv,listenerZ:this.es,listenerUid:this.Ti?this.Ti.zb:-1,remoteUrls:[...this.zn.entries()],playing:this.Uh.filter(a=>this.Zha(a)),effects:this.Tu,analysers:this.AE}}pc(a){this.gh=a.isSilent;this.gv=a.masterVolume;this.es=a.listenerZ;this.Ti=null;this.IE=a.listenerUid;this.zn.clear();
if(a.remoteUrls)for(const [f,c]of a.remoteUrls)this.zn.set(f,c);this.Uh=a.playing;this.Tu=a.effects;this.AE=a.analysers}Tj(){if(-1!==this.IE&&(this.Ti=this.j.ue(this.IE),this.IE=-1,this.Ti)){var a=this.Ti.C();this.xp=a.K();this.yp=a.L()}for(var f of this.Uh)(a=this.j.Kb.uh(f.bufferOriginalUrl))?(f.bufferUrl=a.url,f.bufferType=a.type):f.bufferUrl=null;for(const c of Object.values(this.Tu))for(const e of c)e.hasOwnProperty("bufferOriginalUrl")&&(f=this.j.Kb.uh(e.bufferOriginalUrl))&&(e.bufferUrl=f.url,
e.bufferType=f.type);this.gb("load-state",{saveLoadMode:this.rz,timeScale:this.j.ae,gameTime:this.j.iH(),listenerPos:[this.xp,this.yp,this.es],isSilent:this.gh,masterVolume:this.gv,playing:this.Uh.filter(c=>null!==c.bufferUrl),effects:this.Tu})}}}{"use strict";const d=self.D;d.A.Audio.G={r7(b){return d.ki(this.AN,b)},t7(b){return d.ki(this.AN,b)},hva(){return this.UM===this.VM},ana(){return!0},Fsa(){return this.gh},Mra(){for(const b of this.Uh)if(b.isPlaying)return!0;return!1},Isa(b){return this.ZU(b)}}}
{"use strict";const d=self.D,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.A.Audio.ta={async Play(a,f,c,e){if(!this.gh){var h=a[1],g=this.j.Kb.uh(a[0]);if(g){var l=this.Xh;this.Xh=0;var n=this.du(e.toLowerCase(),h,0!==f,this.Rd(c));try{await this.dl("play",{originalUrl:a[0],url:g.url,type:g.type,isMusic:h,tag:e.toLowerCase(),isLooping:0!==f,vol:this.Rd(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Gn)}}}},async Kua(a,
f,c,e,h,g,l,n,p,q){if(!this.gh){var r=a[1],w=this.j.Kb.uh(a[0]);if(w){var x=this.Xh;this.Xh=0;var u=this.du(q.toLowerCase(),r,0!==f,this.Rd(c));try{await this.dl("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:r,tag:q.toLowerCase(),isLooping:0!==f,vol:this.Rd(c),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:h,angle:d.Ga(g),innerAngle:d.Ga(l),outerAngle:d.Ga(n),outerGain:this.Rd(p)}})}finally{u&&(u.placeholder=this.j.Gn)}}}},async Iua(a,f,c,e,h,g,l,n){if(!this.gh&&
e&&(e=e.Lg())&&e.C()){var p=e.C(),q=p.xa().$(),[r,w]=this.IO(p.K(),p.L(),-q,this.xp,this.yp),x=a[1],u=this.j.Kb.uh(a[0]);if(u){var t=this.Xh;this.Xh=0;var A=this.du(n.toLowerCase(),x,0!==f,this.Rd(c));try{await this.dl("play",{originalUrl:a[0],url:u.url,type:u.type,isMusic:x,tag:n.toLowerCase(),isLooping:0!==f,vol:this.Rd(c),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:w,angle:p.$()-q,innerAngle:d.Ga(h),outerAngle:d.Ga(g),outerGain:this.Rd(l),uid:e.zb}})}finally{A&&(A.placeholder=
this.j.Gn)}}}},async i8(a,f,c,e,h){if(!this.gh){a=1===a;var g=this.j.Kb.uh(f)||this.zn.get(f.toLowerCase());if(g){var l=this.Xh;this.Xh=0;var n=this.du(h.toLowerCase(),a,0!==c,this.Rd(e));try{await this.dl("play",{originalUrl:f,url:g.url,type:g.type,isMusic:a,tag:h.toLowerCase(),isLooping:0!==c,vol:this.Rd(e),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Gn)}}}},async Lua(a,f,c,e,h,g,l,n,p,q,r){if(!this.gh){a=1===a;var w=this.j.Kb.uh(f)||this.zn.get(f.toLowerCase());
if(w){var x=this.Xh;this.Xh=0;var u=this.du(r.toLowerCase(),a,0!==c,this.Rd(e));try{await this.dl("play",{originalUrl:f,url:w.url,type:w.type,isMusic:a,tag:r.toLowerCase(),isLooping:0!==c,vol:this.Rd(e),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:h,y:g,angle:d.Ga(l),innerAngle:d.Ga(n),outerAngle:d.Ga(p),outerGain:this.Rd(q)}})}finally{u&&(u.placeholder=this.j.Gn)}}}},async Jua(a,f,c,e,h,g,l,n,p){if(!this.gh&&!this.gh&&h&&(h=h.Lg())&&h.C()){var q=h.C(),r=q.xa().$(),[w,x]=
this.IO(q.K(),q.L(),-r,this.xp,this.yp);a=1===a;var u=this.j.Kb.uh(f)||this.zn.get(f.toLowerCase());if(u){var t=this.Xh;this.Xh=0;var A=this.du(p.toLowerCase(),a,0!==c,this.Rd(e));try{await this.dl("play",{originalUrl:f,url:u.url,type:u.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.Rd(e),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:w,y:x,angle:q.$()-r,innerAngle:d.Ga(g),outerAngle:d.Ga(l),outerGain:this.Rd(n),uid:h.zb}})}finally{A&&(A.placeholder=this.j.Gn)}}}},
dya(a,f){this.gb("set-looping",{tag:a.toLowerCase(),isLooping:0===f})},lya(a,f){this.gb("set-muted",{tag:a.toLowerCase(),isMuted:0===f})},B$(a,f){this.gb("set-volume",{tag:a.toLowerCase(),vol:this.Rd(f)})},oqa(a,f,c,e){this.gb("fade-volume",{tag:a.toLowerCase(),vol:this.Rd(f),duration:c,stopOnEnd:0===e})},async o8(a){const f=a[1],c=this.j.Kb.uh(a[0]);c&&(this.VM++,await this.dl("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:f}),this.UM++)},async gva(a,f){a=1===a;const c=this.j.Kb.uh(f)||
this.zn.get(f.toLowerCase());c&&(this.VM++,await this.dl("preload",{originalUrl:f,url:c.url,type:c.type,isMusic:a}),this.UM++)},cx(a,f){this.gb("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(f,0)})},Jh(a){this.gb("stop",{tag:a.toLowerCase()})},Qya(){this.gb("stop-all")},nya(a,f){this.gb("set-paused",{tag:a.toLowerCase(),paused:0===f})},Nwa(a,f){this.gb("seek",{tag:a.toLowerCase(),pos:f})},tya(a){2===a&&(a=this.gh?1:0);a=0===a;this.gh!==a&&(this.gh=a,this.gb("set-silent",{isSilent:a}))},fya(a){a=
this.Rd(a);this.gv!==a&&(this.gv=a,this.gb("set-master-volume",{vol:a}))},Pma(a,f,c,e,h,g,l){a=a.toLowerCase();f=b[f];this.Fi(a);this.gb("add-effect",{type:"filter",tag:a,params:[f,c,e,h,g,d.ia(l/100,0,1)]})},Mma(a,f,c,e){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"delay",tag:a,params:[f,this.Rd(c),d.ia(e/100,0,1)]})},Qma(a,f,c,e,h,g){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"flanger",tag:a,params:[f/1E3,c/1E3,e,h/100,d.ia(g/100,0,1)]})},Vma(a,f,c,e,h,g,l){a=a.toLowerCase();
this.Fi(a);this.gb("add-effect",{type:"phaser",tag:a,params:[f,c,e,h,g,d.ia(l/100,0,1)]})},Lma(a,f,c,e){a=a.toLowerCase();const h=this.j.Kb.uh(f[0]);h&&(this.Fi(a),this.gb("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:f[0],bufferUrl:h.url,bufferType:h.type,params:[0===c,d.ia(e/100,0,1)]}))},Rma(a,f){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"gain",tag:a,params:[this.Rd(f)]})},Uma(a){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"gain",tag:a,params:[0]})},Zma(a,f,
c){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"tremolo",tag:a,params:[f,d.ia(c/100,0,1)]})},Yma(a,f,c){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"ringmod",tag:a,params:[f,d.ia(c/100,0,1)]})},Nma(a,f,c,e,h,g){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"distortion",tag:a,params:[this.HA(f),this.HA(c),e,this.HA(h),d.ia(g/100,0,1)]})},Kma(a,f,c,e,h,g){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"compressor",tag:a,params:[f,c,e,h/1E3,g/1E3]})},Jma(a,
f,c){a=a.toLowerCase();this.Fi(a);this.gb("add-effect",{type:"analyser",tag:a,params:[f,c]})},uva(a){a=a.toLowerCase();this.DD.set(a,0);this.gb("remove-effects",{tag:a});this.Tu={}},nxa(a,f,c,e,h,g){this.gb("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(f),param:c,value:e,ramp:h,time:g})},bya(a){a&&(a=a.Lg())&&a.C()&&(this.Ti=a)},cya(a){this.es=a},Ewa(a){this.Xh=Math.max(a,0)},Dza(a){const f=a[1];(a=this.j.Kb.uh(a[0]))&&this.gb("unload",{url:a.url,type:a.type,isMusic:f})},Eza(a,f){a=1===
a;(f=this.j.Kb.uh(f)||this.zn.get(f.toLowerCase()))&&this.gb("unload",{url:f.url,type:f.type,isMusic:a})},Cza(){this.gb("unload-all")},Xma(a,f,c){this.zn.set(c.toLowerCase(),{url:a,type:f})}}}"use strict";
self.D.A.Audio.Ta={Cpa(d){return(d=this.xC(d))?d.duration:0},Nua(d){return(d=this.xC(d))?d.playbackTime:0},Mua(d){return(d=this.xC(d))?d.playbackRate:0},Vza(d){return(d=this.xC(d))?this.lR(d.volume):0},uta(){return this.lR(this.gv)},Dpa(d){return this.DD.get(d.toLowerCase())||0},ena(d,b){return(d=this.SA(d,Math.floor(b)))?d.binCount:0},dna(d,b,a){d=this.SA(d,Math.floor(b));if(!d)return 0;a=Math.floor(a);return 0>a||a>=d.binCount?0:d.freqBins[a]},fna(d,b){return(d=this.SA(d,Math.floor(b)))?d.peak:
0},gna(d,b){return(d=this.SA(d,Math.floor(b)))?d.rms:0},Dwa(){return this.aZ},lpa(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.D;d.A.gd=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.A.gd.Wd=class extends d.Ij{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D;d.A.gd.Instance=class extends d.Cm{constructor(b){super(b,"browser");this.Cl="";this.Jy=!1;this.eX=this.TY="";this.TX=!1;this.QN=this.cZ=this.dZ=0;this.Ly=!1;this.XO([["online-state",a=>this.Bfa(a)],["backbutton",()=>this.kfa()],["sw-message",a=>this.Efa(a)],["hashchange",a=>this.tfa(a)]]);b=this.N().Mb();this.Xd=new d.Mk(d.qb.Ib(b,"afterfirstlayoutstart",()=>this.jfa()),d.qb.Ib(b,"window-resize",()=>this.YJ()),d.qb.Ib(b,"suspend",()=>this.UJ()),d.qb.Ib(b,"resume",()=>
this.TJ()));this.j.rG(this.dl("get-initial-state",{exportType:this.j.pk}).then(a=>{this.Cl=a.location;this.Jy=a.isOnline;this.TY=a.referrer;this.eX=a.title;this.TX=a.isCookieEnabled;this.dZ=a.screenWidth;this.cZ=a.screenHeight;this.QN=a.windowOuterWidth;this.Ly=a.isScirraArcade}))}B(){super.B()}jfa(){this.gb("ready-for-sw-messages")}async Bfa(b){b=!!b.isOnline;this.Jy!==b&&((this.Jy=b)?await this.xb(d.A.gd.G.O7):await this.xb(d.A.gd.G.M7))}async YJ(){await this.xb(d.A.gd.G.T7)}UJ(){this.la(d.A.gd.G.P7)}TJ(){this.la(d.A.gd.G.Q7)}async kfa(){await this.xb(d.A.gd.G.j7)}Efa(b){b=
b.type;"downloading-update"===b?this.la(d.A.gd.G.b8):"update-ready"===b||"update-pending"===b?this.la(d.A.gd.G.c8):"offline-ready"===b&&this.la(d.A.gd.G.N7)}tfa(b){this.Cl=b.location;this.la(d.A.gd.G.y7)}}}"use strict";
self.D.A.gd.G={wsa(){return this.Jy},O7(){return!0},M7(){return!0},T7(){return!0},bpa(){return this.TX},esa(){return this.j.ja.Rr},j7(){return!0},Csa(d){return(this.j.ja.Xl<=this.j.ja.Wl?0:1)===d},b8(){return!0},c8(){return!0},N7(){return!0},y7(){return!0},gua(){return!this.j.wo()},P7(){return!0},Q7(){return!0},ora(){return!1},$ra(){return!1},Tta(){return!1},Uta(){return!1},nsa(){return!1},Sra(){return!0},eza(){return!0}};
{"use strict";const d=self.D,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.A.gd.ta={bna(a){this.gb("alert",{message:a.toString()})},N0(){this.Ly||(this.j.Ob?self.Hg.qoa():this.gb("close"))},vqa(){this.gb("set-focus",{isFocus:!0})},Pna(){this.gb("set-focus",{isFocus:!1})},$qa(){this.Ly||this.gb("navigate",{type:"back"})},ara(){this.Ly||this.gb("navigate",{type:"forward"})},bra(){},tva(){this.Ly||(this.j.Ob?this.j.n8():this.gb("navigate",
{type:"reload"}))},dra(a,f){this.Km("navigate",{type:"url",url:a,target:f,exportType:this.j.pk})},fra(a,f){this.Km("navigate",{type:"new-window",url:a,tag:f,exportType:this.j.pk})},P8(a,f){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=d.AG.jU(a);this.j.ja.y9(a);this.Km("request-fullscreen",{navUI:f})},A0(){this.Km("exit-fullscreen")},Uza(a){a=a.split(",");for(let f=0,c=a.length;f<c;++f)a[f]=parseInt(a[f],10);this.Km("vibrate",{pattern:a})},async yB(a,f){a&&f&&(a=await this.j.Kb.kB(a),this.j.yB(a,f))},
Lra(a,f,c){c&&(a=`data:${f},${encodeURIComponent(a)}`,this.j.yB(a,c))},Yoa(a,f){f=f.toString();0===a?console.log(f):1===a?console.warn(f):2===a&&console.error(f)},Woa(a){console.group(a)},Xoa(){console.groupEnd()},jqa(a){try{eval(a)}catch(f){console.error("Error executing JavaScript: ",f)}},kta(a){a=Math.floor(a);0>a||a>=b.length||this.Km("lock-orientation",{orientation:b[a]})},Hza(){this.Km("unlock-orientation")},pR(a){this.j.Kb.pR(a)},Axa(a){this.gb("set-hash",{hash:a})}}}"use strict";
self.D.A.gd.Ta={URL(){return this.j.pf?this.Cl:location.toString()},lva(){return this.j.pf?(new URL(this.Cl)).protocol:location.protocol},Apa(){return this.j.pf?(new URL(this.Cl)).hostname:location.hostname},eva(){return this.j.pf?(new URL(this.Cl)).port:location.port},iua(){return this.j.pf?(new URL(this.Cl)).pathname:location.pathname},rra(){return this.j.pf?(new URL(this.Cl)).hash:location.hash},hI(){return this.j.pf?(new URL(this.Cl)).search:location.search},nva(d){const b=this.j.pf?(new URL(this.Cl)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(b))?decodeURIComponent(d[1].replace(/\+/g," ")):""},rva(){return this.TY},nza(){return this.eX},Tsa(){return navigator.language},Bb(){return navigator.platform},Mza(){return navigator.userAgent},iqa(d){let b=0;try{b=eval(d)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},Hta(){return navigator.appName},Tza(){return navigator.appVersion},kva(){return navigator.product},
Sza(){return navigator.vendor},Jna(){return 1},Kna(){return Infinity},Ina(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},wpa(){return self.devicePixelRatio},Iwa(){return this.dZ},Hwa(){return this.cZ},hAa(){return this.j.ja.Xl},gAa(){return this.j.ja.Wl},jAa(){return this.QN},iAa(){return this.QN}};{"use strict";const d=self.D;d.A.Keyboard=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D;d.A.Keyboard.Wd=class extends d.Ij{constructor(b){super(b)}B(){super.B()}Sb(){}$e(){return self.O4}};self.O4=class extends self.Kw{constructor(b){super(b);b.N().nu.keyboard=this}}}
{"use strict";const d=self.D;d.A.Keyboard.Instance=class extends d.Cm{constructor(b){super(b);this.Ru=new Set;this.Su=new Set;this.Ql=0;this.Oz=this.DF="";b=this.N().Mb();this.Xd=new d.Mk(d.qb.Ib(b,"keydown",a=>this.PJ(a.data)),d.qb.Ib(b,"keyup",a=>this.QJ(a.data)),d.qb.Ib(b,"window-blur",()=>this.fu()),d.qb.Ib(b,"keyboard-blur",()=>this.fu()))}B(){super.B()}PJ(b){const a=b.which,f=b.code||a.toString();b=b.key;this.Ru.has(f)||(this.Ru.add(f),this.Su.add(a),this.DF=f,this.Ql=a,this.Oz=b,this.la(d.A.Keyboard.G.i7),
this.la(d.A.Keyboard.G.NR),this.la(d.A.Keyboard.G.H7),this.la(d.A.Keyboard.G.E7))}QJ(b){const a=b.which,f=b.code||a.toString();b=b.key;this.Ru.delete(f);this.Su.delete(a);this.DF=f;this.Ql=a;this.Oz=b;this.la(d.A.Keyboard.G.FR);this.la(d.A.Keyboard.G.PR);this.la(d.A.Keyboard.G.I7);this.la(d.A.Keyboard.G.OR)}fu(){for(const b of this.Su)this.Su.delete(b),this.Ql=b,this.la(d.A.Keyboard.G.FR),this.la(d.A.Keyboard.G.PR),this.la(d.A.Keyboard.G.OR);this.Ru.clear()}eR(b){return this.Ru.has(b)}xc(){return{tk:this.Ql,
tkk:this.Oz}}pc(b){this.Ql=b.tk;b.hasOwnProperty("tkk")&&(this.Oz=b.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.D.A.Keyboard.G={eR(b){return this.Su.has(b)},NR(b){return this.Ql===b},i7(){return!0},FR(){return!0},PR(b){return this.Ql===b},isa(b){b=Math.floor(b);return this.Su.has(b)},E7(b){return this.Ql===b},OR(b){return this.Ql===b},H7(b){return this.DF===d[b]},I7(b){return this.DF===d[b]},jsa(b){return this.Ru.has(d[b])}}}"use strict";
self.D.A.Keyboard.ta={};
{"use strict";function d(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.D.A.Keyboard.Ta={Usa(){return this.Ql},Vya(b){return d(b)},xza(){return this.Oz}}}{"use strict";const d=self.D;d.A.lg=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.A.lg.Wd=class extends d.Ij{constructor(b){super(b)}B(){super.B()}Sb(){}$e(){return self.R4}};self.R4=class extends self.Kw{constructor(b){super(b);b.N().nu.tO=this}}}
{"use strict";const d=self.D;d.A.lg.Instance=class extends d.Cm{constructor(b){super(b,"mouse");this.rr=[!1,!1,!1];this.xZ=this.EF=this.Js=this.Ep=this.Dp=0;b=this.N().Mb();this.Xd=new d.Mk(d.qb.Ib(b,"pointermove",a=>this.SJ(a.data)),d.qb.Ib(b,"pointerdown",a=>this.RJ(a.data)),d.qb.Ib(b,"pointerup",a=>this.IC(a.data)),d.qb.Ib(b,"dblclick",a=>this.ofa(a.data)),d.qb.Ib(b,"wheel",a=>this.Afa(a.data)),d.qb.Ib(b,"window-blur",()=>this.XJ()))}B(){super.B()}RJ(b){"mouse"===b.pointerType&&(this.Dp=b.pageX-
this.j.vq(),this.Ep=b.pageY-this.j.wq(),this.iJ(b.lastButtons,b.buttons))}SJ(b){"mouse"===b.pointerType&&(this.Dp=b.pageX-this.j.vq(),this.Ep=b.pageY-this.j.wq(),this.iJ(b.lastButtons,b.buttons))}IC(b){"mouse"===b.pointerType&&this.iJ(b.lastButtons,b.buttons)}iJ(b,a){this.hJ(b,a,1,0);this.hJ(b,a,4,1);this.hJ(b,a,2,2)}hJ(b,a,f,c){!(b&f)&&a&f?this.yfa(c):b&f&&!(a&f)&&this.zfa(c)}yfa(b){this.rr[b]=!0;this.la(d.A.lg.G.g7);this.Js=b;this.EF=0;this.la(d.A.lg.G.GR);this.la(d.A.lg.G.VR)}zfa(b){this.rr[b]&&
(this.rr[b]=!1,this.Js=b,this.la(d.A.lg.G.WR))}ofa(b){this.Js=b.button;this.EF=1;this.la(d.A.lg.G.GR);this.la(d.A.lg.G.VR)}Afa(b){this.xZ=0>b.deltaY?1:0;this.la(d.A.lg.G.e8)}XJ(){for(let b=0,a=this.rr.length;b<a&&this.rr[b];++b)this.rr[b]=!1,this.Js=b,this.la(d.A.lg.G.WR)}nQ(b){const a=this.j.jc(),f=this.Dp,c=this.Ep;return"undefined"===typeof b?a.Bw(0).oP(f,c):(b=a.xa(b))?b.fm(f,c):[0,0]}WU(){return 0<=this.Dp&&0<=this.Ep&&this.Dp<this.j.YP()&&this.Ep<this.j.XP()}}}
{"use strict";const d=self.D;d.A.lg.G={GR(b,a){return this.Js===b&&this.EF===a},g7(){return!0},Qra(b){return this.rr[b]},WR(b){return this.Js===b},ysa(b){if(!this.WU())return!1;const a=this.j.hg().Ri;return d.xor(this.j.nc.Wt(b,this.Dp,this.Ep,a),a)},VR(b,a,f){return b===this.Js&&a===this.EF&&this.WU()?this.j.nc.Wt(f,this.Dp,this.Ep,!1):!1},e8(b){return this.xZ===b}}}
{"use strict";const d=self.D;let b=null;const a="auto pointer text crosshair move help wait none".split(" ");d.A.lg.ta={cxa(f){f=a[f];b!==f&&(b=f,this.gb("cursor",f))},dxa(f){if(!d.Bb.DB&&f&&(f=f.Lg())){var c=f.C(),e=f.ge();c&&e&&b!==e&&(b=e,e.NP().then(h=>d.gw(h)).then(h=>{h=`url(${URL.createObjectURL(h)}) ${Math.round(c.Rk()*e.R())} ${Math.round(c.Sk()*e.S())}, auto`;this.gb("cursor","");this.gb("cursor",h)}))}}}}"use strict";
self.D.A.lg.Ta={cJ(d){return this.nQ(d)[0]},dJ(d){return this.nQ(d)[1]},I_(){return this.Dp},J_(){return this.Ep}};{"use strict";const d=self.D;d.A.Touch=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D,b=self.Ig;d.A.Touch.Wd=class extends d.Ij{constructor(f){super(f)}B(){super.B()}Sb(){}$e(){return self.b5}};let a=null;self.b5=class extends self.Kw{constructor(f){super(f);a=f;f.N().nu.TO=this}requestPermission(f){b.If(f);const c=a.Xk().ya;if("orientation"===f)return c.ZJ(0);if("motion"===f)return c.ZJ(1);throw Error("invalid type");}}}
{"use strict";const d=self.D;d.A.Touch.Instance=class extends d.Cm{constructor(b,a){super(b,"touch");this.Pd=new Map;this.oE=this.yZ=!1;this.UD=this.Mi=this.Li=this.zN=this.CF=this.Dv=this.tK=this.sK=this.rK=this.wK=this.vK=this.uK=this.KM=this.JM=this.IM=this.SE=0;this.UE=[];a&&(this.yZ=a[0]);this.pG("permission-result",f=>this.Cfa(f));b=this.N().Mb();this.Xd=new d.Mk(d.qb.Ib(b,"pointerdown",f=>this.RJ(f.data)),d.qb.Ib(b,"pointermove",f=>this.SJ(f.data)),d.qb.Ib(b,"pointerup",f=>this.IC(f.data,!1)),
d.qb.Ib(b,"pointercancel",f=>this.IC(f.data,!0)),d.qb.Ib(b,"deviceorientation",f=>this.mfa(f.data)),d.qb.Ib(b,"deviceorientationabsolute",f=>this.nfa(f.data)),d.qb.Ib(b,"devicemotion",f=>this.lfa(f.data)),d.qb.Ib(b,"tick2",()=>this.VJ()))}B(){this.Pd.clear();super.B()}RJ(b){if("mouse"===b.pointerType)if(this.yZ)this.oE=!0;else return;const a=b.pointerId;if(!this.Pd.has(a)){var f=b.pageX-this.j.vq();b=b.pageY-this.j.wq();var c=performance.now(),e=this.Pd.size;this.Dv=e;this.CF=a;var h=d.F(d.A.Touch.baa);
h.wh(c,f,b,a,e);this.Pd.set(a,h);this.la(d.A.Touch.G.L7);this.la(d.A.Touch.G.$R);this.Li=f;this.Mi=b;this.la(d.A.Touch.G.ZR)}}SJ(b){if("mouse"!==b.pointerType||this.oE){var a=this.Pd.get(b.pointerId);if(a){var f=performance.now();2>f-a.Sa()||a.Fm(f,b.pageX-this.j.vq(),b.pageY-this.j.wq(),b.width,b.height,b.pressure)}}}IC(b,a){if("mouse"===b.pointerType)if(this.oE)this.oE=!1;else return;const f=performance.now();b=b.pointerId;const c=this.Pd.get(b);c&&(this.Dv=c.ci,this.CF=c.Ok(),this.la(d.A.Touch.G.K7),
this.la(d.A.Touch.G.a8),a||(a=c.G$(f),"single-tap"===a?(this.la(d.A.Touch.G.Z7),this.Li=c.K(),this.Mi=c.L(),this.la(d.A.Touch.G.YR)):"double-tap"===a&&(this.la(d.A.Touch.G.p7),this.Li=c.K(),this.Mi=c.L(),this.la(d.A.Touch.G.q7))),c.B(),this.Pd.delete(b))}ZJ(b){this.Km("request-permission",{type:b});return new Promise((a,f)=>{this.UE.push({type:b,resolve:a,reject:f})})}Cfa(b){const a=b.result,f=b.type;this.zN=f;b=this.UE.filter(c=>c.type===f);for(const c of b)c.resolve(a?"granted":"denied");this.UE=
this.UE.filter(c=>c.type!==f);a?(this.la(d.A.Touch.G.S7),0===f?this.j.It():this.j.Eo()):this.la(d.A.Touch.G.R7)}mfa(b){"number"===typeof b.webkitCompassHeading?this.SE=b.webkitCompassHeading:b.absolute&&(this.SE=b.alpha);this.IM=b.alpha;this.JM=b.beta;this.KM=b.gamma}nfa(b){this.SE=b.alpha}lfa(b){const a=b.acceleration;a&&(this.uK=a.x,this.vK=a.y,this.wK=a.z);if(b=b.accelerationIncludingGravity)this.rK=b.x,this.sK=b.y,this.tK=b.z}VJ(){const b=performance.now();let a=0;for(const f of this.Pd.values())f.Sa()<=
b-50&&f.Cha(b),f.F$(b)&&(this.Dv=f.ci,this.CF=f.Ok(),this.UD=a,this.la(d.A.Touch.G.z7),this.Li=f.K(),this.Mi=f.L(),this.la(d.A.Touch.G.A7),this.UD=0),++a}Rj(b){b=Math.floor(b);for(const a of this.Pd.values()){if(0===b)return a;--b}return null}Dx(b,a){return 0<=b&&0<=a&&b<this.j.YP()&&a<this.j.XP()}}}
{"use strict";const d=self.D,b=[];d.A.Touch.G={$R(){return!0},a8(){return!0},fsa(){return 0<this.Pd.size},ZR(a){return a&&this.Dx(this.Li,this.Mi)?this.j.nc.Wt(a,this.Li,this.Mi,!1):!1},j6(a){if(!a)return!1;const f=a.ka();var c=f.Ca();for(const e of c){c=e.C();const h=c.xa();for(const g of this.Pd.values()){if(!this.Dx(g.K(),g.L()))continue;const [l,n]=h.fm(g.K(),g.L(),c.Zk());if(c.hw(l,n)){b.push(e);break}}}return b.length?(f.Yw(b),a.Fc(),d.I(b),!0):!1},Ooa(a,f,c){return(a=this.Rj(a))?d.compare(a.rm(),
f,c):!1},dua(){return!0},zta(){return!0},Koa(a,f,c){this.j.It();return d.compare(0===a?this.IM:1===a?this.JM:this.KM,f,c)},xoa(a,f,c){this.j.Eo();return d.compare(0===a?this.rK:1===a?this.sK:2===a?this.tK:3===a?this.uK:4===a?this.vK:this.wK,f,c)},L7(a){a=Math.floor(a);return a===this.Dv},K7(a){a=Math.floor(a);return a===this.Dv},qra(a){a=Math.floor(a);return this.Pd.size>=a+1},z7(){return!0},Z7(){return!0},p7(){return!0},A7(a){return a&&this.Dx(this.Li,this.Mi)?this.j.nc.Wt(a,this.Li,this.Mi,!1):
!1},YR(a){return a&&this.Dx(this.Li,this.Mi)?this.j.nc.Wt(a,this.Li,this.Mi,!1):!1},q7(a){return a&&this.Dx(this.Li,this.Mi)?this.j.nc.Wt(a,this.Li,this.Mi,!1):!1},S7(a){return this.zN===a},R7(a){return this.zN===a}}}"use strict";self.D.A.Touch.ta={Cva(d){this.ZJ(d)}};
{"use strict";const d=self.D;d.A.Touch.Ta={tza(){return this.Pd.size},cJ(b){const a=this.Rj(this.UD);return a?a.tt(this.j.$a(),b,!0):0},dJ(b){const a=this.Rj(this.UD);return a?a.tt(this.j.$a(),b,!1):0},kAa(b,a){return(b=this.Rj(b))?b.tt(this.j.$a(),a,!0):0},mAa(b,a){return(b=this.Rj(b))?b.tt(this.j.$a(),a,!1):0},lAa(b,a){return(b=this.Pd.get(b))?b.tt(this.j.$a(),a,!0):0},nAa(b,a){return(b=this.Pd.get(b))?b.tt(this.j.$a(),a,!1):0},I_(){const b=this.Rj(0);return b?b.K():0},J_(){const b=this.Rj(0);return b?
b.L():0},yma(b){return(b=this.Rj(b))?b.K():0},Ama(b){return(b=this.Rj(b))?b.L():0},zma(b){return(b=this.Pd.get(b))?b.K():0},Bma(b){return(b=this.Pd.get(b))?b.L():0},Mya(b){return(b=this.Rj(b))?b.rm():0},Nya(b){return(b=this.Pd.get(b))?b.rm():0},ina(b){return(b=this.Rj(b))?d.yd(b.$()):0},jna(b){return(b=this.Pd.get(b))?d.yd(b.$()):0},Voa(){this.j.It();return this.SE},cna(){this.j.It();return this.IM},Lna(){this.j.It();return this.JM},Nqa(){this.j.It();return this.KM},Dma(){this.j.Eo();return this.rK},
Fma(){this.j.Eo();return this.sK},Hma(){this.j.Eo();return this.tK},Cma(){this.j.Eo();return this.uK},Ema(){this.j.Eo();return this.vK},Gma(){this.j.Eo();return this.wK},vza(){return this.Dv},uza(){return this.CF},dAa(b){return(b=this.Pd.get(b))?b.R():0},sra(b){return(b=this.Pd.get(b))?b.S():0},iva(b){return(b=this.Pd.get(b))?b.NY:0}}}
{"use strict";const d=self.D;let b=-1E3,a=-1E3,f=-1E4;d.A.Touch.baa=class extends d.za{constructor(){super();this.NY=this.Y=this.aa=this.Hl=this.Gl=this.Z=this.fa=this.rF=this.qF=this.FE=this.vd=this.Op=this.ci=this.KY=0;this.vE=this.BL=!1}B(){}wh(c,e,h,g,l){this.KY=g;this.ci=l;this.Op=this.FE=this.vd=c;this.qF=e;this.rF=h;this.fa=e;this.Z=h;this.Gl=e;this.Hl=h}Fm(c,e,h,g,l,n){this.FE=this.vd;this.vd=c;this.Gl=this.fa;this.Hl=this.Z;this.fa=e;this.Z=h;this.aa=g;this.Y=l;this.NY=n;!this.vE&&15<=d.yf(this.qF,
this.rF,this.fa,this.Z)&&(this.vE=!0)}Ok(){return this.KY}Sa(){return this.vd}Cha(c){this.FE=c}K(){return this.fa}L(){return this.Z}rm(){const c=d.yf(this.fa,this.Z,this.Gl,this.Hl),e=(this.vd-this.FE)/1E3;return 0<e?c/e:0}$(){return d.Ag(this.Gl,this.Hl,this.fa,this.Z)}R(){return this.aa}S(){return this.Y}F$(c){return this.BL?!1:500<=c-this.Op&&!this.vE&&15>d.yf(this.qF,this.rF,this.fa,this.Z)?this.BL=!0:!1}G$(c){if(this.BL)return"";if(333>=c-this.Op&&!this.vE&&15>d.yf(this.qF,this.rF,this.fa,this.Z)){if(666>=
c-f&&25>d.yf(b,a,this.fa,this.Z))return a=b=-1E3,f=-1E4,"double-tap";b=this.fa;a=this.Z;f=c;return"single-tap"}return""}tt(c,e,h){return"undefined"===typeof e?c.Bw(0).oP(this.fa,this.Z)[h?0:1]:(c=c.xa(e))?c.fm(this.fa,this.Z)[h?0:1]:0}}}{"use strict";const d=self.D;d.A.gm=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.A.gm.Wd=class extends d.Ij{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D,b=self.Hq;d.A.gm.Instance=class extends d.Cm{constructor(f){super(f);this.sc=new Map;this.fy=""}B(){this.sc.clear();super.B()}UP(){return JSON.stringify({c2dictionary:!0,data:d.rR(this.sc)})}xc(){return d.rR(this.sc)}pc(f){d.wR(f,this.sc)}$e(){return self.N4}};const a=new WeakMap;self.N4=class extends b{constructor(){super();a.set(this,b.Qj().ya)}}}
{"use strict";const d=self.D;d.A.gm.G={T0(b,a,f){b=this.sc.get(b);return"undefined"===typeof b?!1:d.compare(b,a,f)},S2(){const b=this.j,a=b.Ba(),f=b.Ub(),c=f.Sd(),e=b.zd(),h=e.Cf(),g=e.ab(f);b.Lt(!1);for(const l of this.sc.keys())this.fy=l,a.cf(c),f.Vg(h,g),a.fc(c);b.Lt(!0);this.fy="";e.Wa();return!1},Doa(b,a){const f=this.sc.get(this.fy);return"undefined"===typeof f?!1:d.compare(f,b,a)},pra(b){return this.sc.has(b)},qo(){return 0===this.sc.size}}}
{"use strict";const d=self.D;d.A.gm.ta={V_(b,a){this.sc.set(b,a)},Kxa(b,a){this.sc.has(b)&&this.sc.set(b,a)},spa(b){this.sc.delete(b)},Rc(){this.sc.clear()},Msa(b){let a=null;try{a=JSON.parse(b)}catch(f){console.error("[Construct 3] Error parsing JSON: ",f);return}a.c2dictionary&&d.wR(a.data,this.sc)},Lsa(b){const a=URL.createObjectURL(new Blob([this.UP()],{type:"application/json"}));this.j.yB(a,b)}}}"use strict";
self.D.A.gm.Ta={ma(d){d=this.sc.get(d);return"undefined"===typeof d?0:d},Uqa(d,b){d=this.sc.get(d);return"undefined"===typeof d?b:d},q6(){return this.sc.size},kpa(){return this.fy},n1(){return this.sc.get(this.fy)||0},cP(){return this.UP()}};{"use strict";const d=self.D;d.A.Vb=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.A.Vb.Wd=class extends d.Ij{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D;d.A.Vb.Instance=class extends d.Cm{constructor(b){super(b);this.yb=this.ah="";this.Ry=[];this.jX="";this.os=this.ns=0;this.mh=this.j.EU()}B(){super.B()}async Wo(b){this.jX=this.rda(b);await this.xb(d.A.Vb.G.s7)}rda(b){return b?"string"===typeof b?b:"string"===typeof b.message?b.message:"string"===typeof b.name?b.name:"string"===typeof b.data?b.data:"unknown error":"unknown error"}}}
{"use strict";const d=self.D;d.A.Vb.G={MR(b){return this.ah===b},ER(){return!0},KR(b){return this.ah===b},DR(){return!0},C7(b){return this.ah===b},h7(){return!0},l7(){return!0},f7(){return!0},s7(){return!0},JR(b){return this.ah===b},LR(b){return this.ah===b},Foa(b,a){return d.compare(this.ah,b,a)},T0(b,a){return d.compare(this.yb,b,a)},Dsa(){return 0<this.os},b6(){return 0<this.ns},AR(){return!0},zR(){return!0}}}
{"use strict";const d=self.D;function b(a){return"string"===typeof a||"number"===typeof a}d.A.Vb.ta={async R9(a,f){this.os++;try{const c=await this.mh.setItem(a,f);await this.il(async()=>{this.ah=a;this.yb=c;await this.xb(d.A.Vb.G.ER);await this.xb(d.A.Vb.G.MR)})}catch(c){await this.Wo(c)}finally{this.os--,0===this.os&&await this.xb(d.A.Vb.G.AR)}},async Twa(a,f){if(f&&(f=f.Lg(this.H))&&(f=f.ya)){f=f.Qqa();this.os++;try{await this.mh.setItem(a,f),await this.il(async()=>{this.ah=a;this.yb="";await this.xb(d.A.Vb.G.ER);
await this.xb(d.A.Vb.G.MR)})}catch(c){await this.Wo(c)}finally{this.os--,0===this.os&&await this.xb(d.A.Vb.G.AR)}}},async Xqa(a){this.ns++;try{const f=await this.mh.getItem(a);await this.il(async()=>{this.ah=a;this.yb=b(f)?f:"";await this.xb(d.A.Vb.G.DR);await this.xb(d.A.Vb.G.KR)})}catch(f){await this.Wo(f)}finally{this.ns--,0===this.ns&&await this.xb(d.A.Vb.G.zR)}},async Sqa(a,f){if(f&&(f=f.Lg(this.H))){var c=f.ya;this.ns++;try{let e=await this.mh.getItem(a);e=e instanceof ArrayBuffer?e:new ArrayBuffer(0);
await this.il(async()=>{this.yb="";this.ah=a;c.Swa(e);await this.xb(d.A.Vb.G.DR);await this.xb(d.A.Vb.G.KR)})}catch(e){await this.Wo(e)}finally{this.ns--,0===this.ns&&await this.xb(d.A.Vb.G.zR)}}},async F0(a){try{const f=await this.mh.getItem(a);await this.il(async()=>{this.ah=a;"undefined"===typeof f||null===f?(this.yb="",await this.xb(d.A.Vb.G.LR)):(this.yb=b(f)?f:"",await this.xb(d.A.Vb.G.JR))})}catch(f){await this.Wo(f)}},async xva(a){try{await this.mh.removeItem(a),await this.il(async()=>{this.ah=
a;this.yb="";await this.xb(d.A.Vb.G.h7);await this.xb(d.A.Vb.G.C7)})}catch(f){await this.Wo(f)}},async ooa(){try{await this.mh.clear(),await this.il(async()=>{this.yb=this.ah="";d.I(this.Ry);await this.xb(d.A.Vb.G.l7)})}catch(a){await this.Wo(a)}},async Pqa(){try{const a=await this.mh.keys();await this.il(async()=>{this.Ry=a;await this.xb(d.A.Vb.G.f7)})}catch(a){await this.Wo(a)}}}}"use strict";
self.D.A.Vb.Ta={m6(){return this.yb},p6(){return this.ah},q6(){return this.Ry.length},Qsa(d){d=Math.floor(d);return 0>d||d>=this.Ry.length?"":this.Ry[d]},eqa(){return this.jX}};{"use strict";const d=self.D;d.A.Ih=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D;d.A.Ih.Wd=class extends d.Ij{constructor(b){super(b);this.Pb=d.F(self.O$)}B(){super.B()}Sb(){this.Sc().Ow(this.j)}zo(b){return this.Sc().yo(b,{te:this.j.cd})}fl(){this.Sc().Ch()}oaa(b,a,f,c){const e=this.Sc(),h=this.Pb;h.Ae(e.R());h.df(e.S());h.$B(b);h.vI(a);h.wI(f);h.KI(c);h.rT()}}}
{"use strict";const d=self.D,b=self.Ig,a=["left","center","right"],f=["top","center","bottom"];d.A.Ih.Instance=class extends d.Xw{constructor(h,g){super(h);this.Dc="";this.kp=!0;this.Zg=this.Of=16;this.fp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";h="";this.dk=1;this.He=this.Re=this.Oc=this.ek=0;this.Qn=!0;this.Ve=null;this.Rl=this.Ev=-1;this.Pz=0;g&&(this.Dc=g[0],this.kp=g[1],this.Of=g[2],this.Zg=g[3],this.fp=g[4],h=g[5],this.dk=
g[6],this.ek=g[7],this.Oc=g[8],this.Re=g[9],this.He=g[10],this.Qn=0===g[11],this.C().Gh(g[12]));this.Za.oaa(this.Of,this.Zg,this.fp,h);this.Ve=d.F(self.Q$,this.Za.Pb);g=this.C();this.Ve.zc(g.R(),g.S());this.Mh()}B(){this.Qo();this.Ve.B();this.Ve=null;super.B()}Mh(){const h=this.Ve;h&&(h.CS(this.kp),h.Tt(this.Dc),h.cT(this.Qn?"word":"character"),h.K9(a[this.Re]),h.z$(f[this.He]),h.YS(this.ek),h.eC(this.Oc))}Le(h){const g=this.T.Sc();var l=g.lc();if(l){h.Mf(l);l=this.C();var n=l.Kg(),p=this.Ve;p.No(this.dk);
p.f$(l.uQ());this.j.Fl&&(n=l.Rw(n));p.zc(l.R(),l.S());p.Pb.j$(g.vi());p.jl(l.Nb);p.Le(h,n.Zb,n.$b,l.$())}}xc(){const h={t:this.Dc,ebbc:this.kp,csc:this.dk,csp:this.ek,lh:this.Oc,ha:this.Re,va:this.He,w:this.Qn,cw:this.Za.Pb.Of,ch:this.Za.Pb.Zg,cs:this.Za.Pb.fp,sd:this.Za.Pb.wv};-1!==this.Rl&&(h.tw={st:this.Ev,en:this.Rl,l:this.Pz});return h}pc(h){this.Qo();this.Dc=h.t;this.kp=h.ebbc;this.dk=h.csc;this.ek=h.csp;this.Oc=h.lh;this.Re=h.ha;this.He=h.va;this.Qn=h.w;if(h.hasOwnProperty("tw")){var g=h.tw;
this.Ev=g.st;this.Rl=g.en;this.Pz=h.l}g=this.Za.Pb;g.$B(h.cw);g.vI(h.ch);g.wI(h.cs);g.KI(h.sd);this.Mh();-1!==this.Rl&&this.Pe()}ec(h){switch(h){case 0:return this.Dc;case 1:return this.kp;case 2:return this.Za.Pb.Of;case 3:return this.Za.Pb.Zg;case 4:return this.Za.Pb.fp;case 5:return this.Za.Pb.wv;case 6:return this.dk;case 7:return this.ek;case 8:return this.Oc;case 9:return this.Re;case 10:return this.He;case 11:return this.Qn?1:0}}ye(h,g){switch(h){case 0:if(this.Dc===g)break;this.Dc=g;this.Mh();
break;case 1:if(this.kp===!!g)break;this.kp=!!g;this.Mh();break;case 2:this.Za.Pb.$B(g);break;case 3:this.Za.Pb.vI(g);break;case 4:this.Za.Pb.wI(g);break;case 5:this.Za.Pb.KI(g);break;case 6:if(this.dk===g)break;this.dk=g;this.Mh();break;case 7:if(this.ek===g)break;this.ek=g;this.Mh();break;case 8:if(this.Oc===g)break;this.Oc=g;this.Mh();break;case 9:if(this.Re===g)break;this.Re=g;this.Mh();break;case 10:if(this.He===g)break;this.He=g;this.Mh();break;case 11:this.Qn!==(0===g)&&(this.Qn=0===g,this.Mh())}}PC(h){this.Dc!==
h&&(this.Dc=h,this.Ve.Tt(h),this.j.ea())}eia(h,g){this.PC(h);this.Ev=this.j.zH();this.Rl=this.Ev+g/this.Ra().Y2();this.Pz=d.em.iT(h).length;this.Ve.bC(0);this.Pe()}Qo(){this.Rl=this.Ev=-1;this.Pz=0;this.Ve.bC(-1);this.Mm()}Xca(){-1!==this.Rl&&(this.Qo(),this.la(d.A.Ih.G.aS),this.j.ea())}Lha(h){this.dk!==h&&(this.dk=h,this.Ve.No(this.dk),this.j.ea())}iha(h){this.ek!==h&&(this.ek=h,this.Ve.YS(this.ek),this.j.ea())}eW(h){this.Oc!==h&&(this.Oc=h,this.Ve.eC(this.Oc),this.j.ea())}tha(h){this.Re!==h&&(this.Re=
h,this.Mh(),this.j.ea())}oW(h){this.He!==h&&(this.He=h,this.Mh(),this.j.ea())}Xha(h){h=!!h;this.Qn!==h&&(this.Qn=h,this.Mh(),this.j.ea())}Md(){var h=this.j.zH();h>=this.Rl?(this.Qo(),this.la(d.A.Ih.G.aS),this.j.ea()):(h=d.Qla(this.Ev,this.Rl,h,this.Pz),h=Math.floor(h),h!==this.Ve.Qh&&(this.Ve.bC(h),this.j.ea()))}$e(){return self.X4}};const c=new WeakMap,e=new Map([["top",0],["center",1],["bottom",2]]);self.X4=class extends self.Lw{constructor(){super();c.set(this,self.Hq.Qj().ya)}get text(){return c.get(this).Dc}set text(h){b.If(h);
const g=c.get(this);g.Qo();g.PC(h)}set lineHeight(h){b.Tg(h);c.get(this).eW(h)}get lineHeight(){return c.get(this).Oc}set verticalAlign(h){b.If(h);h=e.get(h);if("undefined"===typeof h)throw Error("invalid mode");c.get(this).oW(h)}get verticalAlign(){return f[c.get(this).He]}}}{"use strict";const d=self.D;d.A.Ih.G={Moa(b,a){return a?this.Dc===b:d.ki(this.Dc,b)},Esa(){return-1!==this.Rl},aS(){return!0}}}"use strict";
self.D.A.Ih.ta={Tt(d){this.Qo();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.PC(d.toString())},pna(d){this.Qo();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.PC(this.Dc+d)},zza(d,b){this.Qo();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.eia(d.toString(),b)},yza(){this.Xca()},No(d){this.Lha(d)},axa(d){this.iha(d)},eC(d){this.eW(d)},$B(d,b){let a=!1;const f=this.Za.Pb;for(const c of d)if(" "===c)f.g$(b),a=!0;else if(d=f.WA(c))d.KS(b),
a=!0;a&&f.s9();this.j.ea()},yI(d){this.C().Jf(d);this.j.ea()},yxa(d){this.tha(d)},wya(d){this.oW(d)},Dya(d){this.Xha(0===d)}};{"use strict";const d=self.D;d.A.Ih.Ta={moa(b){return(b=this.Za.Pb.WA(b))?b.ZG():this.Za.Pb.Of},joa(){return this.Zg},koa(){return this.dk},loa(){return this.ek},bta(){return this.Oc},Text(){return this.Dc},Hua(){return this.kp?d.em.iT(this.Dc):this.Dc},gza(){const b=this.C();this.Ve.zc(b.R(),b.S());return this.Ve.FQ()},fza(){const b=this.C();this.Ve.zc(b.R(),b.S());return this.Ve.EQ()}}}
{"use strict";const d=self.D;self.P$=class{constructor(b,a,f,c){a=b.Of;let e=b.Zg;this.Pb=b;this.QY=new d.Rect(f,c,f+a,c+e);this.Ol=new d.Rect;this.dL=-1;this.JW()}B(){this.Ol=this.QY=this.Pb=null}JW(){let b=this.Pb.R(),a=this.Pb.S();this.Ol.Na(this.QY);this.Ol.Zl(b,a);this.Ol.sla(this.Pb.vi())}vi(){return this.Ol}KS(b){this.dL=b}ZG(){return 0>this.dL?this.Pb.Of:this.dL}}}
{"use strict";const d=self.D,b=new d.Rect,a=new d.Ad,f=new d.ub,c=new Set(["left","center","right"]),e=new Set(["top","center","bottom"]),h=new Set(["word","character"]);self.Q$=class{constructor(g){this.Pb=g;this.Tm=this.Pf=0;this.Dc="";this.lf=!1;this.Zj=null;this.bg=d.F(d.tx);this.Qs="word";this.SN=!1;this.Re="left";this.He="top";this.vz=this.vc=1;this.Oc=this.Bs=0;this.Nb=d.F(d.ub);this.Qh=-1;this.Ph=0;this.bz=(l,n)=>this.Hx(l,n);this.Pb.Vaa(this)}B(){this.Pb.oga(this);this.bz=this.Nb=null;this.bg.Rc();
this.Zj=this.Pb=this.bg=null}Hx(g,l){var n=this.Bd(l,"scale"),p=(n?parseFloat(n.ee):this.vc)*this.vz;n=this.Bd(l,"scalex");n=(n?parseFloat(n.ee):1)*p;l=this.Bd(l,"scaley");l=this.Pb.Zg*(l?parseFloat(l.ee):1)*p+this.Oc;const q=this.Pb;p=q.Of*n;const r=this.Bs;if(q.Hu){let x=0,u=0;for(var w of g){g=p;const t=q.WA(w);t?g=t.ZG()*n:" "===w&&(g=q.CQ()*n);u+=g;++x}return{width:u+x*r,height:l}}w=[...g].length;return{width:p*w+Math.max(w,0)*r,height:l}}rl(){this.SN=!0;this.bg.Rc()}zc(g,l){0>=g||0>=l||this.Pf===
g&&this.Tm===l||(this.Pf!==g&&this.rl(),this.Pf=g,this.Tm=l)}bC(g){this.Qh=Math.floor(g)}Bd(g,l){for(let n=g.length-1;0<=n;--n){const p=g[n];if(p.tag===l)return p}return null}Ro(g,l){return!!this.Bd(g,l)}cr(){if(this.SN){!this.lf||this.Zj&&this.Zj.toString()===this.Dc||(this.Zj=new d.em(this.Dc,{i_:!0}));var g=-this.Bs;this.bg.tx(this.lf?this.Zj.z_():this.Dc,this.bz,this.Pf,this.Qs,g);this.SN=!1}}Le(g,l,n,p){this.cr();let q=this.Ph=0;const r=this.Oc,w=d.MF(this.bg.Jl),x=Math.sin(p);p=Math.cos(p);
var u=w.reduce((t,A)=>t+A.height,0)-r;"center"===this.He?q=Math.max(Math.floor(this.Tm/2-u/2),0):"bottom"===this.He&&(q=Math.floor(this.Tm-u));for(let t=0,A=w.length;t<A;++t){u=w[t];const y=u.height;if(0<t&&q>this.Tm-(y-r))break;0<=q&&this.Kca(g,u,l,n,q,x,p);q+=y}}Kca(g,l,n,p,q,r,w){const x=l.height;let u=0;"center"===this.Re?u=Math.max(Math.floor((this.Pf-l.width)/2),0):"right"===this.Re&&(u=Math.max(Math.floor(this.Pf-l.width),0));for(const t of l.dO)this.Cca(g,t,n,p,u,q,r,w,x),u+=t.width}Cca(g,
l,n,p,q,r,w,x,u){var t=l.text,A=l.width,y=l.Jd;if(-1!==this.Qh){if(this.Ph>=this.Qh)return;this.Ph+t.length>this.Qh&&(t=t.substr(0,this.Qh-this.Ph),A=this.Hx(t,y).width);this.Ph+=t.length}var C=this.Bd(y,"background");if(!(d.HB(t)&&!C||this.Ro(y,"hide"))){l=this.Bd(y,"scale");var F=(l?parseFloat(l.ee):this.vc)*this.vz;l=this.Bd(y,"scalex");l=(l?parseFloat(l.ee):1)*F;var H=this.Bd(y,"scaley");F*=this.Pb.Zg*(H?parseFloat(H.ee):1);r+=u-this.Oc-F;u=this.Bd(y,"offsetx");q+=u?parseFloat(u.ee):0;u=this.Bd(y,
"offsety");r+=u?parseFloat(u.ee):0;C&&(g.xI(),f.n_(C.ee),f.li(1),g.jl(f),b.set(q,r,q+A,r+F),b.ca>this.Pf&&b.Zla(this.Pf),a.eG(b,w,x),a.offset(n,p),g.Ad(a),g.Bi());(A=this.Bd(y,"color"))?(f.n_(A.ee),f.li(this.Nb.ib)):f.Na(this.Nb);(A=this.Bd(y,"opacity"))&&f.li(f.ib*parseFloat(A.ee)/100);f.bG();g.jl(f);A=this.Pb.Of*l;y=Math.abs(this.Bs);for(const J of t)if(t=this.Pb.WA(J)){C=t.ZG()*l;if(q+C>this.Pf+y+1E-5)break;b.set(q,r,q+A,r+F);a.eG(b,w,x);a.offset(n,p);g.el(a,t.vi());q+=C+this.Bs}else q+=this.Pb.CQ()*
l+this.Bs}}CS(g){g=!!g;this.lf!==g&&(this.lf=g,this.rl())}Tt(g){this.Dc!==g&&(this.Dc=g,this.rl())}cT(g){if(!h.has(g))throw Error("invalid word wrap mode");this.Qs!==g&&(this.Qs=g,this.rl())}K9(g){if(!c.has(g))throw Error("invalid alignment");this.Re=g}z$(g){if(!e.has(g))throw Error("invalid alignment");this.He=g}No(g){this.vc!==g&&(this.vc=g,this.rl())}f$(g){this.vz!==g&&(this.vz=g,this.rl())}uQ(){return this.vz}YS(g){this.Bs!==g&&(this.Bs=g,this.rl())}eC(g){this.Oc=g;this.rl()}Kf(g){g=d.ia(g,0,
1);this.Nb.$p=g}jl(g){this.Nb.xd(g)||this.Nb.Na(g)}FQ(){this.cr();return this.bg.kQ()}EQ(){this.cr();const g=this.Oc;return this.bg.Jl.length*(this.Pb.Zg*this.vc+g)-g}}}
{"use strict";const d=self.D,b={width:256,height:256,OZ:16,NZ:16,characterSet:""};self.O$=class{constructor(a){a=Object.assign({},b,a);if(0>=a.width||0>=a.height||0>=a.OZ||0>=a.NZ)throw Error("invalid size");this.aa=a.width;this.Y=a.height;this.Of=a.OZ;this.Zg=a.NZ;this.fp=a.characterSet;this.wv="";this.Cz=null;this.Hu=!1;this.As=-1;this.Ol=new d.Rect(0,0,1,1);this.tr=new Map;this.Bp=!0;this.mr=new Set}B(){this.Ol=null;this.uV();this.tr=null;this.mr&&this.mr.clear();this.mr=null}uV(){for(let a of this.tr.values())a.B();
this.tr.clear()}Vaa(a){this.mr.add(a)}oga(a){this.mr.delete(a)}rT(){if(this.Bp){this.uV();var a=[...this.fp],f=Math.floor(this.aa/this.Of),c=f*Math.floor(this.Y/this.Zg);for(let e=0,h=a.length;e<h&&!(e>=c);++e){let g=a[e];this.tr.set(g,d.F(self.P$,this,g,e%f*this.Of,Math.floor(e/f)*this.Zg))}this.Hu=!1;this.As=-1;if(Array.isArray(this.Cz))for(let e of this.Cz)if(Array.isArray(e)&&2===e.length&&(a=e[0],f=e[1],"number"===typeof a&&isFinite(a)&&"string"===typeof f&&a!==this.Of))for(let h of f)(f=this.tr.get(h))?
(f.KS(a),this.Hu=!0):" "===h&&(this.As=a,this.Hu=!0);this.Bp=!1;for(let e of this.mr)e.rl()}}s9(){this.Hu=!0;for(const a of this.mr)a.rl()}WA(a){this.rT();return this.tr.get(a)||null}Ae(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.aa!==a&&(this.aa=a,this.Bp=!0)}R(){return this.aa}df(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.Y!==a&&(this.Y=a,this.Bp=!0)}S(){return this.Y}j$(a){if(!this.Ol.xd(a)){this.Ol.Na(a);for(const f of this.tr.values())f.JW()}}vi(){return this.Ol}$B(a){a=
Math.floor(a);if(0>=a)throw Error("invalid size");this.Of!==a&&(this.Of=a,this.Bp=!0)}vI(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.Zg!==a&&(this.Zg=a,this.Bp=!0)}wI(a){this.fp!==a&&(this.fp=a,this.Bp=!0)}KI(a){if(this.wv!==a&&(this.wv=a,this.Bp=!0,this.Cz=null,this.wv.length))try{this.Cz=JSON.parse(this.wv)}catch(f){this.Cz=null}}g$(a){0>a&&(a=-1);this.As!==a&&(this.As=a,0<=this.As&&(this.Hu=!0))}CQ(){return 0>this.As?this.Of:this.As}}}{"use strict";const d=self.D;d.A.Qg=class extends d.Dh{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D;d.A.Qg.Wd=class extends d.Ij{constructor(b){super(b);this.gL=this.Pp=null}B(){this.fl();super.B()}Sb(){this.Sc().Ow(this.j)}async zo(){this.gL=await this.Sc().NP()}zP(b,a,f,c){!this.Pp&&this.gL&&(this.Pp=new self.S6(this),this.Pp.m1(this.gL,b,a,f,c))}fl(){this.Pp&&(this.Pp.B(),this.Pp=null)}}}
{"use strict";const d=self.D,b=d.F(d.Rect),a=d.F(d.Rect),f=d.F(d.Ad);d.A.Qg.Instance=class extends d.Xw{constructor(c,e){super(c);this.nD=this.xF=this.fF=this.GE=16;this.rX=this.hX=1;this.ZX=!0;this.sD=null;e&&(this.GE=e[0],this.fF=e[1],this.xF=e[2],this.nD=e[3],this.hX=e[4],this.rX=e[5],this.ZX=!!e[8],this.C().Gh(!!e[6]));this.Za.zP(this.GE,this.fF,this.xF,this.nD)}B(){super.B()}Le(c){const e=this.C(),h=e.Kg();this.Bca(c,h.Zb,h.$b,e.R(),e.S())}Bca(c,e,h,g,l){let n=this.Za.Pp;if(!n&&(this.Za.zP(this.GE,
this.fF,this.xF,this.nD),n=this.Za.Pp,!n))return;const p=this.GE,q=this.fF,r=this.xF,w=this.nD,x=n.zy-q,u=n.yy-w;var t=this.ZX?1:0;const A=this.hX,y=this.rX;0<p&&0<r&&this.Im(c,n.lc(),0,0,p+t,r+t,e,h,p+t,r+t);0<q&&0<r&&this.Im(c,n.lc(),x-t,0,q+t,r+t,e+g-q-t,h,q+t,r+t);0<q&&0<w&&this.Im(c,n.lc(),x-t,u-t,q+t,w+t,e+g-q-t,h+l-w-t,q+t,w+t);0<p&&0<w&&this.Im(c,n.lc(),0,u-t,p+t,w+t,e,h+l-w-t,p+t,w+t);0===A?(t=2===y?0:t,0<p&&u>r&&this.Rx(c,n.HE,e,h+r,p+t,l-r-w,0,0),0<q&&u>r&&this.Rx(c,n.gF,e+g-q-t,h+r,q+
t,l-r-w,t,0),0<r&&x>p&&this.Rx(c,n.yF,e+p,h,g-p-q,r+t,0,0),0<w&&x>p&&this.Rx(c,n.oD,e+p,h+l-w-t,g-p-q,w+t,0,t)):1===A&&(0<p&&u>r&&this.Im(c,n.lc(),0,r,p,u-r,e,h+r,p,l-r-w),0<q&&u>r&&this.Im(c,n.lc(),x,r,q,u-r,e+g-q,h+r,q,l-r-w),0<r&&x>p&&this.Im(c,n.lc(),p,0,x-p,r,e+p,h,g-p-q,r),0<w&&x>p&&this.Im(c,n.lc(),p,u,x-p,w,e+p,h+l-w,g-p-q,w));u>r&&x>p&&(0===y?this.Rx(c,n.MD,e+p,h+r,g-p-q,l-r-w,0,0):1===y&&this.Im(c,n.lc(),p,r,x-p,u-r,e+p,h+r,g-p-q,l-r-w))}Im(c,e,h,g,l,n,p,q,r,w){const x=e.R(),u=e.S();c.Mf(e);
b.set(p,q,p+r,q+w);a.set(h/x,g/u,(h+l)/x,(g+n)/u);null===this.sD?(e=this.C(),g=e.Kg(),h=g.Zb,g=g.$b,b.offset(-h,-g),f.qA(b,e.$()),f.offset(h,g),c.el(f,a)):this.sD(b,a)}Rx(c,e,h,g,l,n,p,q){const r=e.R(),w=e.S();c.Mf(e);b.set(h,g,h+l,g+n);a.set(-p/r,-q/w,(l-p)/r,(n-q)/w);null===this.sD?(e=this.C(),g=e.Kg(),h=g.Zb,g=g.$b,b.offset(-h,-g),f.qA(b,e.$()),f.offset(h,g),c.el(f,a)):this.sD(b,a)}ge(){}ec(){}ye(){}}}"use strict";self.D.A.Qg.G={};"use strict";self.D.A.Qg.ta={yI(d){this.C().Jf(d);this.j.ea()}};
"use strict";self.D.A.Qg.Ta={};
{"use strict";const d=self.D;function b(a){const f=d.eg(a.width,a.height);f.getContext("2d").drawImage(a,0,0);return f}self.S6=class{constructor(a){this.Za=a;this.j=this.Za.N();this.oD=this.yF=this.gF=this.HE=this.MD=this.sb=null;this.yy=this.zy=0;this.wa=this.j.kc();this.Pn=this.yk=!1}B(){this.wa.po()||(this.wa.Bf(this.sb),this.wa.Bf(this.MD),this.wa.Bf(this.HE),this.wa.Bf(this.gF),this.wa.Bf(this.yF),this.wa.Bf(this.oD));this.wa=this.Za=this.oD=this.yF=this.gF=this.HE=this.MD=this.sb=null;this.Pn=
!0}Xq(){return this.Pn}m1(a,f,c,e,h){this.cia(a,f,c,e,h)}cia(a,f,c,e,h){if(!this.Pn){var g=a.width,l=a.height;this.zy=g;this.yy=l;var n=g-c,p=l-h,q=this.j.cd,r=this.j.ja.wN;this.sb=this.wa.Nk(b(a),{te:q,bq:r});n>f&&p>e&&(this.MD=this.wa.Nk(this.Px(b(a),f,e,n,p),{bo:"repeat",co:"repeat",te:q,bq:r}));0<f&&p>e&&(this.HE=this.wa.Nk(this.Px(b(a),0,e,f,p),{co:"repeat",te:q,bq:r}));0<c&&p>e&&(this.gF=this.wa.Nk(this.Px(b(a),n,e,g,p),{co:"repeat",te:q,bq:r}));0<e&&n>f&&(this.yF=this.wa.Nk(this.Px(b(a),f,
0,n,e),{bo:"repeat",te:q,bq:r}));0<h&&n>f&&(this.oD=this.wa.Nk(this.Px(b(a),f,p,n,l),{bo:"repeat",te:q,bq:r}))}}Px(a,f,c,e,h){e-=f;h-=c;const g=d.eg(e,h);g.getContext("2d").drawImage(a,f,c,e,h,0,0,e,h);return g}lc(){return this.sb}}}{"use strict";const d=self.D;d.O.Vq=class extends d.Fo{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.O.Vq.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D,b=self.Jw,a=2*Math.PI,f=Math.PI/2,c=3*Math.PI/2,e=[0,1,8,3,4,2,5,6,9,7];d.O.Vq.Instance=class extends d.Go{constructor(g,l){super(g);this.Zc=this.sf=this.Zp=this.hh=this.Yc=0;this.V=!0;this.dF=this.Uu=this.sg=this.Nr=this.Cb=this.vM=this.PM=this.QM=this.iD=this.QW=this.jD=0;l&&(this.hh=e[l[0]],this.Zp=l[1],this.QM=this.j.Bm()*l[3],this.jD=l[2],this.sf=l[2],this.sf+=this.QM,this.QW=l[4],0!==this.sf&&(this.PM=this.j.Bm()*l[5],this.Yc=l[4]/this.sf*a,this.Yc+=this.PM/this.sf*
a),this.vM=this.j.Bm()*l[7],this.iD=l[6],this.Zc=l[6],this.Zc+=this.vM,this.V=!!l[8]);5===this.hh&&(this.Zc=d.Ga(this.Zc));this.wh();this.V&&this.Pe()}B(){super.B()}xc(){return{i:this.Yc,e:this.V,mv:this.hh,w:this.Zp,p:this.sf,mag:this.Zc,iv:this.Cb,iv2:this.Nr,r:this.dF,lkv:this.sg,lkv2:this.Uu}}pc(g){this.Yc=g.i;this.Oe(g.e);this.hh=g.mv;this.Zp=g.w;this.sf=g.p;this.Zc=g.mag;this.Cb=g.iv;this.Nr=g.iv2;this.dF=g.r;this.sg=g.lkv;this.Uu=g.lkv2}wh(){const g=this.H.C();switch(this.hh){case 0:this.Cb=
g.K();break;case 1:this.Cb=g.L();break;case 2:this.Cb=g.R();this.dF=g.S()/g.R();break;case 3:this.Cb=g.R();break;case 4:this.Cb=g.S();break;case 5:this.Cb=g.$();break;case 6:this.Cb=g.he();break;case 7:this.Cb=0;break;case 8:this.Cb=g.K();this.Nr=g.L();break;case 9:this.Cb=g.kb()}this.sg=this.Cb;this.Uu=this.Nr}Ci(g){g%=a;switch(this.Zp){case 0:return Math.sin(g);case 1:return g<=f?g/f:g<=c?1-2*(g-f)/Math.PI:(g-c)/f-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}Md(){const g=
this.j.ri(this.H);this.V&&0!==g&&(this.Yc=0===this.sf?0:(this.Yc+g/this.sf*a)%a,this.HW())}HW(){const g=this.H.C();switch(this.hh){case 0:g.K()!==this.sg&&(this.Cb+=g.K()-this.sg);g.og(this.Cb+this.Ci(this.Yc)*this.Zc);this.sg=g.K();break;case 1:g.L()!==this.sg&&(this.Cb+=g.L()-this.sg);g.pg(this.Cb+this.Ci(this.Yc)*this.Zc);this.sg=g.L();break;case 2:g.Ae(this.Cb+this.Ci(this.Yc)*this.Zc);g.df(g.R()*this.dF);break;case 3:g.Ae(this.Cb+this.Ci(this.Yc)*this.Zc);break;case 4:g.df(this.Cb+this.Ci(this.Yc)*
this.Zc);break;case 5:g.$()!==this.sg&&(this.Cb=d.Pc(this.Cb+(g.$()-this.sg)));g.yc(this.Cb+this.Ci(this.Yc)*this.Zc);this.sg=g.$();break;case 6:g.Kf(this.Cb+this.Ci(this.Yc)*this.Zc/100);break;case 8:g.K()!==this.sg&&(this.Cb+=g.K()-this.sg);g.L()!==this.Uu&&(this.Nr+=g.L()-this.Uu);g.og(this.Cb+Math.cos(g.$())*this.Ci(this.Yc)*this.Zc);g.pg(this.Nr+Math.sin(g.$())*this.Ci(this.Yc)*this.Zc);this.sg=g.K();this.Uu=g.L();break;case 9:g.ef(this.Cb+this.Ci(this.Yc)*this.Zc)}g.W()}Iha(g){this.sf=g}Dha(g){this.Zc=
g}Eha(g){5===this.hh&&(g=d.Ga(g));this.Dha(g)}FJ(){let g=this.Zc;5===this.hh&&(g=d.yd(g));return g}Hha(g){5===this.hh&&5!==g&&(this.Zc=d.yd(this.Zc));this.hh=g;this.wh()}Jha(g){this.Yc=d.ia(g,0,2*Math.PI);this.HW()}Oe(g){(this.V=!!g)?this.Pe():this.Mm()}ec(g){switch(g){case 0:return this.hh;case 1:return this.Zp;case 2:return this.jD;case 6:return this.iD;case 8:return this.V}}ye(g,l){switch(g){case 0:this.hh=e[l];this.wh();break;case 1:this.Zp=l;break;case 2:this.jD=l;this.sf=this.jD+this.QM;this.V||
(0!==this.sf?(this.Yc=this.QW/this.sf*a,this.Yc+=this.PM/this.sf*a):this.Yc=0);break;case 6:this.iD=l;this.Zc=this.iD+this.vM;5===this.hh&&(this.Zc=d.Ga(this.Zc));break;case 8:this.V=!!l}}$e(){return self.W4}};const h=new WeakMap;self.W4=class extends b{constructor(){super();h.set(this,b.Qj().ya)}get value(){const g=h.get(this);return g.Ci(g.Yc)*g.Zc}set isEnabled(g){h.get(this).Oe(!!g)}get isEnabled(){return h.get(this).V}}}
{"use strict";const d=self.D;d.O.Vq.G={Hf(){return this.V},Ioa(b){return this.hh===b},Loa(b,a){return d.compare(this.sf,b,a)},Goa(b,a){return d.compare(this.FJ(),b,a)},Soa(b){return this.Zp===b}}}"use strict";self.D.O.Vq.ta={yi(d){this.Oe(0!==d)},oya(d){this.Iha(d)},eya(d){this.Eha(d)},kya(d){this.Hha(d)},Bya(d){this.Zp=d},pya(d){const b=2*Math.PI;this.Jha(d*b%b)},Kza(){this.wh()}};"use strict";
self.D.O.Vq.Ta={opa(){return this.Yc/(2*Math.PI)},kua(){return this.sf},lta(){return this.FJ()},Nza(){return this.Ci(this.Yc)*this.FJ()}};{"use strict";const d=self.D;d.O.wj=class extends d.Fo{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.O.wj.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D;d.O.wj.Instance=class extends d.Go{constructor(b,a){super(b);this.Xm=this.Tl=this.zl=0;this.ZC=this.kk=!0;this.fZ=!1;this.xg=0;this.Nl=d.F(d.Dt);this.Cp=this.H.C().he()||1;a&&(this.zl=a[0],this.Tl=a[1],this.Xm=a[2],this.kk=!!a[3],this.xg=(this.ZC=!!a[4])?0:3);this.ZC&&(0===this.zl?(this.xg=1,0===this.Tl&&(this.xg=2)):(this.H.C().Kf(0),this.j.ea()));this.Pe()}B(){super.B()}xc(){return{fit:this.zl,wt:this.Tl,fot:this.Xm,d:this.kk,s:this.xg,st:this.Nl.ma(),mo:this.Cp}}pc(b){this.zl=
b.fit;this.Tl=b.wt;this.Xm=b.fot;this.kk=b.d;this.xg=b.s;this.Nl.Set(b.st);this.Cp=b.mo}Md(){this.Nl.Ec(this.j.ri(this.H));const b=this.H.C();0===this.xg&&(b.Kf(this.Nl.ma()/this.zl*this.Cp),this.j.ea(),b.he()>=this.Cp&&(b.Kf(this.Cp),this.xg=1,this.Nl.hd(),this.la(d.O.wj.G.u7)));1===this.xg&&this.Nl.ma()>=this.Tl&&(this.xg=2,this.Nl.hd(),this.la(d.O.wj.G.d8));2===this.xg&&0!==this.Xm&&(b.Kf(this.Cp-this.Nl.ma()/this.Xm*this.Cp),this.j.ea(),0>=b.he()&&(this.xg=3,this.Nl.hd(),this.la(d.O.wj.G.v7),
this.kk&&this.j.uj(this.H)))}Oo(){this.xg=0;this.Nl.hd();0===this.zl?(this.xg=1,0===this.Tl&&(this.xg=2)):(this.H.C().Kf(0),this.j.ea())}ec(b){switch(b){case 0:return this.zl;case 1:return this.Tl;case 2:return this.Xm;case 3:return this.kk}}ye(b,a){switch(b){case 0:this.zl=a;break;case 1:this.Tl=a;break;case 2:this.Xm=a;break;case 3:this.kk=!!a}}}}"use strict";self.D.O.wj.G={v7(){return!0},u7(){return!0},d8(){return!0}};"use strict";
self.D.O.wj.ta={S$(){this.ZC||this.fZ||(this.Cp=this.H.C().he()||1,this.fZ=!0);3===this.xg&&this.Oo()},pwa(){this.Oo()},rxa(d){0>d&&(d=0);this.zl=d},Aya(d){0>d&&(d=0);this.Tl=d},sxa(d){0>d&&(d=0);this.Xm=d}};"use strict";self.D.O.wj.Ta={mqa(){return this.zl},Xza(){return this.Tl},nqa(){return this.Xm}};{"use strict";const d=self.D;d.O.Bb=class extends d.Fo{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.O.Bb.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D,b=self.Ig,a=self.Jw;d.O.Bb.Instance=class extends d.Go{constructor(c,e){super(c);this.vp=null;this.tv=this.Az=this.zz=this.YD=this.by=this.zu=this.Xr=this.Qu=this.qz=this.Vy=!1;this.Se=null;this.qM=-1;this.kn=this.jn=0;this.Ps=this.Fu=!1;this.On=!!this.j.nc.ml(this.H);this.rM=-1;this.Yj="stopped";this.lp=0;this.kE=!0;this.Kp=this.Jp=this.De=this.Ce=this.ua=this.Aa=0;this.TD=this.Fa=1500;this.Ym=d.Ga(90);this.qn=330;this.zr=this.Nd=1500;this.hn=650;this.pn=1E3;this.Cr=
!1;this.Ds=this.Wr=0;this.Um=!0;this.cy=0;this.V=!0;e&&(this.qn=e[0],this.Nd=e[1],this.zr=e[2],this.hn=e[3],this.Fa=e[4],this.pn=e[5],this.Cr=!!e[6],this.Wr=e[7]/1E3,this.Um=!!e[8],this.V=!!e[9]);c=this.j.Mb();this.Xd=new d.Mk(d.qb.Ib(c,"instancedestroy",h=>this.dr(h.instance)),d.qb.Ib(c,"afterload",()=>this.Tj()));this.Um&&this.gJ();this.V&&this.Qx();this.VC();this.H.xt().set("isPlatformBehavior",!0)}B(){this.vp&&(this.vp.B(),this.vp=null);this.On=this.Se=null;super.B()}gJ(){if(!this.vp){var c=this.j.Mb();
this.vp=new d.Mk(d.qb.Ib(c,"keydown",e=>this.PJ(e.data)),d.qb.Ib(c,"keyup",e=>this.QJ(e.data)),d.qb.Ib(c,"window-blur",()=>this.fu()),d.qb.Ib(c,"keyboard-blur",()=>this.fu()))}}yW(){this.vp&&(this.vp.B(),this.vp=null)}dr(c){this.Se===c&&(this.Se=null);this.On===c&&(this.On=null)}PJ(c){switch(c.key){case "ArrowLeft":this.Vy=!0;break;case "ArrowRight":this.qz=!0;break;case "ArrowUp":this.Qu=!0}}QJ(c){switch(c.key){case "ArrowLeft":this.Vy=!1;break;case "ArrowRight":this.qz=!1;break;case "ArrowUp":this.Xr=
this.Qu=!1}}fu(){this.Xr=this.Qu=this.qz=this.Vy=!1}xc(){return{ii:this.YD,lfx:this.jn,lfy:this.kn,lfo:this.Se?this.Se.zb:-1,am:this.Yj,en:this.V,fall:this.lp,ft:this.kE,dx:this.Aa,dy:this.ua,ms:this.qn,acc:this.Nd,dec:this.zr,js:this.hn,g:this.Fa,g1:this.TD,mf:this.pn,wof:this.Ps,woj:this.On?this.On.zb:-1,ga:this.Ym,edj:this.Cr,cdj:this.by,dj:this.zu,sus:this.Wr,dc:this.Um,cc:this.cy}}pc(c){this.YD=c.ii;this.jn=c.lfx;this.kn=c.lfy;this.qM=c.lfo;this.Yj=c.am;const e=c.en;this.lp=c.fall;this.kE=c.ft;
this.Aa=c.dx;this.ua=c.dy;this.qn=c.ms;this.Nd=c.acc;this.zr=c.dec;this.hn=c.js;this.Fa=c.g;this.TD=c.g1;this.pn=c.mf;this.Ps=c.wof;this.rM=c.woj;this.Ym=c.ga;this.Cr=c.edj;this.by=c.cdj;this.zu=c.dj;this.Wr=c.sus;this.Um=c.dc;this.cy=c.cc||0;this.tv=this.Az=this.zz=this.Xr=this.Qu=this.qz=this.Vy=!1;this.Ds=0;this.Um?this.gJ():this.yW();this.Oe(e);this.VC()}Tj(){this.Se=-1===this.qM?null:this.j.ue(this.qM);this.On=-1===this.rM?null:this.j.ue(this.rM)}VC(){this.Ce=Math.cos(this.Ym);this.De=Math.sin(this.Ym);
this.Jp=Math.cos(this.Ym-Math.PI/2);this.Kp=Math.sin(this.Ym-Math.PI/2);this.Ce=d.Ws(this.Ce);this.De=d.Ws(this.De);this.Jp=d.Ws(this.Jp);this.Kp=d.Ws(this.Kp);this.TD=this.Fa;0>this.Fa&&(this.Ce*=-1,this.De*=-1,this.Fa=Math.abs(this.Fa))}XU(){var c=this.H.C();const e=this.j.nc,h=this.H;var g=this.Se;const l=c.K(),n=c.L();c.Ld(this.Ce,this.De);c.W();if(g&&e.je(h,g)&&(!g.P().H4()||e.GB(g,h)))return c.mb(l,n),c.W(),g;{let p=e.kd(h);g=null;p||0!==this.lp||(g=e.ml(h,!0));c.mb(l,n);c.W();if(p){if(e.je(h,
p))return null;this.Fu=!1;return p}if(g&&g.length){c=0;for(let q=0,r=g.length;q<r;++q)g[c]=g[q],e.je(h,g[q])||++c;if(1<=c)return this.Fu=!0,g[0]}return null}}TB(){if(this.V){var c=this.j.ri(this.H);this.Qu||this.tv||(this.Xr=!1);var e=this.Vy||this.zz,h=this.qz||this.Az,g=this.Qu||this.tv,l=g&&!this.Xr;this.tv=this.Az=this.zz=!1;this.YD&&(l=g=h=e=!1);g||(this.Ds=0);this.Jda();var [n,,p]=this.kia(),q=this.XU(),r=q&&!this.Ps,w;[w,q]=this.Yea(q);if(!w){this.jia(q,p,n,g);l=this.Lda(q,l,g);q||this.eba(l,
g,c);this.Ps=!!q;e=this.aba(e,h,c);h=!1;g=0;0!==this.Aa&&(h=this.Kda(c,e,q,l));if(0!==this.ua){const [x,u]=this.Nda(c,q);h=h||x;g=u}!h&&r&&0>this.ua&&0<g&&(this.ua=0,h=!0);this.Ida(q,h,l);0<this.lp&&this.lp--;this.On=this.j.nc.ml(this.H)}}}Jda(){if(this.kE){var c=this.H,e=this.j.nc;(e.kd(c)||e.ml(c))&&e.Sg(c,-this.Ce,-this.De,4,!0);this.kE=!1}}kia(){var c=this.Se,e=c?c.C():null;let h=0,g=0;var l=!1;if(c&&0===this.ua&&(e.L()!==this.kn||e.K()!==this.jn)){c=this.H;l=c.C();const n=this.j.nc,p=e.K();e=
e.L();h=p-this.jn;g=e-this.kn;l.Ld(h,g);l.W();this.jn=p;this.kn=e;l=!0;n.kd(c)&&n.Sg(c,-h,-g,2.5*Math.hypot(h,g))}return[h,g,l]}Yea(c){let e=!1;var h=this.H,g=h.C();const l=this.j.nc,n=l.kd(h);if(!n)return[!1,c];const p=Math.abs(g.R());g=Math.abs(g.S());h.Ze().get("inputPredicted")?l.Sg(h,-this.Ce,-this.De,10,!1):l.fI(h,-this.Ce,-this.De,g/8)?(l.Co(h,n),this.Se=c=n,h=n.C(),this.jn=h.K(),this.kn=h.L(),this.Fu=!1):l.fI(h,this.Jp,this.Kp,p/2)||l.fI(h,this.Ce,this.De,g/2)||l.gI(h,Math.max(p,g)/2)?l.Co(h,
n):e=!0;return[e,c]}jia(c,e,h,g){const l=this.H,n=this.j.nc;if(c){g=this.Ce;const p=this.De,q=this.Jp,r=this.Kp;this.by=this.zu=!1;0<this.ua&&(this.Ps||(n.Uw(l,-g,-p,c,16),this.Ps=!0),this.ua=0);this.Se!==c?(this.Se=c,h=c.C(),this.jn=h.K(),this.kn=h.L(),n.Co(l,c)):e&&(c=n.kd(l))&&(n.Co(l,c),0!==h&&(0<h?n.Sg(l,-q,-r):n.Sg(l,q,r)),n.Sg(l,-g,-p))}else g||(this.by=!0)}Lda(c,e,h){if(c&&e||!c&&this.Cr&&h&&this.by&&!this.zu){e=this.H;h=e.C();const g=this.j.nc,l=h.K(),n=h.L();h.Ld(-this.Ce,-this.De);h.W();
g.kd(e)?e=!1:(this.Ds=this.Wr,this.la(d.O.Bb.G.D7),this.Yj="jumping",this.ua=-this.hn,e=!0,c?this.Xr=!0:this.zu=!0);h.mb(l,n);h.W()}return e}eba(c,e,h){e&&0<this.Ds?(this.ua=-this.hn,this.Ds-=h):(this.Se=null,this.ua+=this.Fa*h,this.ua>this.pn&&(this.ua=this.pn));c&&(this.Xr=!0)}aba(c,e,h){const g=this.Nd,l=this.zr;c===e&&(0>this.Aa?(this.Aa+=l*h,0<this.Aa&&(this.Aa=0)):0<this.Aa&&(this.Aa-=l*h,0>this.Aa&&(this.Aa=0)));let n=0;c&&!e&&(n=0<this.Aa?-(g+l):-g);e&&!c&&(n=0>this.Aa?g+l:g);this.Aa+=n*h;
this.Aa=d.ia(this.Aa,-this.qn,this.qn);return n}Kda(c,e,h,g){const l=this.H;var n=l.C();const p=this.j.nc,q=this.Ce,r=this.De,w=this.Jp,x=this.Kp;var u=this.qn;let t=!1;var A=n.K();let y=n.L();var C=d.ia(this.Aa*c+.5*e*c*c,-u*c,u*c)*w;const F=d.ia(this.Aa*c+.5*e*c*c,-u*c,u*c)*x;n.Ld(w*(1<this.Aa?1:-1)-q,x*(1<this.Aa?1:-1)-r);n.W();e=!1;u=p.kd(l);n.mb(A+C,y+F);n.W();let H=p.kd(l);!H&&h&&(H=p.ml(l))&&(n.mb(A,y),n.W(),p.je(l,H)?(H=null,e=!1):e=!0,n.mb(A+C,y+F),n.W());H?(C=Math.abs(this.Aa*c)+2,u||!p.Sg(l,
-q,-r,C,e,H))?(p.Co(l,H),C=Math.max(Math.abs(this.Aa*c*2.5),30),p.Sg(l,w*(0>this.Aa?1:-1),x*(0>this.Aa?1:-1),C,!1)?!h||e||this.Fu||(A=n.K(),y=n.L(),n.Ld(q,r),p.kd(l)?p.Sg(l,-q,-r,3,!1)||(n.mb(A,y),n.W()):(n.mb(A,y),n.W())):(n.mb(A,y),n.W()),e||(this.Aa=0)):!u&&!g&&Math.abs(this.ua)<Math.abs(this.hn/4)&&(this.ua=0,h||(t=!0)):(A=this.XU(),h&&!A?(c=Math.ceil(Math.abs(this.Aa*c))+2,A=n.K(),y=n.L(),n.Ld(q*c,r*c),n.W(),p.kd(l)||p.ml(l)?p.Sg(l,-q,-r,c+2,!0):(n.mb(A,y),n.W())):A&&(!h&&this.Fu&&(this.Se=A,
n=A.C(),this.jn=n.K(),this.kn=n.L(),this.ua=0,t=!0),0===this.ua&&p.Uw(l,-q,-r,A,16)));return t}Nda(c,e){const h=this.H,g=h.C(),l=this.j.nc,n=this.Ce,p=this.De;let q=!1,r=g.K(),w=g.L();const x=d.ia(this.ua*c+.5*this.Fa*c*c,-Infinity*c,this.pn*c);g.Ld(x*n,x*p);var u=g.K();const t=g.L();g.W();let A=l.kd(h);var y=!1;if(!A&&0<this.ua&&!e){if((y=0<this.lp?null:l.ml(h,!0))&&y.length){if(this.On){g.mb(r,w);g.W();e=0;for(let C=0,F=y.length;C<F;++C)y[e]=y[C],l.je(h,y[C])||++e;d.Ke(y,e);g.mb(u,t);g.W()}1<=y.length&&
(A=y[0])}y=!!A}if(A)if(l.Co(h,A),this.Ds=0,u=1.1,y&&!this.On&&(u=2),l.Sg(h,n*(0>this.ua?1:-1),p*(0>this.ua?1:-1),Math.max(Math.abs(this.ua*c*u),2),y,A)){this.Se=A;c=A.C();this.jn=c.K();this.kn=c.L();(this.Fu=y)&&(q=!0);if(0<this.ua||0===this.cy)this.ua=0;0>this.ua&&1===this.cy&&l.Uw(h,n,p,A,32)}else g.mb(r,w),g.W(),this.Ps=!0,y||(this.ua=0);return[q,x]}Ida(c,e,h){"falling"!==this.Yj&&0<this.ua&&!c&&(this.la(d.O.Bb.G.w7),this.Yj="falling");(c||e)&&0<=this.ua&&("falling"===this.Yj||e||h&&0===this.ua?
(this.la(d.O.Bb.G.F7),this.Yj=0===this.Aa&&0===this.ua?"stopped":"moving"):("stopped"!==this.Yj&&0===this.Aa&&0===this.ua&&(this.la(d.O.Bb.G.X7),this.Yj="stopped"),"moving"===this.Yj||0===this.Aa&&0===this.ua||h||(this.la(d.O.Bb.G.J7),this.Yj="moving")))}oea(){return 0!==this.Aa||0!==this.ua}uba(){if(0!==this.ua)return!1;const c=this.H;var e=this.C();const h=this.j.nc,g=e.K(),l=e.L();e.Ld(this.Ce,this.De);e.W();const n=h.kd(c);let p=null;n||0!==this.lp||(p=h.ml(c,!0));e.mb(g,l);e.W();if(n)return!h.je(c,
n);if(p&&p.length){e=0;for(let q=0,r=p.length;q<r;++q)p[e]=p[q],h.je(c,p[q])||e++;if(1<=e)return!0}return!1}fea(c){const e=this.H,h=this.C(),g=this.j.nc,l=h.K(),n=h.L();0===c?h.Ld(2*-this.Jp,2*-this.Kp):h.Ld(2*this.Jp,2*this.Kp);h.W();if(!g.kd(e))return h.mb(l,n),h.W(),!1;h.Ld(3*-this.Ce,3*-this.De);h.W();c=!!g.kd(e);h.mb(l,n);h.W();return c}Vca(){const c=this.C(),e=c.K(),h=c.L();c.Ld(this.Ce,this.De);c.W();const g=this.j.nc.ml(this.H,!1);c.mb(e,h);c.W();g&&(this.lp=3,this.Se=null)}sga(c){this.zu=
!c}br(){return Math.hypot(this.Aa,this.ua)}wda(){return Math.atan2(this.ua,this.Aa)}mea(){return 0>this.ua}jea(){return 0<this.ua}iW(c){this.qn=Math.max(c,0)}gu(c){this.Nd=Math.max(c,0)}QV(c){this.zr=Math.max(c,0)}cW(c){this.hn=Math.max(c,0)}hW(c){this.pn=Math.max(c,0)}OC(c){if(this.TD!==c){this.Fa=c;this.VC();c=this.j.nc;var e=this.C();c.kd(this.H)&&(c.Sg(this.H,this.Ce,this.De,10),e.Ld(2*this.Ce,2*this.De),e.W());this.Se=null}}sha(c){c=d.Pc(c);this.Ym!==c&&(this.Ym=c,this.VC(),this.Se=null)}TV(c){this.Cr=
!!c}dW(c){this.Wr=c}hha(c){this.cy=c}Tha(c){this.Aa=c}Uha(c){this.ua=c}bia(c){if(this.V)switch(c){case 0:this.zz=!0;break;case 1:this.Az=!0;break;case 2:this.tv=!0}}RV(c){c=!!c;this.Um!==c&&((this.Um=c)?this.gJ():(this.yW(),this.fu()))}xha(c){this.YD=!!c}Oe(c){c=!!c;this.V!==c&&((this.V=c)?this.Qx():(this.RC(),this.Se=null,this.tv=this.Az=this.zz=!1))}ec(c){switch(c){case 0:return this.qn;case 1:return this.Nd;case 2:return this.zr;case 3:return this.hn;case 4:return this.Fa;case 5:return this.pn;
case 6:return this.Cr;case 7:return 1E3*this.Wr;case 8:return this.Um;case 9:return this.V}}ye(c,e){switch(c){case 0:this.iW(e);break;case 1:this.gu(e);break;case 2:this.QV(e);break;case 3:this.cW(e);break;case 4:this.OC(e);break;case 5:this.hW(e);break;case 6:this.TV(!!e);break;case 7:this.dW(e/1E3);break;case 8:this.RV(!!e);break;case 9:this.Oe(!!e)}}$e(){return self.U4}};const f=new WeakMap;self.U4=class extends a{constructor(){super();f.set(this,a.Qj().ya)}get speed(){return f.get(this).br()}get acceleration(){return f.get(this).Nd}set acceleration(c){b.Tg(c);
f.get(this).gu(c)}get isEnabled(){return f.get(this).V}set isEnabled(c){f.get(this).Oe(!!c)}}}{"use strict";const d=self.D;d.O.Bb.G={qsa(){return this.oea()},S0(b,a){return d.compare(this.br(),b,a)},Y5(){return this.uba()},Rra(b){return this.fea(b)},hsa(){return this.mea()},asa(){return this.jea()},Zra(){return this.Cr},D7(){return!0},w7(){return!0},X7(){return!0},J7(){return!0},F7(){return!0},Hf(){return this.V}}}
{"use strict";const d=self.D;d.O.Bb.ta={hya(b){this.iW(b)},j9(b){this.gu(b)},exa(b){this.QV(b)},Ixa(b){this.cW(b)},gya(b){this.hW(b)},zI(b){this.OC(b)},I$(b){this.bia(b)},Bxa(b){this.xha(!!b)},xya(b){this.Tha(b)},yya(b){this.Uha(b)},xxa(b){this.sha(d.Ga(b))},yi(b){this.Oe(0!==b)},pqa(){this.Vca()},kxa(b){this.TV(0!==b)},Jxa(b){this.dW(b/1E3)},$wa(b){this.hha(b)},gxa(b){this.RV(b)},mwa(b){this.sga(b)}}}
{"use strict";const d=self.D;d.O.Bb.Ta={gT(){return this.br()},wta(){return this.qn},K_(){return this.Nd},rpa(){return this.zr},Osa(){return this.hn},q4(){return this.Fa},gra(){return d.yd(this.Ym)},vta(){return this.pn},Eta(){return d.yd(this.wda())},Oza(){return this.Aa},Pza(){return this.ua},Psa(){return 1E3*this.Wr}}}{"use strict";const d=self.D;d.O.Zn=class extends d.Fo{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.O.Zn.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D;d.O.Zn.Instance=class extends d.Go{constructor(b,a){super(b);this.yi(!0);a&&(this.yi(a[0]),this.St(a[1]))}B(){super.B()}yi(b){this.H.Qha(!!b)}Hf(){return this.H.YU()}St(b){const a=this.H.Ze();if(b.trim()){var f=a.get("solidTags");f||(f=new Set,a.set("solidTags",f));f.clear();for(const c of b.split(" "))c&&f.add(c.toLowerCase())}else a.delete("solidTags")}xc(){return{e:this.Hf()}}pc(b){this.yi(b.e)}ec(b){switch(b){case 0:return this.Hf()}}ye(b,a){switch(b){case 0:this.yi(a)}}}}"use strict";
self.D.O.Zn.G={Hf(){return this.Hf()}};"use strict";self.D.O.Zn.ta={yi(d){this.yi(d)},St(d){this.St(d)}};"use strict";self.D.O.Zn.Ta={};{"use strict";const d=self.D;d.O.cl=class extends d.Fo{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.O.cl.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D;d.O.cl.Instance=class extends d.Go{constructor(b,a){super(b);this.Kl=null;this.VE=-1;this.Vh="";this.ss=new Set;this.le=this.CD=this.hp=this.uu=this.vu=this.ua=this.Aa=this.hz=this.rs=this.tf=0;this.kk=!1;a&&(this.kk=a[0]);b=this.j.Mb();this.Xd=new d.Mk(d.qb.Ib(b,"instancedestroy",f=>this.dr(f.instance)),d.qb.Ib(b,"afterload",()=>this.Tj()))}B(){this.Kl=null;super.B()}Nx(b){b?(this.Kl=b,this.vW()):(this.Kl=null,this.SC())}So(b,a,f){if(b&&(b=b.Lg(this.H)))if(this.Vh=a,
this.Nx(b),a=this.H.C(),b=b.C(),"properties"===this.Vh){const c=this.ss;c.clear();for(const e of f)c.add(e);this.Aa=a.K()-b.K();this.ua=a.L()-b.L();this.hp=a.$()-b.$();this.le=a.$();this.CD=a.kb()-b.kb();c.has("x")&&c.has("y")&&(this.rs=d.Ag(b.K(),b.L(),a.K(),a.L())-b.$(),this.tf=d.yf(b.K(),b.L(),a.K(),a.L()));c.has("width-abs")?this.vu=a.R()-b.R():c.has("width-scale")&&(this.vu=a.R()/b.R());c.has("height-abs")?this.uu=a.S()-b.S():c.has("height-scale")&&(this.uu=a.S()/b.S())}else this.tf=d.yf(b.K(),
b.L(),a.K(),a.L())}xc(){const b=this.ss,a=this.Vh,f={uid:this.Kl?this.Kl.zb:-1,m:a};if("rope"===a||"bar"===a)f.pd=this.tf;else if("properties"===a){f.ps=[...this.ss];b.has("imagepoint")?f.ip=this.hz:b.has("x")&&b.has("y")?(f.pa=this.rs,f.pd=this.tf):(b.has("x")&&(f.dx=this.Aa),b.has("y")&&(f.dy=this.ua));b.has("angle")&&(f.da=this.hp,f.lka=this.le);if(b.has("width-abs")||b.has("width-scale"))f.dw=this.vu;if(b.has("height-abs")||b.has("height-scale"))f.dh=this.uu;b.has("z")&&(f.dz=this.CD)}return f}pc(b){const a=
b.m,f=this.ss;f.clear();this.VE=b.uid;if("number"===typeof a)this.Cea(b);else if(this.Vh=a,"rope"===a||"bar"===a)this.tf=b.pd;else if("properties"===a){for(const c of b.ps)f.add(c);f.has("imagepoint")?this.hz=b.ip:f.has("x")&&f.has("y")?(this.rs=b.pa,this.tf=b.pd):(f.has("x")&&(this.Aa=b.dx),f.has("y")&&(this.ua=b.dy));f.has("angle")&&(this.hp=b.da,this.le=b.lka||0);if(f.has("width-abs")||f.has("width-scale"))this.vu=b.dw;if(f.has("height-abs")||f.has("height-scale"))this.uu=b.dh;f.has("z")&&(this.CD=
b.dz)}}Cea(b){const a=this.ss,f=b.msa,c=b.tsa,e=b.pa,h=b.pd;switch(b.m){case 0:this.Vh="properties";a.add("x").add("y").add("angle");this.rs=e;this.tf=h;this.hp=f-c;this.le=b.lka;break;case 1:this.Vh="properties";a.add("x").add("y");this.rs=e;this.tf=h;break;case 2:this.Vh="properties";a.add("angle");this.hp=f-c;this.le=b.lka;break;case 3:this.Vh="rope";this.tf=b.pd;break;case 4:this.Vh="bar",this.tf=b.pd}}Tj(){-1===this.VE?this.Nx(null):(this.Nx(this.j.ue(this.VE)),this.VE=-1)}dr(b){this.Kl===b&&
(this.Nx(null),this.kk&&this.j.uj(this.H))}ox(){var b=this.Kl;if(b){var a=b.C(),f=this.H.C(),c=this.Vh,e=!1;if("rope"===c||"bar"===c){if(b=d.yf(f.K(),f.L(),a.K(),a.L()),b>this.tf||"bar"===c&&b<this.tf)e=d.Ag(a.K(),a.L(),f.K(),f.L()),f.mb(a.K()+Math.cos(e)*this.tf,a.L()+Math.sin(e)*this.tf),e=!0}else{c=this.ss;if(c.has("imagepoint")){const [h,g]=b.Pk(this.hz);f.OG(h,g)||(f.mb(h,g),e=!0)}else if(c.has("x")&&c.has("y")){b=a.K()+Math.cos(a.$()+this.rs)*this.tf;const h=a.L()+Math.sin(a.$()+this.rs)*this.tf;
f.OG(b,h)||(f.mb(b,h),e=!0)}else b=a.K()+this.Aa,c.has("x")&&b!==f.K()&&(f.og(b),e=!0),b=a.L()+this.ua,c.has("y")&&b!==f.L()&&(f.pg(b),e=!0);c.has("angle")&&(this.le!==f.$()&&(this.hp=d.Pc(this.hp+(f.$()-this.le))),b=d.Pc(a.$()+this.hp),b!==f.$()&&(f.yc(b),e=!0),this.le=f.$());c.has("width-abs")&&(b=a.R()+this.vu,b!==f.R()&&(f.Ae(b),e=!0));c.has("width-scale")&&(b=a.R()*this.vu,b!==f.R()&&(f.Ae(b),e=!0));c.has("height-abs")&&(b=a.S()+this.uu,b!==f.S()&&(f.df(b),e=!0));c.has("height-scale")&&(b=a.S()*
this.uu,b!==f.S()&&(f.df(b),e=!0));c.has("z")&&(b=a.kb()+this.CD,b!==f.kb()&&(f.ef(b),this.j.ea()))}e&&f.W()}}}}"use strict";self.D.O.cl.G={Bsa(){return!!this.Kl},fAa(){return this.kk}};"use strict";
self.D.O.cl.ta={Dua(d,b){this.So(d,0===b?"rope":"bar")},Fua(d,b,a,f,c,e,h){const g=[];b&&g.push("x");a&&g.push("y");f&&g.push("angle");h&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===e?g.push("height-abs"):2===e&&g.push("height-scale");0!==g.length&&this.So(d,"properties",g)},Eua(d,b,a,f,c,e){const h=["imagepoint"];a&&h.push("angle");e&&h.push("z");1===f?h.push("width-abs"):2===f&&h.push("width-scale");1===c?h.push("height-abs"):2===c&&h.push("height-scale");this.hz=b;this.So(d,
"properties",h)},qya(d){if("rope"===this.Vh||"bar"===this.Vh)this.tf=Math.max(d,0)},ixa(d){this.kk=d},Iza(){this.Nx(null);this.Vh="";this.ss.clear();this.hz=""},cl(d,b){switch(b){case 0:this.So(d,"properties",["x","y","angle"]);break;case 1:this.So(d,"properties",["x","y"]);break;case 2:this.So(d,"properties",["angle"]);break;case 3:this.So(d,"rope");break;case 4:this.So(d,"bar")}}};"use strict";self.D.O.cl.Ta={Gua(){return this.Kl?this.Kl.zb:-1}};
{"use strict";const d=self.D;let b=null,a=null,f=[],c=null;function e(h,g,l){var n=h.Ze();const p=g.Ze();l?((n=n.get("Physics_DisabledCollisions"))&&n.delete(g.jb),(g=p.get("Physics_DisabledCollisions"))&&g.delete(h.jb)):(l=n.get("Physics_DisabledCollisions"),l||(l=new Set,n.set("Physics_DisabledCollisions",l)),n=p.get("Physics_DisabledCollisions"),n||(n=new Set,p.set("Physics_DisabledCollisions",n)),l.add(g.jb),n.add(h.jb))}d.O.wb=class extends d.Fo{constructor(h){h.Vla=self.S4;super(h);this.xf=
null;this.RN=10;this.Ic=.02;this.GZ=null;this.hY=-1;this.pZ=1;this.DZ=8;this.LY=3;this.LW=!0;this.j.rG(this.wea())}async wea(){const h=await this.j.Kb.kB("box2d.wasm");await new Promise(g=>{self.Box2DWasmModule({wasmBinaryFile:h}).then(l=>{c=l;this.Uda();g()})})}Uda(){const h=this.j.nc;b=d.O.wb.Fq(0,0);a=d.O.wb.Fq(0,0);this.xf=new c.b2World(d.O.wb.yH(0,this.RN),!0);var g=new c.JSContactListener;g.BeginContact=l=>{var n=c.wrapPointer(l,c.b2Contact);l=d.O.wb.Instance.OB(n.GetFixtureA().GetBody());n=
d.O.wb.Instance.OB(n.GetFixtureB().GetBody());h.Co(l.H,n.H)};g.EndContact=()=>{};g.PreSolve=()=>{};g.PostSolve=()=>{};this.xf.SetContactListener(g);g=new c.JSContactFilter;g.ShouldCollide=(l,n)=>{if(this.LW)return!0;l=c.wrapPointer(l,c.b2Fixture);n=c.wrapPointer(n,c.b2Fixture);l=d.O.wb.Instance.OB(l.GetBody());n=d.O.wb.Instance.OB(n.GetBody());l=l.H.P();const p=n.H.P();n=l.jb;const q=p.jb;return(l=l.Ze().get("Physics_DisabledCollisions"))&&l.has(q)?!1:(l=p.Ze().get("Physics_DisabledCollisions"))&&
l.has(n)?!1:!0};this.xf.SetContactFilter(g);this.GZ=new c.b2WorldManifold}B(){super.B()}g3(){return c}ZS(h){this.pZ=h}S9(h){this.hY=h}y$(h){this.DZ=Math.max(h,1)}c$(h){this.LY=Math.max(h,1)}RS(h,g){this.y$(h);this.c$(g)}zI(h){h!==this.RN&&(this.xf.SetGravity(d.O.wb.yH(0,h)),this.RN=h,this.Cia())}Cia(){for(const g of this.Ca()){var h=d.O.wb.Instance.ym(g);h&&(h=h.La)&&h.SetAwake(!0)}}C1(){this.LW=!1}t9(h,g,l){l=!!l;if(h&&g){if(g.lb)for(const n of g.mp)e(h,n,l);else e(h,g,l);this.C1()}}static Fq(h,
g){if(f.length){const l=f.pop();l.set_x(h);l.set_y(g);return l}return new c.b2Vec2(h,g)}static RA(h){f.push(h)}static yH(h,g){b.set_x(h);b.set_y(g);return b}static j4(h,g){a.set_x(h);a.set_y(g);return a}static IG(h){const g=new c.b2PolygonShape,l=c._malloc(8*h.length);var n=0;for(let p=0;p<h.length;++p)c.HEAPF32[l+n>>2]=h[p].get_x(),c.HEAPF32[l+(n+4)>>2]=h[p].get_y(),n+=8;n=c.wrapPointer(l,c.b2Vec2);g.Set(n,h.length);c._free(l);return g}};self.S4=class extends self.OQ{constructor(h){super(h)}}}
{"use strict";const d=self.D;d.O.wb.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D,b=self.Ig,a=self.Jw,f=new WeakMap,c=new WeakMap,e=new WeakMap,h=d.O.wb.yH,g=d.O.wb.j4,l=d.F(d.Rect),n=d.F(d.Ad);d.O.wb.Instance=class extends d.Go{constructor(q,r){super(q);q=this.fg();const w=this.C();this.Ii=q.g3();this.xf=q.xf;this.Ic=q.Ic;this.Iy=!1;this.WW=0;this.Hp=!1;this.Ar=1;this.Ir=.5;this.xs=.2;this.ds=0;this.nr=.01;this.qp=!1;this.V=!0;this.La=null;this.Eu=[];this.Wh=[];this.Uf=[];this.up=new Set;this.Vu=w.K();this.Wu=w.L();this.le=w.$();this.eM=this.kM=0;
this.Uy=!1;r&&(this.Iy=!!r[0],this.WW=r[1],this.Hp=!!r[2],this.Ar=r[3],this.Ir=r[4],this.xs=r[5],this.ds=r[6],this.nr=r[7],this.qp=!!r[8],this.V=!!r[9]);r=this.j.Mb();this.Xd=new d.Mk(d.qb.Ib(r,"instancedestroy",x=>this.dr(x.instance)),d.qb.Ib(r,"beforeload",()=>this.eu()),d.qb.Ib(r,"afterload",()=>this.Tj()));c.set(this.H,this);this.V&&this.Pe()}SB(){this.pC()}B(){this.tC();d.I(this.Uf);this.up.clear();this.La&&(this.vJ(),this.xf.DestroyBody(this.La),this.La=null);super.B()}wx(q){this.La&&(q=this.La.CreateFixture(q),
this.Eu.push(q))}vJ(){if(this.La){for(const q of this.Eu)this.La.DestroyFixture(q);d.I(this.Eu)}}$t(){const q=this.C();return q.Pg()?(q.ew(l,n,!1),n):q.Kg()}Pj(q){this.Ii.destroy(q)}pC(){if(this.V){var q=this.Ii.b2FixtureDef,r=this.Ii.b2BodyDef,w=this.C();if(!this.La){r=new r;r.set_type(this.Iy?0:2);var x=this.$t();r.set_position(g(x.mj()*this.Ic,x.nj()*this.Ic));r.set_angle(w.$());r.set_fixedRotation(this.Hp);r.set_linearDamping(this.ds);r.set_angularDamping(this.nr);r.set_bullet(this.qp);this.La=
this.xf.CreateBody(r);this.Pj(r);f.set(this.La,this)}this.vJ();q=new q;q.set_density(this.Ar);q.set_friction(this.Ir);q.set_restitution(this.xs);r=this.WW;w.Hw()||this.H.Ej()||0!==r||(r=1);x=Math.max(Math.abs(w.R()),1);var u=Math.max(Math.abs(w.S()),1);0===r?this.H.Ej()?this.Uba(q):this.Nba(q,x,u):1===r?this.MT(q,x,u):this.Aba(q,x,u);this.kM=w.R();this.eM=w.S();w.XS(!1);this.Pj(q)}}MT(q,r,w){const x=new this.Ii.b2PolygonShape;x.SetAsBox(r*this.Ic*.5,w*this.Ic*.5);q.set_shape(x);this.wx(q);this.Pj(x)}Aba(q,
r,w){const x=new this.Ii.b2CircleShape;x.set_m_radius(Math.min(r,w)*this.Ic*.5);q.set_shape(x);this.wx(q);this.Pj(x)}Nba(q,r,w){var x=this.C(),u=0>x.R();const t=0>x.S(),A=this.Ic;var y=x.$();0!==y&&(x.yc(0),x.W());var C=this.$t();const F=C.mj()-x.K();C=C.nj()-x.L();0!==y&&(x.yc(y),x.W());y=x.k3(u?-r:r,t?-w:w).$d;const H=y.length/2;x=[];for(let J=0;J<H;++J)x.push(d.O.wb.Fq(y[2*J]-F,y[2*J+1]-C));u!==t&&x.reverse();u=d.O.wb.AS.zS(x,r*w);for(const J of x)d.O.wb.RA(J);if(u.length)for(const J of u){for(const M of J)M.set_x(M.get_x()*
A),M.set_y(M.get_y()*A);r=d.O.wb.IG(J);q.set_shape(r);this.wx(q);this.Pj(r);for(const M of J)d.O.wb.RA(M)}else this.MT(q,r,w)}Uba(q){var r=this.C(),w=this.$t();const x=w.mj()-r.K();r=w.nj()-r.L();w=this.Ic;const u=d.O.wb.Fq,t=d.O.wb.RA,A=[];this.H.ya.Oqa(A);const y=[];for(let M=0,P=A.length;M<P;++M){var C=A[M],F=C.f4(),H=C.qQ();if(H){var J=e.get(H);if(!J){J=H.$d;const S=H.CO();for(let T=0;T<S;++T)y.push(u(J[2*T],J[2*T+1]));C=C.Yqa()&3758096384;(-2147483648===C||1073741824===C||536870912===C||C&-2147483648&&
C&1073741824&&C&536870912)&&y.reverse();J=d.O.wb.AS.zS(y,F.width()*F.height());e.set(H,J);for(const T of y)t(T);d.I(y)}for(let S=0,T=J.length;S<T;++S){H=J[S];for(let V=0,ba=H.length;V<ba;++V)y.push(u((F.X+H[V].get_x()-x)*w,(F.U+H[V].get_y()-r)*w));H=d.O.wb.IG(y);q.set_shape(H);this.wx(q);this.Pj(H);for(const V of y)t(V);d.I(y)}}else y.push(u((F.X-x)*w,(F.U-r)*w)),y.push(u((F.ca-x)*w,(F.U-r)*w)),y.push(u((F.ca-x)*w,(F.ba-r)*w)),y.push(u((F.X-x)*w,(F.ba-r)*w)),F=d.O.wb.IG(y),q.set_shape(F),this.wx(q),
this.Pj(F);for(const S of y)t(S);d.I(y)}}TT(){this.La&&(this.tC(),f.delete(this.La),this.vJ(),this.xf.DestroyBody(this.La),this.La=null)}tC(){for(const q of this.Wh)this.xf.DestroyJoint(q);d.I(this.Wh)}Xfa(){for(const q of this.Uf)switch(q.type){case 0:this.WT(...q.kq);break;case 1:this.ZT(...q.kq);break;case 2:this.XT(...q.kq);break;case 3:this.YT(...q.kq)}}pl(q){var r=this.C();return-1===q?[r.K(),r.L()]:0===q&&this.La?(q=this.La.GetPosition(),r=this.La.GetLocalCenter(),[(q.get_x()+r.get_x())/this.Ic,
(q.get_y()+r.get_y())/this.Ic]):this.H.Pk(q)}Bba(q,r,w,x,u){this.V&&r&&r!==this.H&&d.O.wb.Instance.ym(r)&&(this.Uf.push({type:0,kq:[q,r.zb,w,x,u]}),this.WT(q,r.zb,w,x,u))}WT(q,r,w,x,u){if(this.V){var t=this.j.ue(r);if(t&&t!==this.H&&c.has(t)){r=d.O.wb.Instance.ym(t);r.up.add(this.H);this.Nm(!1);r.Nm(!1);var [A,y]=this.pl(q),[C,F]=t.Pk(w);q=A-C;w=y-F;t=this.Ic;var H=new this.Ii.b2DistanceJointDef;H.Initialize(this.La,r.La,h(A*t,y*t),g(C*t,F*t));H.set_length(Math.hypot(q,w)*t);H.set_dampingRatio(x);
H.set_frequencyHz(u);this.Wh.push(this.xf.CreateJoint(H));this.Pj(H)}}}Qba(q,r){this.V&&r&&r!==this.H&&d.O.wb.Instance.ym(r)&&(this.Uf.push({type:1,kq:[q,r.zb]}),this.ZT(q,r.zb))}ZT(q,r){if(this.V&&(r=this.j.ue(r))&&r!==this.H&&c.has(r)){r=d.O.wb.Instance.ym(r);r.up.add(this.H);this.Nm(!1);r.Nm(!1);var [w,x]=this.pl(q);q=this.Ic;var u=new this.Ii.b2RevoluteJointDef;u.Initialize(this.La,r.La,h(w*q,x*q));this.Wh.push(this.xf.CreateJoint(u));this.Pj(u)}}Lba(q,r,w,x){this.V&&r&&r!==this.H&&d.O.wb.Instance.ym(r)&&
(w=d.yd(w),x=d.yd(x),this.Uf.push({type:2,kq:[q,r.zb,w,x]}),this.XT(q,r.zb,w,x))}XT(q,r,w,x){if(this.V&&(r=this.j.ue(r))&&r!==this.H&&c.has(r)){r=d.O.wb.Instance.ym(r);r.up.add(this.H);this.Nm(!1);r.Nm(!1);var [u,t]=this.pl(q);q=this.Ic;var A=new this.Ii.b2RevoluteJointDef;A.Initialize(this.La,r.La,h(u*q,t*q));A.set_enableLimit(!0);A.set_lowerAngle(d.Ga(w));A.set_upperAngle(d.Ga(x));this.Wh.push(this.xf.CreateJoint(A));this.Pj(A)}}Oba(q,r,w,x,u,t,A,y,C){this.V&&r&&r!==this.H&&d.O.wb.Instance.ym(r)&&
(w=d.yd(w),y=d.yd(y),this.Uf.push({type:3,kq:[q,r.zb,w,x,u,t,A,y,C]}),this.YT(q,r.zb,w,x,u,t,A,y,C))}YT(q,r,w,x,u,t,A,y,C){if(this.V&&(r=this.j.ue(r))&&r!==this.H&&c.has(r)){r=d.O.wb.Instance.ym(r);r.up.add(this.H);this.Nm(!1);r.Nm(!1);var [F,H]=this.pl(q);w=d.Ga(w);q=Math.cos(w);w=Math.sin(w);var J=this.Ic,M=new this.Ii.b2PrismaticJointDef;M.Initialize(this.La,r.La,h(F*J,H*J),g(q,w));M.set_enableLimit(!!x);M.set_lowerTranslation(u*J);M.set_upperTranslation(t*J);M.set_enableMotor(!!A);M.set_motorSpeed(d.Ga(y));
M.set_maxMotorForce(C);this.Wh.push(this.xf.CreateJoint(M));this.Pj(M)}}kga(){this.V&&(this.tC(),d.I(this.Uf),this.up.clear())}dr(q){const r=q.zb;let w=0;for(let x=0,u=this.Uf.length;x<u;++x)this.Uf[w]=this.Uf[x],w<this.Wh.length&&(this.Wh[w]=this.Wh[x]),this.Uf[x].kq[1]===r?x<this.Wh.length&&this.xf.DestroyJoint(this.Wh[x]):++w;d.Ke(this.Uf,w);w<this.Wh.length&&d.Ke(this.Wh,w);this.up.delete(q)}static OB(q){return f.get(q)||null}static ym(q){return c.get(q)||null}xc(){const q={e:this.V,pr:this.Hp,
d:this.Ar,fr:this.Ir,re:this.xs,ld:this.ds,ad:this.nr,b:this.qp,mcj:this.Uf};if(this.V){const r=this.La.GetLinearVelocity();q.vx=r.get_x();q.vy=r.get_y();q.om=this.La.GetAngularVelocity()}return q}eu(){this.tC();d.I(this.Uf);this.up.clear()}pc(q){this.TT();this.V=q.e;this.Hp=q.pr;this.Ar=q.d;this.Ir=q.fr;this.xs=q.re;this.ds=q.ld;this.nr=q.ad;this.qp=q.b;this.Uf=q.mcj;const r=this.C();this.Vu=r.K();this.Wu=r.L();this.le=r.$();this.kM=r.R();this.eM=r.S();this.V&&(this.pC(),this.La.SetLinearVelocity(h(q.vx,
q.vy)),this.La.SetAngularVelocity(q.om),0===q.vx&&0===q.vy&&0===q.om||this.La.SetAwake(!0),this.Uf=q.mcj);this.V?this.Pe():this.Mm()}Tj(){this.V&&this.Xfa()}Md(){if(this.V){var q=this.j,r=this.fg();if(0===r.pZ)var w=q.ae/60;else w=q.ri(this.H),w>1/30&&(w=1/30);var x=q.Gn;if(x>r.hY&&0<q.ae){q=this.j.Ob;let u=0;q&&(u=performance.now());0!==w&&this.xf.Step(w,r.DZ,r.LY);this.xf.ClearForces();q&&self.Hg.Wma(performance.now()-u);r.S9(x)}this.Nm(!0)}}Nm(q){const r=this.H.C();var w=this.Ic;(r.R()!==this.kM||
r.S()!==this.eM||r.a6())&&this.pC();var x=this.La,u=r.K()!==this.Vu||r.L()!==this.Wu,t=r.$()!==this.le;if(u){var A=this.$t();const y=A.mj();A=A.nj();const C=y-this.Vu,F=A-this.Wu;t?x.SetTransform(h(y*w,A*w),r.$()):x.SetTransform(h(y*w,A*w),x.GetAngle());q&&(x.SetLinearVelocity(h(C,F)),this.Uy=!0);x.SetAwake(!0)}else q&&this.Uy&&(q=this.$t(),this.Uy=!1,x.SetLinearVelocity(h(0,0)),x.SetTransform(h(q.mj()*w,q.nj()*w),x.GetAngle()));!u&&t&&(x.SetTransform(x.GetPosition(),r.$()),x.SetAwake(!0));t=x.GetPosition();
u=t.get_x()/w;w=t.get_y()/w;x=x.GetAngle();if(u!==r.K()||w!==r.L()||x!==r.$())if(r.mb(u,w),r.yc(x),r.W(),w=this.$t(),x=w.mj()-r.K(),w=w.nj()-r.L(),0!==x||0!==w)r.Ld(-x,-w),r.W();this.Vu=r.K();this.Wu=r.L();this.le=r.$()}ec(q){switch(q){case 2:return this.Hp;case 3:return this.uU();case 4:return this.yU();case 5:return this.vU();case 6:return this.BU();case 7:return this.lU();case 8:return this.qp;case 9:return this.V}}ye(q,r){switch(q){case 2:this.kW(r);break;case 3:this.SV(r);break;case 4:this.WV(r);
break;case 5:this.VV(r);break;case 6:this.fW(r);break;case 7:this.MV(r);break;case 8:this.PV(r);break;case 9:this.Oe(r)}}Oe(q){q=!!q;this.V&&!q?(this.TT(),this.V=!1,this.Mm()):!this.V&&q&&(this.V=!0,this.pC(),this.Pe())}Yaa(q,r,w){const [x,u]=this.pl(w);this.xJ(q,r,x,u)}$aa(q,r,w,x){const [u,t]=this.pl(x);r=d.Ag(u,t,r,w);this.xJ(Math.cos(r)*q,Math.sin(r)*q,u,t)}Zaa(q,r,w){const [x,u]=this.pl(w);this.xJ(Math.cos(r)*q,Math.sin(r)*q,x,u)}xJ(q,r,w,x){if(this.V){var u=this.Ic;this.La.ApplyForce(h(q,r),
g(w*u,x*u),!0)}}bba(q,r,w){const [x,u]=this.pl(w);this.yJ(q,r,x,u)}dba(q,r,w,x){const [u,t]=this.pl(x);r=d.Ag(u,t,r,w);this.yJ(Math.cos(r)*q,Math.sin(r)*q,u,t)}cba(q,r,w){const [x,u]=this.pl(w);this.yJ(Math.cos(r)*q,Math.sin(r)*q,x,u)}yJ(q,r,w,x){if(this.V){var u=this.Ic;this.La.ApplyLinearImpulse(h(q,r),g(w*u,x*u),!0);q=this.C();this.Vu=q.K();this.Wu=q.L();this.Uy=!1}}fJ(q){this.V&&this.La.ApplyTorque(q,!0)}fba(q,r){r=d.Ye(this.C().$(),r)?-1:1;this.fJ(q*r)}gba(q,r,w){var x=this.C();r=d.Ag(x.K(),
x.L(),r,w);x=d.Ye(x.$(),r)?-1:1;this.fJ(q*x)}$ga(q){this.V&&(this.La.SetAngularVelocity(q),this.La.SetAwake(!0))}mU(){return this.V?this.La.GetAngularVelocity():0}pW(q,r){if(this.V){var w=this.Ic;this.La.SetLinearVelocity(h(q*w,r*w));this.La.SetAwake(!0);q=this.C();this.Vu=q.K();this.Wu=q.L();this.Uy=!1}}Gda(){if(!this.V)return[0,0];const q=this.Ic,r=this.La.GetLinearVelocity();return[r.get_x()/q,r.get_y()/q]}MU(){return this.V?this.La.GetLinearVelocity().get_x()/this.Ic:0}NU(){return this.V?this.La.GetLinearVelocity().get_y()/
this.Ic:0}SV(q){if(this.V&&this.Ar!==q){this.Ar=q;for(const r of this.Eu)r.SetDensity(q);this.La.ResetMassData()}}uU(){return this.V?this.Ar:0}WV(q){if(this.V&&this.Ir!==q){this.Ir=q;for(var r of this.Eu)r.SetFriction(q);for(q=this.La.GetContactList();this.Ii.getPointer(q);q=q.get_next())(r=q.get_contact())&&r.ResetFriction()}}yU(){return this.V?this.Ir:0}VV(q){if(this.V&&this.xs!==q){this.xs=q;for(const r of this.Eu)r.SetRestitution(q)}}vU(){return this.V?this.xs:0}fW(q){this.V&&this.ds!==q&&(this.ds=
q,this.La.SetLinearDamping(q))}BU(){return this.V?this.ds:0}MV(q){this.V&&this.nr!==q&&(this.nr=q,this.La.SetAngularDamping(q))}lU(){return this.V?this.nr:0}yha(q){this.V&&(q=!!q,this.Iy!==q&&(this.Iy=q,this.La.SetType(this.Iy?0:2),this.La.SetAwake(!0)))}kW(q){this.V&&(q=!!q,this.Hp!==q&&(this.Hp=q,this.La.SetFixedRotation(this.Hp),this.La.SetAngularVelocity(0),this.La.SetAwake(!0)))}PV(q){this.V&&(q=!!q,this.qp!==q&&(this.qp=q,this.La.SetBullet(this.qp),this.La.SetAwake(!0)))}DU(){return this.V?
this.La.GetMass()/this.Ic:0}nda(){return this.V?(this.La.GetPosition().get_x()+this.La.GetLocalCenter().get_x())/this.Ic:0}oda(){return this.V?(this.La.GetPosition().get_y()+this.La.GetLocalCenter().get_y())/this.Ic:0}qea(){return this.V?!this.La.IsAwake():!1}pda(){if(!this.V)return 0;let q=0;for(let w=this.La.GetContactList();this.Ii.getPointer(w);w=w.get_next()){var r=w.get_contact();r&&(r=r.GetManifold().get_pointCount(),q+=r)}return q}rU(q){q=Math.floor(q);if(!this.V)return[0,0];var r=0;for(let x=
this.La.GetContactList();this.Ii.getPointer(x);x=x.get_next()){var w=x.get_contact();if(!w)continue;const u=w.GetManifold().get_pointCount();if(q>=r&&q<r+u)return q-=r,r=this.fg().GZ,w.GetWorldManifold(r),w=r.get_points(q),[w.get_x()/this.Ic,w.get_y()/this.Ic];r+=u}return[0,0]}$e(){return self.T4}};const p=new WeakMap;self.T4=class extends a{constructor(){super();p.set(this,a.Qj().ya)}get isEnabled(){return p.get(this).V}set isEnabled(q){p.get(this).Oe(q)}setVelocity(q,r){b.Tg(q);b.Tg(r);p.get(this).pW(q,
r)}}}{"use strict";const d=self.D;d.O.wb.G={Gsa(){return this.qea()},Qoa(b,a,f){if(!this.V)return!1;if(0===b)b=this.MU();else if(1===b)b=this.NU();else{const [c,e]=this.Gda();b=Math.hypot(c,e)}return d.compare(b,a,f)},yoa(b,a){if(!this.V)return!1;const f=d.yd(this.mU());return d.compare(f,b,a)},Hoa(b,a){if(!this.V)return!1;const f=this.DU();return d.compare(f,b,a)},Hf(){return this.V}}}
{"use strict";const d=self.D;d.O.wb.ta={qna(b,a,f){this.Yaa(b,a,f)},sna(b,a,f,c){this.$aa(b,a,f,c)},rna(b,a,f){this.Zaa(b,d.Ga(a),f)},tna(b,a,f){this.bba(b,a,f)},una(b,a,f,c){this.dba(b,a,f,c)},j0(b,a,f){this.cba(b,d.Ga(a),f)},vna(b){this.fJ(d.Ga(b))},wna(b,a){this.fba(d.Ga(b),d.Ga(a))},xna(b,a,f){this.gba(d.Ga(b),a,f)},Pwa(b){this.$ga(d.Ga(b))},epa(b,a,f,c,e){a&&(a=a.Lg(this.H),this.Bba(b,a,f,c,e))},jpa(b,a){a&&(a=a.Lg(this.H),this.Qba(b,a))},gpa(b,a,f,c){a&&(a=a.Lg(this.H),this.Lba(b,a,d.Ga(f),
d.Ga(c)))},ipa(b,a,f,c,e,h,g,l,n){a&&(a=a.Lg(this.H),this.Oba(b,a,d.Ga(f),c,e,h,g,d.Ga(l),n))},yva(){this.kga()},Cya(b){this.fg().zI(b)},ZS(b){this.fg().ZS(b)},RS(b,a){this.fg().RS(b,a)},zya(b,a){this.pW(b,a)},hxa(b){this.SV(b)},vxa(b){this.WV(b)},oxa(b){this.VV(b)},aya(b){this.fW(b)},Owa(b){this.MV(b)},Hxa(b){this.yha(b)},Gpa(b,a){this.fg().t9(this.P(),b,0!==a)},sya(b){this.kW(0!==b)},Xwa(b){this.PV(0!==b)},yi(b){this.Oe(0!==b)}}}
{"use strict";const d=self.D;d.O.wb.Ta={Qza(){return this.MU()},Rza(){return this.NU()},mna(){return d.yd(this.mU())},tta(){return this.DU()},hoa(){return this.nda()},ioa(){return this.oda()},tpa(){return this.uU()},Fqa(){return this.yU()},Fpa(){return this.vU()},cta(){return this.BU()},lna(){return this.lU()},Zoa(){return this.pda()},$oa(b){return this.rU(b)[0]},apa(b){return this.rU(b)[1]}}}
{"use strict";const d=self.D,b={};d.O.wb.AS=b;const a=d.O.wb.Fq,f=d.O.wb.RA;function c(h){return a(h.get_x(),h.get_y())}b.Eka=function(h,g,l,n,p,q){return h*n+l*q+p*g-g*l-n*p-q*h};b.Xka=function(h,g,l,n,p,q,r,w){var x=l-h,u=n-g,t=r-p;const A=w-q;t=(t*(q-g)-A*(p-h))/(u*t-x*A);x=h+t*x;u=g+t*u;p=b.XF(x,u,p,q,r,w);return b.XF(l,n,h,g,x,u)&&p?a(x,u):null};b.XF=function(h,g,l,n,p,q){return(l+.1>=h&&h>=p-.1||l-.1<=h&&h<=p+.1)&&(n+.1>=g&&g>=q-.1||n-.1<=g&&g<=q+.1)&&b.gla(h,g,l,n,p,q)};b.gla=function(h,g,
l,n,p,q){return.1<Math.abs(p-l)?.1>Math.abs((q-n)/(p-l)*(h-l)+n-g):.1>Math.abs(h-l)};b.o_=function(h,g,l,n){return.1>Math.abs(l-h)&&.1>Math.abs(n-g)};b.zS=function(h,g){h=b.qka(h);let l=[];for(let n=0,p=h.length;n<p;++n){const q=h[n],r=[];let w=0;for(let x=0,u=q.length;x<u;++x){const t=q[x],A=q[(x+1)%u];w+=t.get_x()*A.get_y()-t.get_y()*A.get_x();r.push(a(t.get_x(),t.get_y()))}w=Math.abs(w/2);if(w>=.001*g)l.push(r);else for(let x=0,u=r.length;x<u;x++)f(r[x])}g=l;h=[];for(const n of g)8>=n.length?h.push(n):
h.push.apply(h,e(n));return l=h};b.qka=function(h){var g;let l;var n;let p;let q,r,w,x;let u;var t=0;let A=0,y,C=[],F=[];for(F.push(h);F.length;){h=F[0];l=h.length;y=!0;for(g=0;g<l;g++){q=g;r=g<l-1?g+1:g+1-l;var H=g<l-2?g+2:g+2-l;w=h[q];x=h[r];H=h[H];H=b.Eka(w.get_x(),w.get_y(),x.get_x(),x.get_y(),H.get_x(),H.get_y());if(0>H){y=!1;var J=1E9;for(n=0;n<l;n++)if(n!==q&&n!==r){g=n;H=n<l-1?n+1:0;var M=h[g];var P=h[H];if(M=b.Xka(w.get_x(),w.get_y(),x.get_x(),x.get_y(),M.get_x(),M.get_y(),P.get_x(),P.get_y()))P=
x.get_x()-M.get_x(),p=x.get_y()-M.get_y(),P=P*P+p*p,P<J?(A=g,t=H,u=M,J=P):f(M)}if(1E9===J)return[];n=[];J=[];g=A;H=t;M=h[g];P=h[H];t=!1;b.o_(u.get_x(),u.get_y(),P.get_x(),P.get_y())||(n.push(u),t=!0);b.o_(u.get_x(),u.get_y(),M.get_x(),M.get_y())||(J.push(u),t=!0);t||f(u);A=-1;for(t=q;;){if(t!==H)n.push(h[t]);else{if(0>A||A>=l)return[];b.XF(P.get_x(),P.get_y(),h[A].get_x(),h[A].get_y(),w.get_x(),w.get_y())||n.push(h[t]);break}A=t;0>t-1?t=l-1:t--}n.reverse();A=-1;for(t=r;;){if(t!==g)J.push(h[t]);else{if(0>
A||A>=l)return[];t!==g||b.XF(M.get_x(),M.get_y(),h[A].get_x(),h[A].get_y(),x.get_x(),x.get_y())||J.push(h[t]);break}A=t;t+1>l-1?t=0:t++}F.push(n,J);F.shift();break}}y&&C.push(F.shift())}return C};function e(h){const g=[];g.push(h.splice(0,8));const l=g[0][0];let n=g[0][7];for(;h.length;){const p=h.splice(0,Math.min(h.length,6));let q=p[p.length-1];p.push(c(l));p.push(c(n));g.push(p);n=q}return g}}{"use strict";const d=self.D;d.O.qj=class extends d.Fo{constructor(b){super(b)}B(){super.B()}}}
{"use strict";const d=self.D;d.O.qj.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D,b=self.Ig,a=self.Jw;d.O.qj.Instance=class extends d.Go{constructor(c,e){super(c);c=this.C();this.Fa=this.Nd=this.Dz=0;this.sp=this.Ml=this.bk=!1;this.V=!0;this.ua=this.Aa=0;this.Gl=c.K();this.Hl=c.L();this.le=c.$();this.Is=0;this.tF=Math.min(Math.abs(c.R()),Math.abs(c.S())/2);this.tN=!1;e&&(this.Dz=e[0],this.Nd=e[1],this.Fa=e[2],this.bk=!!e[3],this.Ml=!!e[4],this.sp=!!e[5],this.V=!!e[6]);e=c.$();this.Aa=Math.cos(e)*this.Dz;this.ua=Math.sin(e)*this.Dz;this.V&&(this.Pe(),
this.bk&&this.Qx())}B(){super.B()}xc(){const c={dx:this.Aa,dy:this.ua,lx:this.Gl,ly:this.Hl,lka:this.le,t:this.Is};0!==this.Nd&&(c.acc=this.Nd);0!==this.Fa&&(c.g=this.Fa);this.sp&&(c.st=this.sp);this.V||(c.e=this.V);this.bk&&(c.bos=this.bk);this.Ml&&(c.sa=this.Ml);return c}pc(c){this.Aa=c.dx;this.ua=c.dy;this.Gl=c.lx;this.Hl=c.ly;this.le=c.lka;this.Is=c.t;this.Nd=c.hasOwnProperty("acc")?c.acc:0;this.Fa=c.hasOwnProperty("g")?c.g:0;this.sp=c.hasOwnProperty("st")?c.st:!1;this.bk=c.hasOwnProperty("bos")?
c.bos:!1;this.Ml=c.hasOwnProperty("sa")?c.sa:!1;this.Oe(c.hasOwnProperty("e")?c.e:!0)}Md(){if(this.V){var c=this.j.ri(this.H),e=this.H.C();if(e.$()!==this.le){var h=e.$();if(this.Ml){var g=d.yf(0,0,this.Aa,this.ua);this.Aa=Math.cos(h)*g;this.ua=Math.sin(h)*g}this.le=h}h=g=0;if(0!==this.Nd){let l=d.yf(0,0,this.Aa,this.ua),n;n=0===this.Aa&&0===this.ua?e.$():d.Ag(0,0,this.Aa,this.ua);l+=this.Nd*c;g=Math.cos(n)*this.Nd;h=Math.sin(n)*this.Nd;0>l&&(h=g=l=0);this.Aa=Math.cos(n)*l;this.ua=Math.sin(n)*l}0!==
this.Fa&&(this.ua+=this.Fa*c,h+=this.Fa);this.Gl=e.K();this.Hl=e.L();if(0!==this.Aa||0!==this.ua)g=this.Aa*c+.5*g*c*c,c=this.ua*c+.5*h*c*c,h=d.yf(0,0,g,c),this.efa(g,c,h),this.Is+=h,!this.Ml||0===g&&0===c||(e.yc(d.Ag(0,0,g,c)),this.le=e.$()),e.W()}}efa(c,e,h){const g=this.C();if(!this.sp||h<=this.tF)g.Ld(c,e),g.W(),this.sp&&this.la(d.O.qj.G.bI);else{this.tN=!1;var l=g.K(),n=g.L(),p=l+c,q=n+e;e=d.Ag(0,0,c,e);c=Math.cos(e)*this.tF;e=Math.sin(e)*this.tF;h=Math.floor(h/this.tF);for(let r=1;r<=h;++r)if(g.mb(l+
c*r,n+e*r),g.W(),this.la(d.O.qj.G.bI),this.H.MH()||this.tN)return;g.mb(p,q);g.W();this.la(d.O.qj.G.bI)}}TB(){if(this.V&&this.bk&&(0!==this.Aa||0!==this.ua)){var c=this.j.ri(this.H),e=this.H.C(),h=this.j.nc,g=h.kd(this.H);if(g){h.Co(this.H,g);g=d.yf(0,0,this.Aa,this.ua);const l=h.jP(this.H,this.Gl,this.Hl);this.Aa=Math.cos(l)*g;this.ua=Math.sin(l)*g;e.Ld(this.Aa*c,this.ua*c);e.W();this.Ml&&(e.yc(l),this.le=e.$(),e.W());h.Sg(this.H,this.Aa/g,this.ua/g,Math.max(2.5*g*c,30))||h.gI(this.H,100)}}}ec(c){switch(c){case 0:return this.br();
case 1:return this.Nd;case 2:return this.Fa;case 4:return this.Ml;case 5:return this.sp;case 6:return this.V}}ye(c,e){switch(c){case 0:this.kK(e);break;case 1:this.Nd=e;break;case 2:this.Fa=e;break;case 4:this.Ml=!!e;break;case 5:this.sp=!!e;break;case 6:this.Oe(!!e)}}kK(c){const e=d.Ag(0,0,this.Aa,this.ua);this.Aa=Math.cos(e)*c;this.ua=Math.sin(e)*c}br(){return d.Ws(d.yf(0,0,this.Aa,this.ua))}gu(c){this.Nd=c}OC(c){this.Fa=c}Zga(c){const e=d.yf(0,0,this.Aa,this.ua);this.Aa=Math.cos(c)*e;this.ua=Math.sin(c)*
e}kda(){return d.Ag(0,0,this.Aa,this.ua)}fha(c){c=!!c;this.bk!==c&&(this.bk=c,this.V&&(this.bk?this.Qx():this.RC()))}nha(c){this.Is=c}Oe(c){(this.V=!!c)?(this.Pe(),this.bk&&this.Qx()):(this.Mm(),this.RC())}$e(){return self.M4}};const f=new WeakMap;self.M4=class extends a{constructor(){super();f.set(this,a.Qj().ya)}get speed(){return f.get(this).br()}set speed(c){b.Tg(c);f.get(this).kK(c)}get acceleration(){return f.get(this).Nd}set acceleration(c){b.Tg(c);f.get(this).gu(c)}get isEnabled(){return f.get(this).V}set isEnabled(c){f.get(this).Oe(c)}}}
{"use strict";const d=self.D;d.O.qj.G={S0(b,a){return d.compare(Math.sqrt(this.Aa*this.Aa+this.ua*this.ua),b,a)},Poa(b,a){return d.compare(this.Is,b,a)},bI(){return!0},Hf(){return this.V}}}
{"use strict";const d=self.D;d.O.qj.ta={uya(b){this.kK(b)},j9(b){this.gu(b)},zI(b){this.OC(b)},l9(b){this.Zga(d.Ga(b))},Qna(b){if(b&&(b=b.Lg(this.H))){var a=this.H.C(),f=this.j.nc,c=this.j.ri(this.H),e=d.yf(0,0,this.Aa,this.ua),h=f.jP(this.H,this.Gl,this.Hl,b);this.Aa=Math.cos(h)*e;this.ua=Math.sin(h)*e;a.Ld(this.Aa*c,this.ua*c);a.W();this.Ml&&(a.yc(h),this.le=a.$(),a.W());0!==e&&(this.bk?f.Sg(this.H,this.Aa/e,this.ua/e,Math.max(2.5*e*c,30))||f.gI(this.H,100):f.v8(this.H,this.Aa/e,this.ua/e,Math.max(2.5*
e*c,30),b))}},Wwa(b){this.fha(b)},jxa(b){this.nha(b)},yi(b){this.Oe(b)},Tya(){this.tN=!0}}}{"use strict";const d=self.D;d.O.qj.Ta={gT(){return this.br()},K_(){return this.Nd},kna(){return d.yd(this.kda())},ypa(){return this.Is},q4(){return this.Fa}}}{"use strict";const d=self.D;d.O.Ts=class extends d.Fo{constructor(b){super(b)}B(){super.B()}}}{"use strict";const d=self.D;d.O.Ts.Wd=class extends d.Ho{constructor(b){super(b)}B(){super.B()}Sb(){}}}
{"use strict";const d=self.D;d.O.Ts.Instance=class extends d.Go{constructor(b){super(b);this.Pe()}B(){super.B()}Md(){var b=this.H.C();const a=b.Kc();b=b.Kd();(0>a.ca||0>a.ba||a.X>b.R()||a.U>b.S())&&this.j.uj(this.H)}}}"use strict";self.D.O.Ts.G={};"use strict";self.D.O.Ts.ta={};"use strict";self.D.O.Ts.Ta={};
{const d=self.D;self.iP=function(){return[d.A.bb,d.A.Kh,d.A.Audio,d.A.gd,d.A.Keyboard,d.A.lg,d.A.Touch,d.A.gm,d.A.Vb,d.A.Ih,d.O.Vq,d.O.wj,d.A.Qg,d.O.Bb,d.O.Zn,d.O.cl,d.O.wb,d.O.qj,d.O.Ts,d.A.Ia.G.zt,d.A.Ia.G.RR,d.A.Ia.ta.x$,d.A.Ia.ta.yP,d.A.Ia.Ta.Wla,d.A.Ia.Ta.Xla,d.A.bb.ta.EI,d.A.Ia.Ta.Hla,d.A.Kh.ta.BI,d.A.Kh.Ta.bJ,d.A.Touch.G.$R,d.A.Ia.G.U0,d.A.Audio.ta.Play,d.O.Vq.ta.yi,d.O.wj.ta.S$,d.A.bb.ta.m9,d.A.Ia.G.M2,d.A.bb.ta.FI,d.A.Ia.Ta.qma,d.A.bb.Ta.t6,d.A.bb.Ta.bJ,d.A.Ia.Ta.rma,d.A.bb.Ta.NQ,d.A.Ia.Ta.pma,
d.A.Kh.ta.FI,d.A.bb.Ta.cJ,d.A.Ih.ta.FI,d.A.Ih.ta.Tt,d.A.Ia.Ta.oma,d.A.bb.ta.og,d.A.bb.G.N5,d.A.bb.G.W0,d.A.Ia.Ta.random,d.A.bb.ta.n9,d.A.Ia.G.L2,d.A.Ia.ta.b0,d.A.bb.G.CR,d.A.bb.ta.FP,d.A.Keyboard.G.NR,d.A.Touch.G.j6,d.O.Bb.ta.I$,d.A.bb.ta.N$,d.O.cl.ta.cl,d.A.Keyboard.G.eR,d.O.Bb.G.Y5,d.A.Touch.G.YR,d.A.Audio.ta.i8,d.A.Ia.Ta.PZ,d.A.bb.G.R0,d.A.bb.Ta.f0,d.A.bb.G.UQ,d.O.wb.ta.j0,d.A.bb.ta.DS,d.A.bb.G.BR,d.A.bb.G.m7,d.A.bb.ta.yc,d.A.bb.ta.X$,d.A.Kh.ta.Ae,d.A.bb.G.tP,d.A.Kh.G.V0,d.A.Vb.ta.R9,d.A.Ia.Ta.Kla,
d.A.Ia.ta.$I,d.A.Ia.ta.Tq,d.A.Ia.ta.vaa,d.A.Ia.ta.p4,d.A.Ia.Ta.Gla,d.A.bb.G.IR,d.A.bb.ta.BI,d.A.bb.ta.zc,d.A.Qg.ta.BI,d.A.Qg.ta.zc,d.A.Qg.Ta.NQ,d.A.Qg.ta.EI,d.A.Qg.Ta.bJ,d.A.bb.Ta.dJ,d.A.Qg.ta.Ae,d.A.bb.G.Z5,d.O.qj.ta.l9,d.A.Qg.G.tP,d.A.gm.ta.V_,d.A.gm.G.S2,d.A.gm.Ta.n1,d.A.Qg.ta.FP,d.A.bb.Ta.e0,d.A.Ia.ta.l$,d.A.Ia.G.Q0,d.A.Ia.Ta.fma,d.A.Audio.ta.o8,d.A.Ia.Ta.qla,d.A.Ia.Ta.pla,d.A.Ih.ta.EI,d.A.Ia.Ta.vla,d.A.Ih.G.UQ,d.A.Ia.G.UR,d.A.Ih.ta.DS,d.A.Touch.G.ZR,d.A.bb.ta.R$,d.A.Vb.ta.F0,d.A.Vb.G.LR,d.A.Vb.G.JR,
d.A.Vb.Ta.m6,d.A.Vb.G.b6,d.A.Audio.ta.B$,d.A.Ia.G.JP,d.A.bb.ta.pg,d.A.bb.ta.R6,d.A.Ia.G.faa,d.A.Ia.ta.T9,d.A.Ia.ta.U9,d.A.Ia.Ta.nla,d.A.Ia.Ta.ola,d.A.gd.ta.P8,d.A.gd.ta.A0,d.A.Ia.Ta.uma,d.A.Ia.Ta.tma,d.A.Ia.ta.V9,d.A.Ia.G.s6,d.A.Ia.ta.H$,d.A.bb.ta.No,d.A.gd.ta.N0]};self.v0=[{Dqa:0},{jra:0},{kra:0},{Fya:0},{lra:0},{mra:0},{ira:0},{Eqa:0},{Ena:0},{Bqa:0},{Gna:0},{Hna:0},{nta:0},{pta:0},{qta:0},{mta:0},{ota:0},{Audio:0},{gd:0},{Keyboard:0},{lg:0},{Touch:0},{vpa:0},{Vb:0},{ppa:0},{kqa:0},{lqa:0},{$sa:0},
{rza:0},{Gwa:0},{zpa:0},{Ima:0},{ita:0},{Kqa:0},{eua:0},{eAa:0},{tra:0},{Una:0},{Vna:0},{$na:0},{Xna:0},{Yna:0},{Zna:0},{aoa:0},{boa:0},{coa:0},{Wna:0},{Tna:0},{doa:0},{Hqa:0},{Eya:0},{Iqa:0},{wj:0},{Nna:0},{ura:0},{Mpa:0},{Kpa:0},{Cqa:0},{Lpa:0},{Jqa:0},{jza:0},{kza:0},{hza:0},{lza:0},{iza:0},{Zsa:0},{ata:0},{Bb:0},{uoa:0},{gT:0},{rqa:0},{Rsa:0},{twa:0},{roa:0},{Gya:0},{soa:0},{Oua:0},{cl:0},{Nsa:0},{wb:0},{Pua:0},{Qua:0},{Rua:0},{Sua:0},{Tua:0},{Uua:0},{Vua:0},{Wua:0},{Xua:0},{Yua:0},{Zua:0},{Zqa:0},
{fva:0},{p6:0},{Ppa:0},{Spa:0},{Vpa:0},{Ypa:0},{qj:0},{$pa:0},{bqa:0},{voa:0},{toa:0},{Npa:0},{Opa:0},{Qpa:0},{Rpa:0},{Tpa:0},{Upa:0},{Wpa:0},{Xpa:0},{Zpa:0},{aqa:0},{eoa:0},{mza:0},{upa:0},{$ua:0},{cqa:0},{Hpa:0},{Jpa:0},{Mqa:0},{dqa:0},{Ipa:0},{Ysa:0},{Fna:0},{nra:0},{npa:0},{Lqa:0},{Gqa:0},{Fwa:0},{qza:0},{dpa:0},{hra:0},{Lya:0},{mpa:0},{T2:0},{Jya:0},{Kya:0},{Fta:0},{Gta:0}]}
{const d=self.D;function b(a,f){return"string"===typeof a||"string"===typeof f?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof f?(Math.round(1E10*f)/1E10).toString():f):a&&f?1:0}self.u0=[()=>"Game_Settings",()=>"Ready",()=>0,()=>"Gui",a=>{const f=a.J(0).Pa();return()=>f()},a=>{const f=a.J(0).Pa();return()=>f()/2},a=>{const f=a.J(0).Bc;return()=>f.Ab()},a=>{const f=a.J(0).Pa();return()=>f()/4},a=>{const f=a.J(0);return()=>f.Hb()},()=>"Shadow_Out_Settings",()=>"Sound",
()=>"Play",a=>{const f=a.J(0).Bc;return()=>b("Gun_",f.Ab())+"_Walk"},a=>{const f=a.J(0).Pa(),c=a.J(1),e=a.J(2),h=a.J(3).Bc;return()=>f(c.Hb())-e.Hb()/2-h.Ab()},a=>{const f=a.J(0).Pa(),c=a.J(1),e=a.J(2),h=a.J(3).Bc;return()=>f(c.Hb())+e.Hb()/2+h.Ab()},()=>1,a=>{const f=a.J(0),c=a.J(1);return()=>f.Hb()-c.Hb()},a=>{const f=a.J(0),c=a.J(1),e=a.J(2),h=a.J(3),g=a.J(4),l=a.J(5);return()=>f.Hb()+c.Hb()/2+(e.Hb()-h.Hb()/2-(g.Hb()+l.Hb()/2))/2},a=>{const f=a.J(0).Bc;return()=>b(f.Ab(),"M")},a=>{const f=a.J(0).Pa(),
c=a.J(1),e=a.J(2),h=a.J(3).Bc;return()=>f(c.Hb())+e.Jg()/2+h.Ab()},a=>{const f=a.J(0).Pa(),c=a.J(1),e=a.J(2),h=a.J(3).Bc;return()=>f(c.Hb())-e.Jg()/2-h.Ab()},a=>{const f=a.J(0).Pa(),c=a.J(1),e=a.J(2),h=a.J(3).Bc;return()=>f(c.Hb())-1.3*e.Jg()-h.Ab()},a=>{const f=a.J(0),c=a.J(1).Bc,e=a.J(2).Bc;return()=>f.Hb()-(c.Ab()+e.Ab()/4)},a=>{const f=a.J(0),c=a.J(1).Bc;return()=>f.Hb()-c.Ab()},a=>{const f=a.J(0),c=a.J(1),e=a.J(2).Bc;return()=>f.Hb()+(c.fo()+e.Ab())},a=>{const f=a.J(0),c=a.J(1),e=a.J(2).Bc;return()=>
f.Hb()+(c.Jg()+e.Ab())},a=>{const f=a.J(0),c=a.J(1),e=a.J(2).Bc;return()=>f.Hb()-(c.fo()+e.Ab())},a=>{const f=a.J(0),c=a.J(1),e=a.J(2).Bc;return()=>f.Hb()-(c.Jg()+e.Ab())},a=>{const f=a.J(0).Bc;return()=>b("Gun_",f.Ab())+"_Death"},a=>{const f=a.J(0).Bc;return()=>b("Gun_",f.Ab())+"_Idle"},a=>{const f=a.J(0);return()=>-f.Hb()},a=>{const f=a.J(0),c=a.J(1);return()=>f.Hb()+2*c.Hb()},()=>500,()=>8,a=>{const f=a.J(0).Pa();return()=>Math.round(f(1,4))},a=>{const f=a.J(0).Bc;return()=>b("Type_",f.Ab())},
a=>{const f=a.J(0);return()=>f.Jg()},()=>1E3,()=>2,()=>10,()=>2E3,()=>3,()=>12,()=>3E3,()=>4,()=>14,()=>4E3,()=>5,()=>16,()=>6,()=>18,()=>"Score_Settings",()=>.01,()=>-5,()=>"Effects_Settings",()=>"Player_Settings",()=>"Player_Movement",a=>{const f=a.J(0).Bc;return()=>b("Gun_",f.Ab())+"_Throw_Bomb"},()=>"Background",()=>"Jet_Smoke",()=>"Player_Attack",a=>{const f=a.J(0).Bc;return()=>b("Gun_",f.Ab())+"_Get_Hit"},a=>{const f=a.J(0).Bc;return()=>b("Gun_",f.Ab())+"_Attack"},()=>.5,()=>"Midground",()=>
.3,()=>.25,()=>.2,()=>.1,()=>7,()=>9,a=>{const f=a.J(0).Bc;return()=>1/f.Ab()},a=>{const f=a.J(0).Pa();return()=>f("Throw_1","Throw_2","Throw_3")},()=>"Foreground",()=>"Bomb",a=>{const f=a.J(0).Pa(),c=a.J(1);return()=>f(c.Hb())},()=>15,a=>{const f=a.J(0).Pa();return()=>f(6,12)},()=>"Player_Get_Hit",a=>{const f=a.J(0),c=a.J(1);return()=>f.fo()*c.Jg()},a=>{const f=a.J(0),c=a.J(1);return()=>f.Jg()/100*c.Jg()},a=>{const f=a.J(0),c=a.J(1);return()=>f.Jg()*c.Jg()},()=>"Player_Death",()=>"Game_Over",a=>
{const f=a.J(0).Pa();return()=>f()+"Top_Score"},()=>"Shadow_In_Settings",()=>"Shadow_In",()=>"Enemies_Settings",()=>"Enemies_Spawn",a=>{const f=a.J(0).Pa(),c=a.J(1).Bc;return()=>f(2,3)-c.Ab()/10},a=>{const f=a.J(0).Pa();return()=>Math.round(f(1,10))},a=>{const f=a.J(0).Pa();return()=>1.5*f()},a=>{const f=a.J(0).Pa(),c=a.J(1).Pa(),e=a.J(2).Pa();return()=>f(c()/3,e()/2)},()=>"Walk",()=>"Collision",a=>{const f=a.J(0);return()=>f.fo()},a=>{const f=a.J(0),c=a.J(1),e=a.J(2);return()=>f.fo()/c.fo()+2*e.Jg()},
a=>{const f=a.J(0),c=a.J(1);return()=>f.Hb()+2*c.Jg()},a=>{const f=a.J(0),c=a.J(1),e=a.J(2);return()=>f.Hb()-(c.Hb()/2+e.Jg())},a=>{const f=a.J(0),c=a.J(1),e=a.J(2);return()=>f.Hb()-(c.Hb()+e.Hb()/5)},a=>{const f=a.J(0),c=a.J(1);return()=>f.fo()/c.fo()},a=>{const f=a.J(0),c=a.J(1);return()=>f.Hb()-c.Hb()/2},()=>"Enemies_Movement",()=>"Idle",()=>"Attack",()=>"Get_Electric",()=>"Get_Freeze",()=>"Get_Hit",()=>"Death",()=>"Enemies_Attack",a=>{const f=a.J(0).Pa();return()=>f(1,1.5)},a=>{const f=a.J(0).Pa();
return()=>f(1,2)},()=>17,a=>{const f=a.J(0).Pa(),c=a.J(1),e=a.J(2);return()=>f(c.Hb())-e.Hb()},()=>"Enemies_Get_Hit",()=>"Enemies_Death",()=>"Kill_Enemy",a=>{const f=a.J(0).Pa();return()=>-f()/2},()=>"Objects_Settings",a=>{const f=a.J(0).Pa();return()=>f(6,10)},a=>{const f=a.J(0).Pa();return()=>Math.round(f(1,3))},a=>{const f=a.J(0);return()=>1+f.Hb()},()=>100,()=>"Loading_Settings",a=>{const f=a.J(0).Pa();return()=>f()/2-40},a=>{const f=a.J(0).Pa();return()=>f(0)-310},()=>"Button_Start",a=>{const f=
a.J(0).Pa();return()=>-f()},a=>{const f=a.J(0).Pa();return()=>Math.round(100*f())},()=>99,a=>{const f=a.J(0).Pa();return()=>b("Loading-",Math.round(100*f()))+"%"},()=>"Loading-100%",a=>{const f=a.J(0).Pa();return()=>f(0)-120},()=>"Music",()=>"Global_Settings",a=>{const f=a.J(0).Bc;return()=>b("TOP SCORE:",f.Ab())},()=>"Audio_Settings",a=>{const f=a.J(0).Pa();return()=>f()+"Music_Status"},a=>{const f=a.J(0).Pa();return()=>f()+"Sound"},a=>{const f=a.J(0).Pa();return()=>f()+"Music"},a=>{const f=a.J(0).Pa();
return()=>f()+"Sound_Status"},()=>-100,()=>"Button_Main",()=>"Pause_Settings",()=>"Show_Pause_Settings",()=>"Hide_Pause_Settings",()=>"Button_Pause",()=>"Show_Pause",()=>"Pause",a=>{const f=a.J(0).Pa();return()=>f()-80},a=>{const f=a.J(0).Pa();return()=>f()-280},a=>{const f=a.J(0).Pa();return()=>f()+80},a=>{const f=a.J(0).Pa();return()=>f()-140},a=>{const f=a.J(0).Pa();return()=>f()+140},a=>{const f=a.J(0).Pa();return()=>f()+280},()=>"Button_Return",()=>"Hide_Pause",()=>1.5,()=>.03,a=>{const f=a.J(0).Pa();
return()=>d.Qc(f("Pause"),100,.25)},a=>{const f=a.J(0).Pa();return()=>d.Qc(f("Pause"),1,.25)},a=>{const f=a.J(0).Pa();return()=>d.Qc(f("Pause"),0,.25)},a=>{const f=a.J(0).Pa();return()=>d.Qc(f("Pause"),1.5,.25)},()=>"Fullscreen_Settings",()=>"Orientation_Settings",()=>"Orientation",()=>"Please set your device to landscape orientation to play this game properly!",()=>"Shadow_Settings",()=>"Shadow",a=>{const f=a.J(0).Pa();return()=>f("Shadow")+6},a=>{const f=a.J(0).Pa();return()=>f("Shadow")-6},()=>
"Shadow_Out",()=>"Buttons_Animation_Settings",()=>.9,()=>"Main_Settings",a=>{const f=a.J(0).Pa();return()=>f(0)+240},a=>{const f=a.J(0).Pa();return()=>f()/2+100},a=>{const f=a.J(0).Pa();return()=>f(0)-70},a=>{const f=a.J(0).Pa();return()=>f(0)+70},a=>{const f=a.J(0).Pa();return()=>f(0)+200},a=>{const f=a.J(0).Pa();return()=>f(0)-200},()=>"Button_Play",()=>"Button_Exit",()=>"Game_Complete_Settings",a=>{const f=a.J(0).Pa();return()=>f()/2-30}]};
